const a156_0x4999=['toFixed','\x20/\x20','guilds','reactions','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','embeds','guild','fetch','POLL\x20ENDED','filter','find','constructor','channels','Ended','title','readyTimestamp','compile','users','COLORS','push','cache','return\x20/\x22\x20+\x20this\x20+\x20\x22/','deleteMany','name','fields','slice','_id','get','default','channel','0\x20*/15\x20*\x20*\x20*\x20*','messages','polls','exports','Constants','has','edit','\x20votes\x20(','catch','tesseract','then','value','bot','length','size','SOMEWHAT_DARK','map','client'];(function(_0x22a3b8,_0x4999b1){const _0x401ff9=function(_0x4ec1da){while(--_0x4ec1da){_0x22a3b8['push'](_0x22a3b8['shift']());}};const _0x442c77=function(){const _0x36bc90={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x24ea23,_0xbcbda6,_0x503c32,_0x1f027f){_0x1f027f=_0x1f027f||{};let _0x59ebd9=_0xbcbda6+'='+_0x503c32;let _0x36e84d=0x0;for(let _0x5a5f8b=0x0,_0x350e99=_0x24ea23['length'];_0x5a5f8b<_0x350e99;_0x5a5f8b++){const _0x24c4c6=_0x24ea23[_0x5a5f8b];_0x59ebd9+=';\x20'+_0x24c4c6;const _0x4cbd4a=_0x24ea23[_0x24c4c6];_0x24ea23['push'](_0x4cbd4a);_0x350e99=_0x24ea23['length'];if(_0x4cbd4a!==!![]){_0x59ebd9+='='+_0x4cbd4a;}}_0x1f027f['cookie']=_0x59ebd9;},'removeCookie':function(){return'dev';},'getCookie':function(_0x6285e3,_0xadbb60){_0x6285e3=_0x6285e3||function(_0x2e74f2){return _0x2e74f2;};const _0x4dd035=_0x6285e3(new RegExp('(?:^|;\x20)'+_0xadbb60['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0xa22c3e=function(_0x92c67e,_0x2f4181){_0x92c67e(++_0x2f4181);};_0xa22c3e(_0x401ff9,_0x4999b1);return _0x4dd035?decodeURIComponent(_0x4dd035[0x1]):undefined;}};const _0x59a8e3=function(){const _0x2fc707=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2fc707['test'](_0x36bc90['removeCookie']['toString']());};_0x36bc90['updateCookie']=_0x59a8e3;let _0x1c9cc7='';const _0x1e0900=_0x36bc90['updateCookie']();if(!_0x1e0900){_0x36bc90['setCookie'](['*'],'counter',0x1);}else if(_0x1e0900){_0x1c9cc7=_0x36bc90['getCookie'](null,'counter');}else{_0x36bc90['removeCookie']();}};_0x442c77();}(a156_0x4999,0xf5));const a156_0x401f=function(_0x22a3b8,_0x4999b1){_0x22a3b8=_0x22a3b8-0x0;let _0x401ff9=a156_0x4999[_0x22a3b8];return _0x401ff9;};const a156_0x36bc90=function(){let _0x45ccfe=!![];return function(_0x25491b,_0xecfc0d){const _0x8841c4=_0x45ccfe?function(){if(_0xecfc0d){const _0x4f09d9=_0xecfc0d['apply'](_0x25491b,arguments);_0xecfc0d=null;return _0x4f09d9;}}:function(){};_0x45ccfe=![];return _0x8841c4;};}();const a156_0x4ec1da=a156_0x36bc90(this,function(){const _0x4d1915=function(){const _0x43837b=_0x4d1915[a156_0x401f('0x6')](a156_0x401f('0x10'))()[a156_0x401f('0xb')](a156_0x401f('0x2f'));return!_0x43837b['test'](a156_0x4ec1da);};return _0x4d1915();});a156_0x4ec1da();'use strict';const tesseract_1=require(a156_0x401f('0x22'));const Poll_1=require('../models/Poll');module[a156_0x401f('0x1c')]=class PollScheduler extends tesseract_1['Scheduler']{constructor(){super(a156_0x401f('0x1b'),{'cronTime':a156_0x401f('0x19')});this['exec']=async()=>{if(!this[a156_0x401f('0x2a')][a156_0x401f('0xa')])return;if(!this['client'][a156_0x401f('0x2d')][a156_0x401f('0xf')][a156_0x401f('0x27')])return;const _0x2fd583=await Poll_1[a156_0x401f('0x17')][a156_0x401f('0x5')]({'$or':this[a156_0x401f('0x2a')][a156_0x401f('0x2d')][a156_0x401f('0xf')][a156_0x401f('0x29')](_0x11255c=>({'guild':_0x11255c['id']})),'ends':{'$lte':new Date()}});const _0x442caf=[];for(const _0x36b976 of _0x2fd583){const _0x3b85cb=this[a156_0x401f('0x2a')][a156_0x401f('0x2d')][a156_0x401f('0xf')]['get'](_0x36b976[a156_0x401f('0x1')]);if(_0x3b85cb[a156_0x401f('0x7')]['cache'][a156_0x401f('0x1e')](_0x36b976['channel'])){const _0x3ea71e=_0x3b85cb[a156_0x401f('0x7')][a156_0x401f('0xf')]['get'](_0x36b976[a156_0x401f('0x18')]);const _0x3e00e3=await _0x3ea71e[a156_0x401f('0x1a')][a156_0x401f('0x2')](_0x36b976[a156_0x401f('0x15')])[a156_0x401f('0x21')](()=>{});if(!_0x3e00e3)continue;const _0x265c51=_0x3e00e3[a156_0x401f('0x0')][0x0][a156_0x401f('0x13')][a156_0x401f('0x29')](_0x54e600=>_0x54e600['value']);const _0x1adaee=['ðŸ‡¦','ðŸ‡§','ðŸ‡¨','ðŸ‡©','ðŸ‡ª','ðŸ‡«','ðŸ‡¬','ðŸ‡­','ðŸ‡®','ðŸ‡¯','ðŸ‡°','ðŸ‡±','ðŸ‡²'];const _0x29579b={};let _0x2cbcc3=0x0;for(const _0x4f1e54 in _0x1adaee[a156_0x401f('0x14')](0x0,_0x265c51['length'])){if(_0x3e00e3[a156_0x401f('0x2e')][a156_0x401f('0xf')][a156_0x401f('0x1e')](_0x1adaee[_0x4f1e54])){await _0x3e00e3[a156_0x401f('0x2e')][a156_0x401f('0xf')][a156_0x401f('0x16')](_0x1adaee[_0x4f1e54])[a156_0x401f('0xc')][a156_0x401f('0x2')]()[a156_0x401f('0x21')](()=>{});const _0x38a129=_0x3e00e3[a156_0x401f('0x2e')][a156_0x401f('0xf')][a156_0x401f('0x16')](_0x1adaee[_0x4f1e54])[a156_0x401f('0xc')]['cache'][a156_0x401f('0x4')](_0xe605f1=>!_0xe605f1[a156_0x401f('0x25')])[a156_0x401f('0x27')];_0x29579b[_0x1adaee[_0x4f1e54]]=_0x38a129;_0x2cbcc3+=_0x38a129;}}await _0x3e00e3[a156_0x401f('0x1f')]({'embed':{'color':tesseract_1[a156_0x401f('0x1d')][a156_0x401f('0xd')][a156_0x401f('0x28')],'author':{'name':a156_0x401f('0x3')},'title':_0x3e00e3[a156_0x401f('0x0')][0x0][a156_0x401f('0x9')],'fields':_0x3e00e3[a156_0x401f('0x0')][0x0][a156_0x401f('0x13')][a156_0x401f('0x29')](_0xaa1dec=>({'name':_0xaa1dec[a156_0x401f('0x12')]+'\x20'+_0xaa1dec[a156_0x401f('0x24')],'value':(_0x29579b[_0xaa1dec[a156_0x401f('0x12')]]||0x0)+a156_0x401f('0x2c')+_0x2cbcc3+a156_0x401f('0x20')+(_0x29579b[_0xaa1dec[a156_0x401f('0x12')]]?_0x29579b[_0xaa1dec[a156_0x401f('0x12')]]/_0x2cbcc3*0x64:0x0)[a156_0x401f('0x2b')](0x2)+'%)'})),'footer':{'text':a156_0x401f('0x8')},'timestamp':new Date()}})[a156_0x401f('0x23')](()=>{_0x442caf[a156_0x401f('0xe')](_0x3e00e3['id']);})['catch'](()=>{});}}if(_0x442caf[a156_0x401f('0x26')]){await Poll_1['default'][a156_0x401f('0x11')]({'$or':_0x442caf[a156_0x401f('0x29')](_0x5778ae=>({'_id':_0x5778ae}))})['catch'](()=>{});}};}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvbGxzLmpzIl0sIm5hbWVzIjpbInRlc3NlcmFjdF8xIiwicmVxdWlyZSIsIlBvbGxfMSIsIm1vZHVsZSIsIlBvbGxTY2hlZHVsZXIiLCJjb25zdHJ1Y3RvciIsIl8weDJmZDU4MyIsIl8weDExMjU1YyIsIkRhdGUiLCJfMHg0NDJjYWYiLCJfMHgzNmI5NzYiLCJfMHgzYjg1Y2IiLCJfMHgzZWE3MWUiLCJfMHgzZTAwZTMiLCJfMHgyNjVjNTEiLCJfMHg1NGU2MDAiLCJfMHgxYWRhZWUiLCJfMHgyOTU3OWIiLCJfMHgyY2JjYzMiLCJfMHg0ZjFlNTQiLCJfMHgzOGExMjkiLCJfMHhlNjA1ZjEiLCJfMHhhYTFkZWMiLCJfMHg1Nzc4YWUiXSwibWFwcGluZ3MiOiJveEZBQUEsYUFLQSxNQUFNQSxXQUFBLENBQWNDLE9BQUEsQyxtQkFBQSxDQUFwQixDQUNBLE1BQU1DLE1BQUEsQ0FBU0QsT0FBQSxDLGdCQUFBLENBQWYsQ0FDQUUsTUFBQSxDLG1CQUFBLEVBQWlCLE1BQU1DLGFBQU4sU0FBNEJKLFdBQUEsQyxXQUFBLENBQXNCLENBQy9ESyxXQUFBLEVBQWMsQ0FDVixNLG1CQUFBLENBQWUsQyxVQUNYLEMsbUJBRFcsQ0FBZixFQUdBLEssTUFBQSxFQUFZLFNBQVksQ0FDcEIsR0FBSSxDQUFDLEssbUJBQUEsRSxrQkFBQSxDQUFMLENBQ0ksT0FDSixHQUFJLENBQUMsSyxRQUFBLEUsbUJBQUEsRSxrQkFBQSxFLG1CQUFBLENBQUwsQ0FDSSxPQUNKLE1BQU1DLFNBQUEsQ0FBZ0IsTUFBTUosTUFBQSxDLG1CQUFBLEUsa0JBQUEsRUFBb0IsQyxLQUM1QyxDQUFLLEssbUJBQUEsRSxtQkFBQSxFLGtCQUFBLEUsbUJBQUEsRUFBNkJLLFNBQUEsR0FBTSxDLE9BQUUsQ0FBT0EsU0FBQSxDLElBQUEsQ0FBVCxDQUFOLENBQTdCLENBRHVDLEMsTUFFNUMsQ0FBTSxDLE1BQ0YsQ0FBTSxJQUFJQyxJQUFKLEVBREosQ0FGc0MsQ0FBcEIsQ0FBNUIsQ0FNQSxNQUFNQyxT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QUosRUFiUixDQURZLENBQWpCLEUsbUJBQUEsRUFnQkUsSUFBTSxDQUNWQyxTQUFBLEMsa0JBQUEsRUFBZUksU0FBQSxDLElBQUEsQ0FBZixFQURVLENBaEJSLEUsT0FBQSxFQWtCRyxJQUFNLEVBbEJULENBQU4sQ0FuQmdELENBRmQsQ0EyQzFDLEdBQUlKLFNBQUEsQyxtQkFBQSxDQUFKLENBQXNCLENBQ2xCLE1BQU1QLE1BQUEsQyxTQUFBLEUsbUJBQUEsRUFBMEIsQyxLQUM1QixDQUFLTyxTQUFBLEMsbUJBQUEsRUFBY2MsU0FBQSxHQUFPLEMsS0FBRSxDQUFLQSxTQUFQLENBQVAsQ0FBZCxDQUR1QixDQUExQixFLE9BQUEsRUFFRyxJQUFNLEVBRlQsQ0FBTixDQURrQixDQXZERixDQUF4QixDQUpVLENBRGlELENBQW5FIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiFcbiAqIEBhdXRob3IgU2Fua2Fyc2FuIEthbXBhIChrM3JuMzFwNG5pYylcbiAqIEBjb3B5cmlnaHQgMjAyMCAtIFRoZSBCYXN0aW9uIEJvdCBQcm9qZWN0XG4gKi9cbmNvbnN0IHRlc3NlcmFjdF8xID0gcmVxdWlyZShcInRlc3NlcmFjdFwiKTtcbmNvbnN0IFBvbGxfMSA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvUG9sbFwiKTtcbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgUG9sbFNjaGVkdWxlciBleHRlbmRzIHRlc3NlcmFjdF8xLlNjaGVkdWxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwicG9sbHNcIiwge1xuICAgICAgICAgICAgY3JvblRpbWU6IFwiMCAqLzE1ICogKiAqICpcIixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXhlYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jbGllbnQucmVhZHlUaW1lc3RhbXApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNsaWVudC5ndWlsZHMuY2FjaGUuc2l6ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwb2xsRG9jdW1lbnRzID0gYXdhaXQgUG9sbF8xLmRlZmF1bHQuZmluZCh7XG4gICAgICAgICAgICAgICAgJG9yOiB0aGlzLmNsaWVudC5ndWlsZHMuY2FjaGUubWFwKGcgPT4gKHsgZ3VpbGQ6IGcuaWQgfSkpLFxuICAgICAgICAgICAgICAgIGVuZHM6IHtcbiAgICAgICAgICAgICAgICAgICAgJGx0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWQgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcG9sbERvY3VtZW50IG9mIHBvbGxEb2N1bWVudHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBndWlsZCA9IHRoaXMuY2xpZW50Lmd1aWxkcy5jYWNoZS5nZXQocG9sbERvY3VtZW50Lmd1aWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoZ3VpbGQuY2hhbm5lbHMuY2FjaGUuaGFzKHBvbGxEb2N1bWVudC5jaGFubmVsKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsID0gZ3VpbGQuY2hhbm5lbHMuY2FjaGUuZ2V0KHBvbGxEb2N1bWVudC5jaGFubmVsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9sbE1lc3NhZ2UgPSBhd2FpdCBjaGFubmVsLm1lc3NhZ2VzLmZldGNoKHBvbGxEb2N1bWVudC5faWQpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcG9sbE1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHBvbGxNZXNzYWdlLmVtYmVkc1swXS5maWVsZHMubWFwKGYgPT4gZi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWN0aW9ucyA9IFtcIvCfh6ZcIiwgXCLwn4enXCIsIFwi8J+HqFwiLCBcIvCfh6lcIiwgXCLwn4eqXCIsIFwi8J+Hq1wiLCBcIvCfh6xcIiwgXCLwn4etXCIsIFwi8J+HrlwiLCBcIvCfh69cIiwgXCLwn4ewXCIsIFwi8J+HsVwiLCBcIvCfh7JcIl07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZvdGVzID0ge307XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbFZvdGVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVhY3Rpb25zLnNsaWNlKDAsIG9wdGlvbnMubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvbGxNZXNzYWdlLnJlYWN0aW9ucy5jYWNoZS5oYXMocmVhY3Rpb25zW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcG9sbE1lc3NhZ2UucmVhY3Rpb25zLmNhY2hlLmdldChyZWFjdGlvbnNba2V5XSkudXNlcnMuZmV0Y2goKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgdm90ZXNDb3VudCA9IHBvbGxNZXNzYWdlLnJlYWN0aW9ucy5jYWNoZS5nZXQocmVhY3Rpb25zW2tleV0pLnVzZXJzLmNhY2hlLmZpbHRlcih1ID0+ICF1LmJvdCkuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b3Rlc1tyZWFjdGlvbnNba2V5XV0gPSB2b3Rlc0NvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVm90ZXMgKz0gdm90ZXNDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwb2xsTWVzc2FnZS5lZGl0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRlc3NlcmFjdF8xLkNvbnN0YW50cy5DT0xPUlMuU09NRVdIQVRfREFSSyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJQT0xMIEVOREVEXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogcG9sbE1lc3NhZ2UuZW1iZWRzWzBdLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogcG9sbE1lc3NhZ2UuZW1iZWRzWzBdLmZpZWxkcy5tYXAoZiA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmLm5hbWUgKyBcIiBcIiArIGYudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAodm90ZXNbZi5uYW1lXSB8fCAwKSArIFwiIC8gXCIgKyB0b3RhbFZvdGVzICsgXCIgdm90ZXMgKFwiICsgKHZvdGVzW2YubmFtZV0gPyB2b3Rlc1tmLm5hbWVdIC8gdG90YWxWb3RlcyAqIDEwMCA6IDApLnRvRml4ZWQoMikgKyBcIiUpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvb3Rlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIkVuZGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkLnB1c2gocG9sbE1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wbGV0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgUG9sbF8xLmRlZmF1bHQuZGVsZXRlTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICRvcjogY29tcGxldGVkLm1hcChpZCA9PiAoeyBfaWQ6IGlkIH0pKSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTsiXX0=