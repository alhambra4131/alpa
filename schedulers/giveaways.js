const a154_0x3ae9=['The\x20following\x20users\x20have\x20won\x20the\x20giveaway\x20and\x20will\x20be\x20contacted\x20soon\x20for\x20their\x20rewards.\x0aThank\x20you\x20everyone\x20for\x20participating.\x20Better\x20luck\x20next\x20time.','has','length','client','channels','catch','then','winners','Congratulations','RED','SOMEWHAT_DARK','exec','tesseract','return\x20/\x22\x20+\x20this\x20+\x20\x22/','guild','Scheduler','get','deleteMany','reactions','readyTimestamp','push','bot','fetch','GIVEAWAY\x20ENDED','Unfortunately,\x20no\x20one\x20participated\x20in\x20this\x20giveaway\x20and\x20therfore\x20there\x20aren\x27t\x20any\x20winners\x20this\x20time.','_id','embeds','apply','guilds','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','COLORS','join','Constants','cache','edit','compile','default','title','0\x20*/15\x20*\x20*\x20*\x20*','users','map','../models/Giveaway','exports','channel','find'];(function(_0x1091cc,_0x3ae9c8){const _0x4caf4d=function(_0x1de521){while(--_0x1de521){_0x1091cc['push'](_0x1091cc['shift']());}};const _0xea276=function(){const _0x5644f2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x293e21,_0x1090f4,_0x5aab4c,_0xb1c702){_0xb1c702=_0xb1c702||{};let _0x11f6e7=_0x1090f4+'='+_0x5aab4c;let _0x23aef0=0x0;for(let _0x2580bb=0x0,_0x4b4e57=_0x293e21['length'];_0x2580bb<_0x4b4e57;_0x2580bb++){const _0x1ea9f1=_0x293e21[_0x2580bb];_0x11f6e7+=';\x20'+_0x1ea9f1;const _0x152982=_0x293e21[_0x1ea9f1];_0x293e21['push'](_0x152982);_0x4b4e57=_0x293e21['length'];if(_0x152982!==!![]){_0x11f6e7+='='+_0x152982;}}_0xb1c702['cookie']=_0x11f6e7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x10074e,_0x1b7678){_0x10074e=_0x10074e||function(_0x35a4cf){return _0x35a4cf;};const _0x1ca1e4=_0x10074e(new RegExp('(?:^|;\x20)'+_0x1b7678['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5a4201=function(_0x597624,_0x2cb8ab){_0x597624(++_0x2cb8ab);};_0x5a4201(_0x4caf4d,_0x3ae9c8);return _0x1ca1e4?decodeURIComponent(_0x1ca1e4[0x1]):undefined;}};const _0x2769fb=function(){const _0x272c2e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x272c2e['test'](_0x5644f2['removeCookie']['toString']());};_0x5644f2['updateCookie']=_0x2769fb;let _0x49eb71='';const _0xd816b3=_0x5644f2['updateCookie']();if(!_0xd816b3){_0x5644f2['setCookie'](['*'],'counter',0x1);}else if(_0xd816b3){_0x49eb71=_0x5644f2['getCookie'](null,'counter');}else{_0x5644f2['removeCookie']();}};_0xea276();}(a154_0x3ae9,0x68));const a154_0x4caf=function(_0x1091cc,_0x3ae9c8){_0x1091cc=_0x1091cc-0x0;let _0x4caf4d=a154_0x3ae9[_0x1091cc];return _0x4caf4d;};const a154_0x5644f2=function(){let _0x13927d=!![];return function(_0x324fd2,_0x9c6f1){const _0x16630f=_0x13927d?function(){if(_0x9c6f1){const _0x448308=_0x9c6f1[a154_0x4caf('0xd')](_0x324fd2,arguments);_0x9c6f1=null;return _0x448308;}}:function(){};_0x13927d=![];return _0x16630f;};}();const a154_0x1de521=a154_0x5644f2(this,function(){const _0x574fb5=function(){const _0x1f1a0f=_0x574fb5['constructor'](a154_0x4caf('0x2c'))()[a154_0x4caf('0x15')](a154_0x4caf('0xf'));return!_0x1f1a0f['test'](a154_0x1de521);};return _0x574fb5();});a154_0x1de521();'use strict';const tesseract_1=require(a154_0x4caf('0x2b'));const Giveaway_1=require(a154_0x4caf('0x1b'));module[a154_0x4caf('0x1c')]=class GiveawayScheduler extends tesseract_1[a154_0x4caf('0x1')]{constructor(){super('giveaways',{'cronTime':a154_0x4caf('0x18')});this[a154_0x4caf('0x2a')]=async()=>{if(!this[a154_0x4caf('0x22')][a154_0x4caf('0x5')])return;if(!this[a154_0x4caf('0x22')]['guilds'][a154_0x4caf('0x13')]['size'])return;const _0x3056ca=await Giveaway_1[a154_0x4caf('0x16')][a154_0x4caf('0x1e')]({'$or':this[a154_0x4caf('0x22')][a154_0x4caf('0xe')][a154_0x4caf('0x13')][a154_0x4caf('0x1a')](_0xa85b0f=>({'guild':_0xa85b0f['id']})),'ends':{'$lte':new Date()}});const _0x3c9446=[];for(const _0x5ef653 of _0x3056ca){const _0x57cb73=this['client'][a154_0x4caf('0xe')]['cache'][a154_0x4caf('0x2')](_0x5ef653[a154_0x4caf('0x0')]);if(_0x57cb73['channels'][a154_0x4caf('0x13')][a154_0x4caf('0x20')](_0x5ef653[a154_0x4caf('0x1d')])){const _0x11f705=_0x57cb73[a154_0x4caf('0x23')]['cache'][a154_0x4caf('0x2')](_0x5ef653['channel']);const _0x2f3df1=await _0x11f705['messages'][a154_0x4caf('0x8')](_0x5ef653[a154_0x4caf('0xb')])[a154_0x4caf('0x24')](()=>{});if(!_0x2f3df1)continue;let _0x11542f=[];for(const _0x2445fa of['ðŸŽŠ','ðŸŽ‰']){if(_0x2f3df1['reactions'][a154_0x4caf('0x13')][a154_0x4caf('0x20')](_0x2445fa)){await _0x2f3df1[a154_0x4caf('0x4')][a154_0x4caf('0x13')]['get'](_0x2445fa)[a154_0x4caf('0x19')]['fetch']()[a154_0x4caf('0x24')](()=>{});_0x11542f[a154_0x4caf('0x6')](..._0x2f3df1[a154_0x4caf('0x4')][a154_0x4caf('0x13')]['get'](_0x2445fa)[a154_0x4caf('0x19')][a154_0x4caf('0x13')]['filter'](_0x384362=>!_0x384362[a154_0x4caf('0x7')])['values']());}}const _0x22f104=[];for(let _0x53de50=0x0;_0x53de50<(_0x5ef653[a154_0x4caf('0x26')]||0x1);_0x53de50++){if(!_0x11542f[a154_0x4caf('0x21')])break;const _0x2b1abe=_0x11542f[Math['floor'](Math['random']()*_0x11542f['length'])];_0x22f104['push'](_0x2b1abe);_0x11542f=_0x11542f['filter'](_0x2928de=>_0x2928de['id']!==_0x2b1abe['id']);}if(_0x22f104[a154_0x4caf('0x21')]){await _0x2f3df1[a154_0x4caf('0x14')]({'embed':{'color':tesseract_1[a154_0x4caf('0x12')][a154_0x4caf('0x10')][a154_0x4caf('0x29')],'author':{'name':'GIVEAWAY\x20ENDED'},'title':_0x2f3df1[a154_0x4caf('0xc')][0x0][a154_0x4caf('0x17')],'description':a154_0x4caf('0x1f'),'fields':[{'name':a154_0x4caf('0x27'),'value':_0x22f104[a154_0x4caf('0x11')](',\x20')}],'footer':{'text':_0x2f3df1['id']},'timestamp':new Date()}})[a154_0x4caf('0x25')](()=>{_0x3c9446[a154_0x4caf('0x6')](_0x2f3df1['id']);})['catch'](()=>{});}else{await _0x2f3df1['edit']({'embed':{'color':tesseract_1['Constants'][a154_0x4caf('0x10')][a154_0x4caf('0x28')],'author':{'name':a154_0x4caf('0x9')},'title':_0x2f3df1[a154_0x4caf('0xc')][0x0][a154_0x4caf('0x17')],'description':a154_0x4caf('0xa'),'footer':{'text':_0x2f3df1['id']},'timestamp':new Date()}})['then'](()=>{_0x3c9446[a154_0x4caf('0x6')](_0x2f3df1['id']);})[a154_0x4caf('0x24')](()=>{});}}}if(_0x3c9446['length']){await Giveaway_1[a154_0x4caf('0x16')][a154_0x4caf('0x3')]({'$or':_0x3c9446['map'](_0x31068f=>({'_id':_0x31068f}))})[a154_0x4caf('0x24')](()=>{});}};}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdpdmVhd2F5cy5qcyJdLCJuYW1lcyI6WyJ0ZXNzZXJhY3RfMSIsInJlcXVpcmUiLCJHaXZlYXdheV8xIiwibW9kdWxlIiwiR2l2ZWF3YXlTY2hlZHVsZXIiLCJjb25zdHJ1Y3RvciIsIl8weDMwNTZjYSIsIl8weGE4NWIwZiIsIkRhdGUiLCJfMHgzYzk0NDYiLCJfMHg1ZWY2NTMiLCJfMHg1N2NiNzMiLCJfMHgxMWY3MDUiLCJfMHgyZjNkZjEiLCJfMHgxMTU0MmYiLCJfMHgyNDQ1ZmEiLCJfMHgzODQzNjIiLCJfMHgyMmYxMDQiLCJfMHg1M2RlNTAiLCJfMHgyYjFhYmUiLCJNYXRoIiwiXzB4MjkyOGRlIiwiXzB4MzEwNjhmIl0sIm1hcHBpbmdzIjoiaW1HQUFBLGFBS0EsTUFBTUEsV0FBQSxDQUFjQyxPQUFBLEMsbUJBQUEsQ0FBcEIsQ0FDQSxNQUFNQyxVQUFBLENBQWFELE9BQUEsQyxtQkFBQSxDQUFuQixDQUNBRSxNQUFBLEMsbUJBQUEsRUFBaUIsTUFBTUMsaUJBQU4sU0FBZ0NKLFdBQUEsQyxrQkFBQSxDQUFzQixDQUNuRUssV0FBQSxFQUFjLENBQ1YsTSxXQUFBLENBQW1CLEMsVUFDZixDLG1CQURlLENBQW5CLEVBR0EsSyxtQkFBQSxFQUFZLFNBQVksQ0FDcEIsR0FBSSxDQUFDLEssbUJBQUEsRSxrQkFBQSxDQUFMLENBQ0ksT0FDSixHQUFJLENBQUMsSyxtQkFBQSxFLFFBQUEsRSxtQkFBQSxFLE1BQUEsQ0FBTCxDQUNJLE9BQ0osTUFBTUMsU0FBQSxDQUFvQixNQUFNSixVQUFBLEMsbUJBQUEsRSxtQkFBQSxFQUF3QixDLEtBQ3BELENBQUssSyxtQkFBQSxFLGtCQUFBLEUsbUJBQUEsRSxtQkFBQSxFQUE2QkssU0FBQSxHQUFNLEMsT0FBRSxDQUFPQSxTQUFBLEMsSUFBQSxDQUFULENBQU4sQ0FBN0IsQ0FEK0MsQyxNQUVwRCxDQUFNLEMsTUFDRixDQUFNLElBQUlDLElBQUosRUFESixDQUY4QyxDQUF4QixDQUFoQyxDQU1BLE1BQU1DLFNB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Q0FESixDLFFBRUgsQ0FBUSxDLE1BQ0osQyxrQkFESSxDQUZMLEMsT0FLSCxDQUFPYSxTQUFBLEMsa0JBQUEsRSxHQUFBLEUsbUJBQUEsQ0FMSixDLGFBTUgsQyxrQkFORyxDLFFBT0gsQ0FBUSxDLE1BQ0osQ0FBTUEsU0FBQSxDLElBQUEsQ0FERixDQVBMLEMsV0FVSCxDQUFXLElBQUlMLElBQUosRUFWUixDQURnQixDQUFyQixFLE1BQUEsRUFhRSxJQUFNLENBQ1ZDLFNBQUEsQyxrQkFBQSxFQUFlSSxTQUFBLEMsSUFBQSxDQUFmLEVBRFUsQ0FiUixFLG1CQUFBLEVBZUcsSUFBTSxFQWZULENBQU4sQ0FEQyxDQS9DK0MsQ0FGVixDQXNFbEQsR0FBSUosU0FBQSxDLFFBQUEsQ0FBSixDQUFzQixDQUNsQixNQUFNUCxVQUFBLEMsbUJBQUEsRSxrQkFBQSxFQUE4QixDLEtBQ2hDLENBQUtPLFNBQUEsQyxLQUFBLEVBQWNhLFNBQUEsR0FBTyxDLEtBQUUsQ0FBS0EsU0FBUCxDQUFQLENBQWQsQ0FEMkIsQ0FBOUIsRSxtQkFBQSxFQUVHLElBQU0sRUFGVCxDQUFOLENBRGtCLENBbEZGLENBQXhCLENBSlUsQ0FEcUQsQ0FBdkUiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIVxuICogQGF1dGhvciBTYW5rYXJzYW4gS2FtcGEgKGszcm4zMXA0bmljKVxuICogQGNvcHlyaWdodCAyMDIwIC0gVGhlIEJhc3Rpb24gQm90IFByb2plY3RcbiAqL1xuY29uc3QgdGVzc2VyYWN0XzEgPSByZXF1aXJlKFwidGVzc2VyYWN0XCIpO1xuY29uc3QgR2l2ZWF3YXlfMSA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvR2l2ZWF3YXlcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEdpdmVhd2F5U2NoZWR1bGVyIGV4dGVuZHMgdGVzc2VyYWN0XzEuU2NoZWR1bGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJnaXZlYXdheXNcIiwge1xuICAgICAgICAgICAgY3JvblRpbWU6IFwiMCAqLzE1ICogKiAqICpcIixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXhlYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jbGllbnQucmVhZHlUaW1lc3RhbXApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNsaWVudC5ndWlsZHMuY2FjaGUuc2l6ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBnaXZlYXdheURvY3VtZW50cyA9IGF3YWl0IEdpdmVhd2F5XzEuZGVmYXVsdC5maW5kKHtcbiAgICAgICAgICAgICAgICAkb3I6IHRoaXMuY2xpZW50Lmd1aWxkcy5jYWNoZS5tYXAoZyA9PiAoeyBndWlsZDogZy5pZCB9KSksXG4gICAgICAgICAgICAgICAgZW5kczoge1xuICAgICAgICAgICAgICAgICAgICAkbHRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZCA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBnaXZlYXdheURvY3VtZW50IG9mIGdpdmVhd2F5RG9jdW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3VpbGQgPSB0aGlzLmNsaWVudC5ndWlsZHMuY2FjaGUuZ2V0KGdpdmVhd2F5RG9jdW1lbnQuZ3VpbGQpO1xuICAgICAgICAgICAgICAgIGlmIChndWlsZC5jaGFubmVscy5jYWNoZS5oYXMoZ2l2ZWF3YXlEb2N1bWVudC5jaGFubmVsKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsID0gZ3VpbGQuY2hhbm5lbHMuY2FjaGUuZ2V0KGdpdmVhd2F5RG9jdW1lbnQuY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdpdmVhd2F5TWVzc2FnZSA9IGF3YWl0IGNoYW5uZWwubWVzc2FnZXMuZmV0Y2goZ2l2ZWF3YXlEb2N1bWVudC5faWQpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZ2l2ZWF3YXlNZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJ0aWNpcGFudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByZWFjdGlvbiBvZiBbXCLwn46KXCIsIFwi8J+OiVwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdpdmVhd2F5TWVzc2FnZS5yZWFjdGlvbnMuY2FjaGUuaGFzKHJlYWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGdpdmVhd2F5TWVzc2FnZS5yZWFjdGlvbnMuY2FjaGUuZ2V0KHJlYWN0aW9uKS51c2Vycy5mZXRjaCgpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHMucHVzaCguLi5naXZlYXdheU1lc3NhZ2UucmVhY3Rpb25zLmNhY2hlLmdldChyZWFjdGlvbikudXNlcnMuY2FjaGUuZmlsdGVyKHUgPT4gIXUuYm90KS52YWx1ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lubmVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IChnaXZlYXdheURvY3VtZW50Lndpbm5lcnMgfHwgMSk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNpcGFudHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lubmVyID0gcGFydGljaXBhbnRzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBhcnRpY2lwYW50cy5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbm5lcnMucHVzaCh3aW5uZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzLmZpbHRlcihwID0+IHAuaWQgIT09IHdpbm5lci5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbm5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBnaXZlYXdheU1lc3NhZ2UuZWRpdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRlc3NlcmFjdF8xLkNvbnN0YW50cy5DT0xPUlMuU09NRVdIQVRfREFSSyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkdJVkVBV0FZIEVOREVEXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBnaXZlYXdheU1lc3NhZ2UuZW1iZWRzWzBdLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUaGUgZm9sbG93aW5nIHVzZXJzIGhhdmUgd29uIHRoZSBnaXZlYXdheSBhbmQgd2lsbCBiZSBjb250YWN0ZWQgc29vbiBmb3IgdGhlaXIgcmV3YXJkcy5cXG5UaGFuayB5b3UgZXZlcnlvbmUgZm9yIHBhcnRpY2lwYXRpbmcuIEJldHRlciBsdWNrIG5leHQgdGltZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJDb25ncmF0dWxhdGlvbnNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogd2lubmVycy5qb2luKFwiLCBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdpdmVhd2F5TWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQucHVzaChnaXZlYXdheU1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBnaXZlYXdheU1lc3NhZ2UuZWRpdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRlc3NlcmFjdF8xLkNvbnN0YW50cy5DT0xPUlMuUkVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiR0lWRUFXQVkgRU5ERURcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGdpdmVhd2F5TWVzc2FnZS5lbWJlZHNbMF0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlVuZm9ydHVuYXRlbHksIG5vIG9uZSBwYXJ0aWNpcGF0ZWQgaW4gdGhpcyBnaXZlYXdheSBhbmQgdGhlcmZvcmUgdGhlcmUgYXJlbid0IGFueSB3aW5uZXJzIHRoaXMgdGltZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnaXZlYXdheU1lc3NhZ2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkLnB1c2goZ2l2ZWF3YXlNZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBHaXZlYXdheV8xLmRlZmF1bHQuZGVsZXRlTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICRvcjogY29tcGxldGVkLm1hcChpZCA9PiAoeyBfaWQ6IGlkIH0pKSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTsiXX0=