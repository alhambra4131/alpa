const a125_0x555e=['findById','fetch','Listener','value','exec','includes','partial','getDocument','_id','findOne','map','Removed\x20via\x20Reaction\x20Roles','animated','../models/Role','../models/ReactionRoleGroup','message','emoji','apply','channel','roles','handleReactionRoles','messageReactionRemove','../utils/emojis','name','permissionsFor','unpin','MANAGE_MESSAGES','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','has','test','handleReactionPinning','catch','default','LISTENER_MODE','guild','constructor'];(function(_0x522073,_0x555e91){const _0x5e6b59=function(_0x5d0757){while(--_0x5d0757){_0x522073['push'](_0x522073['shift']());}};const _0x3950e9=function(){const _0x52a906={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5aa9a0,_0x42dbc3,_0x1e12fe,_0x579ef7){_0x579ef7=_0x579ef7||{};let _0xcd560a=_0x42dbc3+'='+_0x1e12fe;let _0x218974=0x0;for(let _0x430542=0x0,_0x4e375f=_0x5aa9a0['length'];_0x430542<_0x4e375f;_0x430542++){const _0x417206=_0x5aa9a0[_0x430542];_0xcd560a+=';\x20'+_0x417206;const _0x38aca0=_0x5aa9a0[_0x417206];_0x5aa9a0['push'](_0x38aca0);_0x4e375f=_0x5aa9a0['length'];if(_0x38aca0!==!![]){_0xcd560a+='='+_0x38aca0;}}_0x579ef7['cookie']=_0xcd560a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x51af31,_0x1983bf){_0x51af31=_0x51af31||function(_0x18b98a){return _0x18b98a;};const _0x59f4d4=_0x51af31(new RegExp('(?:^|;\x20)'+_0x1983bf['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x9392cc=function(_0x5416bc,_0x4d58af){_0x5416bc(++_0x4d58af);};_0x9392cc(_0x5e6b59,_0x555e91);return _0x59f4d4?decodeURIComponent(_0x59f4d4[0x1]):undefined;}};const _0x134f44=function(){const _0x3aa9f6=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3aa9f6['test'](_0x52a906['removeCookie']['toString']());};_0x52a906['updateCookie']=_0x134f44;let _0x107a49='';const _0x4fabc9=_0x52a906['updateCookie']();if(!_0x4fabc9){_0x52a906['setCookie'](['*'],'counter',0x1);}else if(_0x4fabc9){_0x107a49=_0x52a906['getCookie'](null,'counter');}else{_0x52a906['removeCookie']();}};_0x3950e9();}(a125_0x555e,0x1bd));const a125_0x5e6b=function(_0x522073,_0x555e91){_0x522073=_0x522073-0x0;let _0x5e6b59=a125_0x555e[_0x522073];return _0x5e6b59;};const a125_0x52a906=function(){let _0x23e179=!![];return function(_0x43a57f,_0x46c16f){const _0x560bd3=_0x23e179?function(){if(_0x46c16f){const _0x5c2025=_0x46c16f[a125_0x5e6b('0x4')](_0x43a57f,arguments);_0x46c16f=null;return _0x5c2025;}}:function(){};_0x23e179=![];return _0x560bd3;};}();const a125_0x5d0757=a125_0x52a906(this,function(){const _0x27cc67=function(){const _0xb5c8cf=_0x27cc67[a125_0x5e6b('0x16')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['compile'](a125_0x5e6b('0xe'));return!_0xb5c8cf[a125_0x5e6b('0x10')](a125_0x5d0757);};return _0x27cc67();});a125_0x5d0757();'use strict';const tesseract_1=require('tesseract');const ReactionRoleGroup_1=require(a125_0x5e6b('0x1'));const Role_1=require(a125_0x5e6b('0x0'));const emojis=require(a125_0x5e6b('0x9'));module['exports']=class MessageReactionRemoveListener extends tesseract_1[a125_0x5e6b('0x19')]{constructor(){super(a125_0x5e6b('0x8'),{'mode':tesseract_1['Constants'][a125_0x5e6b('0x14')]['ON']});this['handleReactionPinning']=async(_0x3007a4,_0x1c3f32)=>{if(!['ðŸ“Œ','ðŸ“'][a125_0x5e6b('0x1c')](_0x3007a4[a125_0x5e6b('0x3')]['name']))return;if(!_0x3007a4['message'][a125_0x5e6b('0x5')][a125_0x5e6b('0xb')](_0x1c3f32)[a125_0x5e6b('0xf')](a125_0x5e6b('0xd')))return;await _0x3007a4[a125_0x5e6b('0x2')][a125_0x5e6b('0xc')]();};this[a125_0x5e6b('0x7')]=async(_0xf499a5,_0x4464c3)=>{const _0x168331=await ReactionRoleGroup_1[a125_0x5e6b('0x13')][a125_0x5e6b('0x17')](_0xf499a5['message']['id']);if(!_0x168331)return;const _0x41ffd6=_0xf499a5[a125_0x5e6b('0x3')]['id']?'<'+(_0xf499a5[a125_0x5e6b('0x3')][a125_0x5e6b('0x23')]?'a':'')+':'+_0xf499a5[a125_0x5e6b('0x3')][a125_0x5e6b('0xa')]+':'+_0xf499a5[a125_0x5e6b('0x3')]['id']+'>':_0xf499a5['emoji'][a125_0x5e6b('0xa')];const _0x34a03d=emojis['parseEmoji'](_0x41ffd6);if(_0x34a03d){const _0xd515c3=await Role_1[a125_0x5e6b('0x13')][a125_0x5e6b('0x20')]({'$or':_0x168331[a125_0x5e6b('0x6')][a125_0x5e6b('0x21')](_0x26ecdd=>({'_id':_0x26ecdd})),'guild':_0xf499a5['message'][a125_0x5e6b('0x15')]['id'],'emoji':_0x34a03d[a125_0x5e6b('0x1a')]});if(!_0xd515c3)return;await _0x4464c3[a125_0x5e6b('0x6')]['remove'](_0xd515c3[a125_0x5e6b('0x1f')],a125_0x5e6b('0x22'));}};this[a125_0x5e6b('0x1b')]=async(_0x1a4756,_0x257beb)=>{if(_0x1a4756[a125_0x5e6b('0x1d')]){_0x1a4756=await _0x1a4756[a125_0x5e6b('0x18')]();}if(_0x1a4756[a125_0x5e6b('0x2')][a125_0x5e6b('0x1d')]){_0x1a4756[a125_0x5e6b('0x2')]=await _0x1a4756[a125_0x5e6b('0x2')][a125_0x5e6b('0x18')]();}if(!_0x1a4756[a125_0x5e6b('0x2')][a125_0x5e6b('0x15')])return;const _0x184336=_0x1a4756[a125_0x5e6b('0x2')][a125_0x5e6b('0x15')]['member'](_0x257beb);this['handleReactionRoles'](_0x1a4756,_0x184336)[a125_0x5e6b('0x12')](()=>{});const _0x9dc144=await _0x1a4756[a125_0x5e6b('0x2')][a125_0x5e6b('0x15')][a125_0x5e6b('0x1e')]();if(_0x9dc144['reactionPinning']){this[a125_0x5e6b('0x11')](_0x1a4756,_0x184336)[a125_0x5e6b('0x12')](()=>{});}};}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VSZWFjdGlvblJlbW92ZS5qcyJdLCJuYW1lcyI6WyJ0ZXNzZXJhY3RfMSIsInJlcXVpcmUiLCJSZWFjdGlvblJvbGVHcm91cF8xIiwiUm9sZV8xIiwiZW1vamlzIiwibW9kdWxlIiwiTWVzc2FnZVJlYWN0aW9uUmVtb3ZlTGlzdGVuZXIiLCJjb25zdHJ1Y3RvciIsIl8weDMwMDdhNCIsIl8weDFjM2YzMiIsIl8weGY0OTlhNSIsIl8weDQ0NjRjMyIsIl8weDE2ODMzMSIsIl8weDQxZmZkNiIsIl8weDM0YTAzZCIsIl8weGQ1MTVjMyIsIl8weDI2ZWNkZCIsIl8weDFhNDc1NiIsIl8weDI1N2JlYiIsIl8weDE4NDMzNiIsIl8weDlkYzE0NCJdLCJtYXBwaW5ncyI6InF3RkFBQSxhQUtBLE1BQU1BLFdBQUEsQ0FBY0MsT0FBQSxDLFdBQUEsQ0FBcEIsQ0FDQSxNQUFNQyxtQkFBQSxDQUFzQkQsT0FBQSxDLGtCQUFBLENBQTVCLENBQ0EsTUFBTUUsTUFBQSxDQUFTRixPQUFBLEMsa0JBQUEsQ0FBZixDQUNBLE1BQU1HLE1BQUEsQ0FBU0gsT0FBQSxDLGtCQUFBLENBQWYsQ0FDQUksTUFBQSxDLFNBQUEsRUFBaUIsTUFBTUMsNkJBQU4sU0FBNENOLFdBQUEsQyxtQkFBQSxDQUFxQixDQUM5RU8sV0FBQSxFQUFjLENBQ1YsTSxrQkFBQSxDQUErQixDLE1BQzNCLENBQU1QLFdBQUEsQyxXQUFBLEUsbUJBQUEsRSxJQUFBLENBRHFCLENBQS9CLEVBR0EsSyx1QkFBQSxFQUE2QixNQUFPUSxTQUFQLENBQXdCQyxTQUF4QixHQUFtQyxDQUM1RCxHQUFJLENBQUMsQyxJQUFBLEMsSUFBQSxFLG1CQUFBLEVBQXNCRCxTQUFBLEMsa0JBQUEsRSxNQUFBLENBQXRCLENBQUwsQ0FDSSxPQUNKLEdBQUksQ0FBQ0EsU0FBQSxDLFNBQUEsRSxrQkFBQSxFLGtCQUFBLEVBQStDQyxTQUEvQyxFLGtCQUFBLEUsa0JBQUEsQ0FBTCxDQUNJLE9BQ0osTUFBTUQsU0FBQSxDLGtCQUFBLEUsa0JBQUEsR0FBTixDQUw0RCxDQUFoRSxDQU9BLEssa0JBQUEsRUFBMkIsTUFBT0UsU0FBUCxDQUF3QkMsU0FBeEIsR0FBbUMsQ0FDMUQsTUFBTUMsU0FBQSxDQUFxQixNQUFNVixtQkFBQSxDLG1CQUFBLEUsbUJBQUEsRUFBcUNRLFNBQUEsQyxTQUFBLEUsSUFBQSxDQUFyQyxDQUFqQyxDQUNBLEdBQUksQ0FBQ0UsU0FBTCxDQUNJLE9BQ0osTUFBTUMsU0FBQSxDQUFRSCxTQUFBLEMsa0JBQUEsRSxJQUFBLEUsR0FDUixDQUFPLENBQUFBLFNBQUEsQyxrQkFBQSxFLG1CQUFBLEUsR0FBQSxDLEVBQUEsQ0FBUCxDLEdBQUEsQ0FBMERBLFNBQUEsQyxrQkFBQSxFLGtCQUFBLENBQTFELEMsR0FBQSxDQUE2RkEsU0FBQSxDLGtCQUFBLEUsSUFBQSxDQUE3RixDLEdBRFEsQ0FFUkEsU0FBQSxDLE9BQUEsRSxrQkFBQSxDQUZOLENBR0EsTUFBTUksU0FBQSxDQUFjVixNQUFBLEMsWUFBQSxFQUFrQlMsU0FBbEIsQ0FBcEIsQ0FDQSxHQUFJQyxTQUFKLENBQWlCLENBQ2IsTUFBTUMsU0FBQSxDQUFlLE1BQU1aLE1BQUEsQyxtQkFBQSxFLG1CQUFBLEVBQXVCLEMsS0FDOUMsQ0FBS1MsU0FBQSxDLGtCQUFBLEUsbUJBQUEsRUFBNkJJLFNBQUEsR0FBTyxDLEtBQUUsQ0FBS0EsU0FBUCxDQUFQLENBQTdCLENBRHlDLEMsT0FFOUMsQ0FBT04sU0FBQSxDLFNBQUEsRSxtQkFBQSxFLElBQUEsQ0FGdUMsQyxPQUc5QyxDQUFPSSxTQUFBLEMsbUJBQUEsQ0FIdUMsQ0FBdkIsQ0FBM0IsQ0FLQSxHQUFJLENBQUNDLFNBQUwsQ0FDSSxPQUNKLE1BQU1KLFNBQUEsQyxrQkFBQSxFLFFBQUEsRUFBb0JJLFNBQUEsQyxtQkFBQSxDQUFwQixDLG1CQUFBLENBQU4sQ0FSYSxDQVJ5QyxDQUE5RCxDQW1CQSxLLG1CQUFBLEVBQVksTUFBT0UsU0FBUCxDQUF3QkMsU0FBeEIsR0FBaUMsQ0FDekMsR0FBSUQsU0FBQSxDLG1CQUFBLENBQUosQ0FBNkIsQ0FDekJBLFNBQUEsQ0FBa0IsTUFBTUEsU0FBQSxDLG1CQUFBLEdBQXhCLENBRHlCLENBRzdCLEdBQUlBLFNBQUEsQyxrQkFBQSxFLG1CQUFBLENBQUosQ0FBcUMsQ0FDakNBLFNBQUEsQyxrQkFBQSxFQUEwQixNQUFNQSxTQUFBLEMsa0JBQUEsRSxtQkFBQSxHQUFoQyxDQURpQyxDQUdyQyxHQUFJLENBQUNBLFNBQUEsQyxrQkFBQSxFLG1CQUFBLENBQUwsQ0FDSSxPQUNKLE1BQU1FLFNBQUEsQ0FBU0YsU0FBQSxDLGtCQUFBLEUsbUJBQUEsRSxRQUFBLEVBQXFDQyxTQUFyQyxDQUFmLENBQ0EsSyxxQkFBQSxFQUF5QkQsU0FBekIsQ0FBMENFLFNBQTFDLEUsbUJBQUEsRUFBd0QsSUFBTSxFQUE5RCxFQUVBLE1BQU1DLFNBQUEsQ0FBZ0IsTUFBTUgsU0FBQSxDLGtCQUFBLEUsbUJBQUEsRSxtQkFBQSxHQUE1QixDQUNBLEdBQUlHLFNBQUEsQyxpQkFBQSxDQUFKLENBQW1DLENBQy9CLEssbUJBQUEsRUFBMkJILFNBQTNCLENBQTRDRSxTQUE1QyxFLG1CQUFBLEVBQTBELElBQU0sRUFBaEUsRUFEK0IsQ0FiTSxDQUE3QyxDQTlCVSxDQURnRSxDQUFsRiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyohXG4gKiBAYXV0aG9yIFNhbmthcnNhbiBLYW1wYSAoazNybjMxcDRuaWMpXG4gKiBAY29weXJpZ2h0IDIwMjAgLSBUaGUgQmFzdGlvbiBCb3QgUHJvamVjdFxuICovXG5jb25zdCB0ZXNzZXJhY3RfMSA9IHJlcXVpcmUoXCJ0ZXNzZXJhY3RcIik7XG5jb25zdCBSZWFjdGlvblJvbGVHcm91cF8xID0gcmVxdWlyZShcIi4uL21vZGVscy9SZWFjdGlvblJvbGVHcm91cFwiKTtcbmNvbnN0IFJvbGVfMSA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvUm9sZVwiKTtcbmNvbnN0IGVtb2ppcyA9IHJlcXVpcmUoXCIuLi91dGlscy9lbW9qaXNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIE1lc3NhZ2VSZWFjdGlvblJlbW92ZUxpc3RlbmVyIGV4dGVuZHMgdGVzc2VyYWN0XzEuTGlzdGVuZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcIm1lc3NhZ2VSZWFjdGlvblJlbW92ZVwiLCB7XG4gICAgICAgICAgICBtb2RlOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuTElTVEVORVJfTU9ERS5PTixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGFuZGxlUmVhY3Rpb25QaW5uaW5nID0gYXN5bmMgKG1lc3NhZ2VSZWFjdGlvbiwgbWVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIVtcIvCfk4xcIiwgXCLwn5ONXCJdLmluY2x1ZGVzKG1lc3NhZ2VSZWFjdGlvbi5lbW9qaS5uYW1lKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2VSZWFjdGlvbi5tZXNzYWdlLmNoYW5uZWwucGVybWlzc2lvbnNGb3IobWVtYmVyKS5oYXMoXCJNQU5BR0VfTUVTU0FHRVNcIikpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgYXdhaXQgbWVzc2FnZVJlYWN0aW9uLm1lc3NhZ2UudW5waW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVSZWFjdGlvblJvbGVzID0gYXN5bmMgKG1lc3NhZ2VSZWFjdGlvbiwgbWVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWFjdGlvblJvbGVzR3JvdXAgPSBhd2FpdCBSZWFjdGlvblJvbGVHcm91cF8xLmRlZmF1bHQuZmluZEJ5SWQobWVzc2FnZVJlYWN0aW9uLm1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgaWYgKCFyZWFjdGlvblJvbGVzR3JvdXApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgZW1vamkgPSBtZXNzYWdlUmVhY3Rpb24uZW1vamkuaWRcbiAgICAgICAgICAgICAgICA/IFwiPFwiICsgKG1lc3NhZ2VSZWFjdGlvbi5lbW9qaS5hbmltYXRlZCA/IFwiYVwiIDogXCJcIikgKyBcIjpcIiArIG1lc3NhZ2VSZWFjdGlvbi5lbW9qaS5uYW1lICsgXCI6XCIgKyBtZXNzYWdlUmVhY3Rpb24uZW1vamkuaWQgKyBcIj5cIlxuICAgICAgICAgICAgICAgIDogbWVzc2FnZVJlYWN0aW9uLmVtb2ppLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBlbW9qaU9iamVjdCA9IGVtb2ppcy5wYXJzZUVtb2ppKGVtb2ppKTtcbiAgICAgICAgICAgIGlmIChlbW9qaU9iamVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWN0aW9uUm9sZSA9IGF3YWl0IFJvbGVfMS5kZWZhdWx0LmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgICAgICAkb3I6IHJlYWN0aW9uUm9sZXNHcm91cC5yb2xlcy5tYXAoaWQgPT4gKHsgX2lkOiBpZCB9KSksXG4gICAgICAgICAgICAgICAgICAgIGd1aWxkOiBtZXNzYWdlUmVhY3Rpb24ubWVzc2FnZS5ndWlsZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgZW1vamk6IGVtb2ppT2JqZWN0LnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghcmVhY3Rpb25Sb2xlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgYXdhaXQgbWVtYmVyLnJvbGVzLnJlbW92ZShyZWFjdGlvblJvbGUuX2lkLCBcIlJlbW92ZWQgdmlhIFJlYWN0aW9uIFJvbGVzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmV4ZWMgPSBhc3luYyAobWVzc2FnZVJlYWN0aW9uLCB1c2VyKSA9PiB7XG4gICAgICAgICAgICBpZiAobWVzc2FnZVJlYWN0aW9uLnBhcnRpYWwpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlUmVhY3Rpb24gPSBhd2FpdCBtZXNzYWdlUmVhY3Rpb24uZmV0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXNzYWdlUmVhY3Rpb24ubWVzc2FnZS5wYXJ0aWFsKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZVJlYWN0aW9uLm1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlUmVhY3Rpb24ubWVzc2FnZS5mZXRjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtZXNzYWdlUmVhY3Rpb24ubWVzc2FnZS5ndWlsZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBtZW1iZXIgPSBtZXNzYWdlUmVhY3Rpb24ubWVzc2FnZS5ndWlsZC5tZW1iZXIodXNlcik7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJlYWN0aW9uUm9sZXMobWVzc2FnZVJlYWN0aW9uLCBtZW1iZXIpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgZ3VpbGREb2N1bWVudCA9IGF3YWl0IG1lc3NhZ2VSZWFjdGlvbi5tZXNzYWdlLmd1aWxkLmdldERvY3VtZW50KCk7XG4gICAgICAgICAgICBpZiAoZ3VpbGREb2N1bWVudC5yZWFjdGlvblBpbm5pbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlYWN0aW9uUGlubmluZyhtZXNzYWdlUmVhY3Rpb24sIG1lbWJlcikuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07Il19