const a35_0x4898=['\x20started\x20an\x20acrophobia\x20game\x20in\x20this\x20channel.\x20Create\x20a\x20coherent\x20or\x20humorous\x20sentence\x20for\x20the\x20acronym\x20**','handleSubmissionEnd','Game\x20Ended','random','send','map','\x20made\x20for\x20the\x20acronym.','author','floor','It\x20allows\x20you\x20to\x20play\x20the\x20Acrophobia\x20game\x20with\x20your\x20fellow\x20server\x20members.\x20Bastion\x20generates\x20a\x20random\x20acronym\x20and\x20players\x20compete\x20by\x20racing\x20to\x20create\x20the\x20most\x20coherent\x20or\x20humorous\x20sentence\x20that\x20fits\x20the\x20acronym\x20-\x20a\x20backronym.\x20After\x20the\x20submissions\x20are\x20over,\x20in\x20the\x20specified\x20amount\x20of\x20time,\x20everyone\x20then\x20votes\x20anonymously\x20for\x20their\x20favorite\x20answer.\x20The\x20most\x20popular\x20backronym\x20wins.','end','COLORS','values','You\x20have\x20got\x20','backronym','Submissions','content','votes','\x20minutes\x20to\x20make\x20your\x20submission.','has','length','Unfortunately,\x20no\x20votes\x20were\x20given\x20to\x20any\x20of\x20the\x20submissions.','includes','RED','Acrophobia','cache','get','user','return\x20/\x22\x20+\x20this\x20+\x20\x22/','set','Command','guild','Constants','parseInt','games','**#','client','join','\x20minutes.','handleVotingEnd','Vote\x20by\x20typing\x20the\x20corresponding\x20number\x20of\x20your\x20favorite\x20backronym.\x20Voting\x20closes\x20in\x20','no\x20submissions\x20were','keys','handleVoting','collect','reduce','bot','tag','createMessageCollector','exports','channel','INDIGO','split','push','only\x20one\x20submission\x20was','**.','size','\x20votes\x20for\x20the\x20backronym\x20','test','delete','handleSubmission','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','catch','apply','**\x20-\x20','../../utils/numbers','deletable','\x20won\x20with\x20'];(function(_0x2b72c9,_0x4898e6){const _0x3a1b87=function(_0x415cef){while(--_0x415cef){_0x2b72c9['push'](_0x2b72c9['shift']());}};const _0x4e2f3a=function(){const _0x4a861f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5c576d,_0xf2fde0,_0x2ba62c,_0x4d3e1d){_0x4d3e1d=_0x4d3e1d||{};let _0x34e6ed=_0xf2fde0+'='+_0x2ba62c;let _0x3983fc=0x0;for(let _0x3ce6d5=0x0,_0x49f88b=_0x5c576d['length'];_0x3ce6d5<_0x49f88b;_0x3ce6d5++){const _0x13286b=_0x5c576d[_0x3ce6d5];_0x34e6ed+=';\x20'+_0x13286b;const _0x1abdb7=_0x5c576d[_0x13286b];_0x5c576d['push'](_0x1abdb7);_0x49f88b=_0x5c576d['length'];if(_0x1abdb7!==!![]){_0x34e6ed+='='+_0x1abdb7;}}_0x4d3e1d['cookie']=_0x34e6ed;},'removeCookie':function(){return'dev';},'getCookie':function(_0xd3cff,_0x1931d1){_0xd3cff=_0xd3cff||function(_0xaf83ba){return _0xaf83ba;};const _0x2bc46e=_0xd3cff(new RegExp('(?:^|;\x20)'+_0x1931d1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x63fe7c=function(_0x3789cf,_0x52ba73){_0x3789cf(++_0x52ba73);};_0x63fe7c(_0x3a1b87,_0x4898e6);return _0x2bc46e?decodeURIComponent(_0x2bc46e[0x1]):undefined;}};const _0x26e6d2=function(){const _0x1fa9c1=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1fa9c1['test'](_0x4a861f['removeCookie']['toString']());};_0x4a861f['updateCookie']=_0x26e6d2;let _0x516123='';const _0xc5fa9b=_0x4a861f['updateCookie']();if(!_0xc5fa9b){_0x4a861f['setCookie'](['*'],'counter',0x1);}else if(_0xc5fa9b){_0x516123=_0x4a861f['getCookie'](null,'counter');}else{_0x4a861f['removeCookie']();}};_0x4e2f3a();}(a35_0x4898,0x11a));const a35_0x3a1b=function(_0x2b72c9,_0x4898e6){_0x2b72c9=_0x2b72c9-0x0;let _0x3a1b87=a35_0x4898[_0x2b72c9];return _0x3a1b87;};const a35_0x4a861f=function(){let _0x14c3d1=!![];return function(_0x3914a5,_0x59aa3f){const _0x1e5a3a=_0x14c3d1?function(){if(_0x59aa3f){const _0x153ef7=_0x59aa3f[a35_0x3a1b('0x35')](_0x3914a5,arguments);_0x59aa3f=null;return _0x153ef7;}}:function(){};_0x14c3d1=![];return _0x1e5a3a;};}();const a35_0x415cef=a35_0x4a861f(this,function(){const _0x3cb006=function(){const _0xd029e0=_0x3cb006['constructor'](a35_0x3a1b('0x12'))()['compile'](a35_0x3a1b('0x33'));return!_0xd029e0[a35_0x3a1b('0x30')](a35_0x415cef);};return _0x3cb006();});a35_0x415cef();'use strict';const tesseract_1=require('tesseract');const numbers=require(a35_0x3a1b('0x37'));module[a35_0x3a1b('0x27')]=class AcrophobiaCommand extends tesseract_1[a35_0x3a1b('0x14')]{constructor(){super('acrophobia',{'description':a35_0x3a1b('0x43'),'triggers':[],'arguments':{},'scope':a35_0x3a1b('0x15'),'owner':![],'typing':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[]});this[a35_0x3a1b('0x21')]=_0x5227e9=>{this[a35_0x3a1b('0x18')][a35_0x3a1b('0x10')](_0x5227e9[a35_0x3a1b('0x28')]['id'])[a35_0x3a1b('0x7')][a35_0x3a1b('0x2b')](_0x5227e9['author']['id']);if(_0x5227e9[a35_0x3a1b('0x38')]){_0x5227e9[a35_0x3a1b('0x31')]()['catch'](()=>{});}};this[a35_0x3a1b('0x1d')]=(_0x31a432,_0x1fc8a4,_0x21b30b)=>{this[a35_0x3a1b('0x18')][a35_0x3a1b('0x31')](_0x31a432['channel']['id']);if(_0x21b30b[a35_0x3a1b('0x2e')]===0x0){return _0x31a432[a35_0x3a1b('0x28')][a35_0x3a1b('0x3e')]({'embed':{'color':tesseract_1[a35_0x3a1b('0x16')][a35_0x3a1b('0x1')][a35_0x3a1b('0xd')],'author':{'name':a35_0x3a1b('0xe')},'title':a35_0x3a1b('0x3c'),'description':a35_0x3a1b('0xb')}})['catch'](()=>{});}const _0x408f13={};for(const _0x460aa1 of _0x21b30b[a35_0x3a1b('0x2')]()){_0x408f13[_0x460aa1[a35_0x3a1b('0x6')]]=_0x408f13[_0x460aa1[a35_0x3a1b('0x6')]]?_0x408f13[_0x460aa1[a35_0x3a1b('0x6')]]+0x1:0x1;}const _0x26f7ae=+Object[a35_0x3a1b('0x20')](_0x408f13)[a35_0x3a1b('0x23')]((_0x5561fe,_0x4b77ea)=>{return _0x408f13[_0x5561fe]>_0x408f13[_0x4b77ea]?_0x5561fe:_0x4b77ea;})-0x1;const _0xb0bb8b=this['client']['users']['cache'][a35_0x3a1b('0x9')](_0x1fc8a4[_0x26f7ae][a35_0x3a1b('0x11')])?this[a35_0x3a1b('0x1a')]['users'][a35_0x3a1b('0xf')][a35_0x3a1b('0x10')](_0x1fc8a4[_0x26f7ae][a35_0x3a1b('0x11')])[a35_0x3a1b('0x25')]:_0x1fc8a4[_0x26f7ae][a35_0x3a1b('0x11')];_0x31a432[a35_0x3a1b('0x28')][a35_0x3a1b('0x3e')]({'embed':{'color':tesseract_1[a35_0x3a1b('0x16')]['COLORS']['SOMEWHAT_DARK'],'author':{'name':a35_0x3a1b('0xe')},'title':a35_0x3a1b('0x3c'),'description':_0xb0bb8b+a35_0x3a1b('0x39')+_0x408f13[_0x26f7ae]+a35_0x3a1b('0x2f')+_0x1fc8a4[_0x26f7ae]['backronym']+'.'}})['catch'](()=>{});};this[a35_0x3a1b('0x32')]=_0x3d886d=>{if(_0x3d886d[a35_0x3a1b('0x38')]){_0x3d886d[a35_0x3a1b('0x31')]()[a35_0x3a1b('0x34')](()=>{});}};this[a35_0x3a1b('0x3b')]=async(_0x471e28,_0x278d88)=>{try{if(_0x278d88[a35_0x3a1b('0x2e')]<0x2){this['games']['delete'](_0x471e28['channel']['id']);return _0x471e28['channel']['send']({'embed':{'color':tesseract_1['Constants'][a35_0x3a1b('0x1')][a35_0x3a1b('0xd')],'author':{'name':'Acrophobia'},'title':a35_0x3a1b('0x3c'),'description':'Unfortunately,\x20'+(_0x278d88[a35_0x3a1b('0x2e')]===0x0?a35_0x3a1b('0x1f'):a35_0x3a1b('0x2c'))+a35_0x3a1b('0x40')}})[a35_0x3a1b('0x34')](()=>{});}const _0x1c0fa7=0x2;const _0x2516a2=[..._0x278d88[a35_0x3a1b('0x2')]()][a35_0x3a1b('0x3f')](_0x1c74f4=>({'backronym':_0x1c74f4[a35_0x3a1b('0x6')],'user':_0x1c74f4['author']['id']}));await _0x471e28['channel']['send']({'embed':{'color':tesseract_1['Constants']['COLORS'][a35_0x3a1b('0x29')],'author':{'name':'Acrophobia'},'title':a35_0x3a1b('0x5'),'description':_0x2516a2[a35_0x3a1b('0x3f')]((_0x41bbcd,_0x155294)=>a35_0x3a1b('0x19')+(_0x155294+0x1)+a35_0x3a1b('0x36')+_0x41bbcd[a35_0x3a1b('0x4')])['join']('\x0a'),'footer':{'text':a35_0x3a1b('0x1e')+_0x1c0fa7+a35_0x3a1b('0x1c')}}});const _0x525e61=_0x471e28[a35_0x3a1b('0x28')][a35_0x3a1b('0x26')](_0x42566c=>!_0x42566c[a35_0x3a1b('0x41')][a35_0x3a1b('0x24')]&&Number[a35_0x3a1b('0x17')](_0x42566c[a35_0x3a1b('0x6')])>0x0&&Number['parseInt'](_0x42566c[a35_0x3a1b('0x6')])<=_0x2516a2[a35_0x3a1b('0xa')]&&!(this['games'][a35_0x3a1b('0x9')](_0x471e28['channel']['id'])&&this['games'][a35_0x3a1b('0x10')](_0x471e28[a35_0x3a1b('0x28')]['id'])[a35_0x3a1b('0x7')][a35_0x3a1b('0xc')](_0x42566c[a35_0x3a1b('0x41')]['id'])),{'time':_0x1c0fa7*0xea60});_0x525e61['on'](a35_0x3a1b('0x22'),this['handleVoting']);_0x525e61['on'](a35_0x3a1b('0x0'),_0x4d288f=>this[a35_0x3a1b('0x1d')](_0x471e28,_0x2516a2,_0x4d288f));}catch{this[a35_0x3a1b('0x18')][a35_0x3a1b('0x31')](_0x471e28['channel']['id']);}};this['exec']=async _0xda1073=>{const _0x279a88=0x2;const _0x54e535=numbers['getRandomInt'](0x3,0x7);const _0x306eac='ABCDEFGHIJKLMNOPQRSTUVWXYZ'[a35_0x3a1b('0x2a')]('');const _0x2414bf=[];for(let _0x449786=0x0;_0x449786<_0x54e535;_0x449786++){_0x2414bf[a35_0x3a1b('0x2b')](_0x306eac[Math[a35_0x3a1b('0x42')](Math[a35_0x3a1b('0x3d')]()*_0x306eac[a35_0x3a1b('0xa')])]);}const _0x25e07e=await _0xda1073[a35_0x3a1b('0x28')]['send']({'embed':{'color':tesseract_1['Constants'][a35_0x3a1b('0x1')][a35_0x3a1b('0x29')],'title':'Acrophobia','description':_0xda1073[a35_0x3a1b('0x41')][a35_0x3a1b('0x25')]+a35_0x3a1b('0x3a')+_0x2414bf[a35_0x3a1b('0x1b')]('\x20')+a35_0x3a1b('0x2d'),'footer':{'text':a35_0x3a1b('0x3')+_0x279a88+a35_0x3a1b('0x8')}}});this[a35_0x3a1b('0x18')][a35_0x3a1b('0x13')](_0xda1073['channel']['id'],{'votes':[]});const _0x49fcfc=_0xda1073[a35_0x3a1b('0x28')]['createMessageCollector'](_0x49d82e=>!_0x49d82e[a35_0x3a1b('0x41')][a35_0x3a1b('0x24')]&&_0x49d82e[a35_0x3a1b('0x6')][a35_0x3a1b('0xa')]>0x2*_0x2414bf[a35_0x3a1b('0xa')]&&_0x49d82e['content']['split']('\x20')[a35_0x3a1b('0xa')]===_0x54e535&&_0x49d82e[a35_0x3a1b('0x6')][a35_0x3a1b('0x2a')]('\x20')[a35_0x3a1b('0x3f')](_0xba6543=>_0xba6543[0x0])[a35_0x3a1b('0x1b')]('')['toUpperCase']()===_0x2414bf[a35_0x3a1b('0x1b')](''),{'time':_0x279a88*0xea60,'max':0x19});_0x49fcfc['on'](a35_0x3a1b('0x22'),this['handleSubmission']);_0x49fcfc['on'](a35_0x3a1b('0x0'),_0x21d69a=>this[a35_0x3a1b('0x3b')](_0x25e07e,_0x21d69a));};this[a35_0x3a1b('0x18')]=new Map();}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjcm9waG9iaWEuanMiXSwibmFtZXMiOlsidGVzc2VyYWN0XzEiLCJyZXF1aXJlIiwibnVtYmVycyIsIm1vZHVsZSIsIkFjcm9waG9iaWFDb21tYW5kIiwiY29uc3RydWN0b3IiLCJfMHg1MjI3ZTkiLCJfMHgzMWE0MzIiLCJfMHgxZmM4YTQiLCJfMHgyMWIzMGIiLCJfMHg0MDhmMTMiLCJfMHg0NjBhYTEiLCJfMHgyNmY3YWUiLCJPYmplY3QiLCJfMHg1NTYxZmUiLCJfMHg0Yjc3ZWEiLCJfMHhiMGJiOGIiLCJfMHgzZDg4NmQiLCJfMHg0NzFlMjgiLCJfMHgyNzhkODgiLCJfMHgxYzBmYTciLCJfMHgyNTE2YTIiLCJfMHgxYzc0ZjQiLCJfMHg0MWJiY2QiLCJfMHgxNTUyOTQiLCJfMHg1MjVlNjEiLCJfMHg0MjU2NmMiLCJOdW1iZXIiLCJfMHg0ZDI4OGYiLCJfMHhkYTEwNzMiLCJfMHgyNzlhODgiLCJfMHg1NGU1MzUiLCJfMHgzMDZlYWMiLCJfMHgyNDE0YmYiLCJfMHg0NDk3ODYiLCJNYXRoIiwiXzB4MjVlMDdlIiwiXzB4NDlmY2ZjIiwiXzB4NDlkODJlIiwiXzB4YmE2NTQzIiwiXzB4MjFkNjlhIiwiTWFwIl0sIm1hcHBpbmdzIjoiNmdJQUFBLGFBS0EsTUFBTUEsV0FBQSxDQUFjQyxPQUFBLEMsV0FBQSxDQUFwQixDQUNBLE1BQU1DLE9BQUEsQ0FBVUQsT0FBQSxDLGtCQUFBLENBQWhCLENBQ0FFLE1BQUEsQyxrQkFBQSxFQUFpQixNQUFNQyxpQkFBTixTQUFnQ0osV0FBQSxDLGtCQUFBLENBQW9CLENBQ2pFSyxXQUFBLEVBQWMsQ0FDVixNLFlBQUEsQ0FBb0IsQyxhQUNoQixDLGtCQURnQixDLFVBRWhCLENBQVUsRUFGTSxDLFdBR2hCLENBQVcsRUFISyxDLE9BSWhCLEMsa0JBSmdCLEMsT0FLaEIsQyxHQUxnQixDLFFBTWhCLEMsSUFOZ0IsQyxVQU9oQixDLEdBUGdCLEMsV0FRaEIsQyxHQVJnQixDLG1CQVNoQixDQUFtQixFQVRILEMsaUJB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YSxLLGtCQUFBLEVBQXlCSixTQUF6QixDQUF1Q0ksU0FBdkMsQ0FBbEMsRUExQjJCLENBQS9CLENBNEJBLEssa0JBQUEsRUFBYSxJQUFJQyxHQUFKLEVBQWIsQ0FwSVUsQ0FEbUQsQ0FBckUiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIVxuICogQGF1dGhvciBTYW5rYXJzYW4gS2FtcGEgKGszcm4zMXA0bmljKVxuICogQGNvcHlyaWdodCAyMDIwIC0gVGhlIEJhc3Rpb24gQm90IFByb2plY3RcbiAqL1xuY29uc3QgdGVzc2VyYWN0XzEgPSByZXF1aXJlKFwidGVzc2VyYWN0XCIpO1xuY29uc3QgbnVtYmVycyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9udW1iZXJzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBBY3JvcGhvYmlhQ29tbWFuZCBleHRlbmRzIHRlc3NlcmFjdF8xLkNvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcImFjcm9waG9iaWFcIiwge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiSXQgYWxsb3dzIHlvdSB0byBwbGF5IHRoZSBBY3JvcGhvYmlhIGdhbWUgd2l0aCB5b3VyIGZlbGxvdyBzZXJ2ZXIgbWVtYmVycy4gQmFzdGlvbiBnZW5lcmF0ZXMgYSByYW5kb20gYWNyb255bSBhbmQgcGxheWVycyBjb21wZXRlIGJ5IHJhY2luZyB0byBjcmVhdGUgdGhlIG1vc3QgY29oZXJlbnQgb3IgaHVtb3JvdXMgc2VudGVuY2UgdGhhdCBmaXRzIHRoZSBhY3JvbnltIC0gYSBiYWNrcm9ueW0uIEFmdGVyIHRoZSBzdWJtaXNzaW9ucyBhcmUgb3ZlciwgaW4gdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSwgZXZlcnlvbmUgdGhlbiB2b3RlcyBhbm9ueW1vdXNseSBmb3IgdGhlaXIgZmF2b3JpdGUgYW5zd2VyLiBUaGUgbW9zdCBwb3B1bGFyIGJhY2tyb255bSB3aW5zLlwiLFxuICAgICAgICAgICAgdHJpZ2dlcnM6IFtdLFxuICAgICAgICAgICAgYXJndW1lbnRzOiB7fSxcbiAgICAgICAgICAgIHNjb3BlOiBcImd1aWxkXCIsXG4gICAgICAgICAgICBvd25lcjogZmFsc2UsXG4gICAgICAgICAgICB0eXBpbmc6IHRydWUsXG4gICAgICAgICAgICBjb29sZG93bjogMCxcbiAgICAgICAgICAgIHJhdGVsaW1pdDogMSxcbiAgICAgICAgICAgIGNsaWVudFBlcm1pc3Npb25zOiBbXSxcbiAgICAgICAgICAgIHVzZXJQZXJtaXNzaW9uczogW10sXG4gICAgICAgICAgICBzeW50YXg6IFtdLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVWb3RpbmcgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nYW1lcy5nZXQobWVzc2FnZS5jaGFubmVsLmlkKS52b3Rlcy5wdXNoKG1lc3NhZ2UuYXV0aG9yLmlkKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmRlbGV0YWJsZSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVsZXRlKCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVZvdGluZ0VuZCA9IChtZXNzYWdlLCBzdWJtaXNzaW9ucywgY29sbGVjdGVkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdhbWVzLmRlbGV0ZShtZXNzYWdlLmNoYW5uZWwuaWQpO1xuICAgICAgICAgICAgaWYgKGNvbGxlY3RlZC5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLlJFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQWNyb3Bob2JpYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkdhbWUgRW5kZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlVuZm9ydHVuYXRlbHksIG5vIHZvdGVzIHdlcmUgZ2l2ZW4gdG8gYW55IG9mIHRoZSBzdWJtaXNzaW9ucy5cIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2b3RlcyA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCB2b3RlIG9mIGNvbGxlY3RlZC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIHZvdGVzW3ZvdGUuY29udGVudF0gPSB2b3Rlc1t2b3RlLmNvbnRlbnRdID8gdm90ZXNbdm90ZS5jb250ZW50XSArIDEgOiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgd2lubmVySW5kZXggPSArT2JqZWN0LmtleXModm90ZXMpLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvdGVzW2FjY10gPiB2b3Rlc1tjdXJyXSA/IGFjYyA6IGN1cnI7XG4gICAgICAgICAgICB9KSAtIDE7XG4gICAgICAgICAgICBjb25zdCB3aW5uZXIgPSB0aGlzLmNsaWVudC51c2Vycy5jYWNoZS5oYXMoc3VibWlzc2lvbnNbd2lubmVySW5kZXhdLnVzZXIpID8gdGhpcy5jbGllbnQudXNlcnMuY2FjaGUuZ2V0KHN1Ym1pc3Npb25zW3dpbm5lckluZGV4XS51c2VyKS50YWcgOiBzdWJtaXNzaW9uc1t3aW5uZXJJbmRleF0udXNlcjtcbiAgICAgICAgICAgIG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICBlbWJlZDoge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGVzc2VyYWN0XzEuQ29uc3RhbnRzLkNPTE9SUy5TT01FV0hBVF9EQVJLLFxuICAgICAgICAgICAgICAgICAgICBhdXRob3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQWNyb3Bob2JpYVwiLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJHYW1lIEVuZGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB3aW5uZXIgKyBcIiB3b24gd2l0aCBcIiArIHZvdGVzW3dpbm5lckluZGV4XSArIFwiIHZvdGVzIGZvciB0aGUgYmFja3JvbnltIFwiICsgc3VibWlzc2lvbnNbd2lubmVySW5kZXhdLmJhY2tyb255bSArIFwiLlwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVTdWJtaXNzaW9uID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmRlbGV0YWJsZSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVsZXRlKCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVN1Ym1pc3Npb25FbmQgPSBhc3luYyAobWVzc2FnZSwgY29sbGVjdGVkKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0ZWQuc2l6ZSA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcy5kZWxldGUobWVzc2FnZS5jaGFubmVsLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRlc3NlcmFjdF8xLkNvbnN0YW50cy5DT0xPUlMuUkVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkFjcm9waG9iaWFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkdhbWUgRW5kZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJVbmZvcnR1bmF0ZWx5LCBcIiArIChjb2xsZWN0ZWQuc2l6ZSA9PT0gMCA/IFwibm8gc3VibWlzc2lvbnMgd2VyZVwiIDogXCJvbmx5IG9uZSBzdWJtaXNzaW9uIHdhc1wiKSArIFwiIG1hZGUgZm9yIHRoZSBhY3JvbnltLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IDI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VibWlzc2lvbnMgPSBbLi4uY29sbGVjdGVkLnZhbHVlcygpXS5tYXAobSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBiYWNrcm9ueW06IG0uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogbS5hdXRob3IuaWQsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGF3YWl0IG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLklORElHTyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQWNyb3Bob2JpYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlN1Ym1pc3Npb25zXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc3VibWlzc2lvbnMubWFwKChtLCBpKSA9PiBcIioqI1wiICsgKGkgKyAxKSArIFwiKiogLSBcIiArIG0uYmFja3JvbnltKS5qb2luKFwiXFxuXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJWb3RlIGJ5IHR5cGluZyB0aGUgY29ycmVzcG9uZGluZyBudW1iZXIgb2YgeW91ciBmYXZvcml0ZSBiYWNrcm9ueW0uIFZvdGluZyBjbG9zZXMgaW4gXCIgKyB0aW1lICsgXCIgbWludXRlcy5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgdm90ZXMgPSBtZXNzYWdlLmNoYW5uZWwuY3JlYXRlTWVzc2FnZUNvbGxlY3RvcihtID0+ICFtLmF1dGhvci5ib3QgJiYgTnVtYmVyLnBhcnNlSW50KG0uY29udGVudCkgPiAwICYmIE51bWJlci5wYXJzZUludChtLmNvbnRlbnQpIDw9IHN1Ym1pc3Npb25zLmxlbmd0aCAmJiAhKHRoaXMuZ2FtZXMuaGFzKG1lc3NhZ2UuY2hhbm5lbC5pZCkgJiYgdGhpcy5nYW1lcy5nZXQobWVzc2FnZS5jaGFubmVsLmlkKS52b3Rlcy5pbmNsdWRlcyhtLmF1dGhvci5pZCkpLCB7IHRpbWU6IHRpbWUgKiA2ZTQgfSk7XG4gICAgICAgICAgICAgICAgdm90ZXMub24oXCJjb2xsZWN0XCIsIHRoaXMuaGFuZGxlVm90aW5nKTtcbiAgICAgICAgICAgICAgICB2b3Rlcy5vbihcImVuZFwiLCBjb2xsZWN0ZWQgPT4gdGhpcy5oYW5kbGVWb3RpbmdFbmQobWVzc2FnZSwgc3VibWlzc2lvbnMsIGNvbGxlY3RlZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXMuZGVsZXRlKG1lc3NhZ2UuY2hhbm5lbC5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZXhlYyA9IGFzeW5jIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gMjtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBudW1iZXJzLmdldFJhbmRvbUludCgzLCA3KTtcbiAgICAgICAgICAgIGNvbnN0IEFMUEhBQkVUUyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIi5zcGxpdChcIlwiKTtcbiAgICAgICAgICAgIGNvbnN0IGFjcm9ueW0gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzaXplOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgYWNyb255bS5wdXNoKEFMUEhBQkVUU1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBBTFBIQUJFVFMubGVuZ3RoKV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRNZXNzYWdlID0gYXdhaXQgbWVzc2FnZS5jaGFubmVsLnNlbmQoe1xuICAgICAgICAgICAgICAgIGVtYmVkOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLklORElHTyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQWNyb3Bob2JpYVwiLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbWVzc2FnZS5hdXRob3IudGFnICsgXCIgc3RhcnRlZCBhbiBhY3JvcGhvYmlhIGdhbWUgaW4gdGhpcyBjaGFubmVsLiBDcmVhdGUgYSBjb2hlcmVudCBvciBodW1vcm91cyBzZW50ZW5jZSBmb3IgdGhlIGFjcm9ueW0gKipcIiArIGFjcm9ueW0uam9pbihcIiBcIikgKyBcIioqLlwiLFxuICAgICAgICAgICAgICAgICAgICBmb290ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiWW91IGhhdmUgZ290IFwiICsgdGltZSArIFwiIG1pbnV0ZXMgdG8gbWFrZSB5b3VyIHN1Ym1pc3Npb24uXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5nYW1lcy5zZXQobWVzc2FnZS5jaGFubmVsLmlkLCB7XG4gICAgICAgICAgICAgICAgdm90ZXM6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBzdWJtaXNzaW9uID0gbWVzc2FnZS5jaGFubmVsLmNyZWF0ZU1lc3NhZ2VDb2xsZWN0b3IobSA9PiAhbS5hdXRob3IuYm90ICYmIG0uY29udGVudC5sZW5ndGggPiAoMiAqIGFjcm9ueW0ubGVuZ3RoKSAmJiBtLmNvbnRlbnQuc3BsaXQoXCIgXCIpLmxlbmd0aCA9PT0gc2l6ZSAmJiBtLmNvbnRlbnQuc3BsaXQoXCIgXCIpLm1hcCgodykgPT4gd1swXSkuam9pbihcIlwiKS50b1VwcGVyQ2FzZSgpID09PSBhY3JvbnltLmpvaW4oXCJcIiksIHtcbiAgICAgICAgICAgICAgICB0aW1lOiB0aW1lICogNmU0LFxuICAgICAgICAgICAgICAgIG1heDogMjUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN1Ym1pc3Npb24ub24oXCJjb2xsZWN0XCIsIHRoaXMuaGFuZGxlU3VibWlzc2lvbik7XG4gICAgICAgICAgICBzdWJtaXNzaW9uLm9uKFwiZW5kXCIsIGNvbGxlY3RlZCA9PiB0aGlzLmhhbmRsZVN1Ym1pc3Npb25FbmQoc3RhcnRNZXNzYWdlLCBjb2xsZWN0ZWQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nYW1lcyA9IG5ldyBNYXAoKTtcbiAgICB9XG59OyJdfQ==