const a54_0x54fc=['../../utils/errors','roleDeleteQuestion','rename','constructor','roles\x20--delete\x20ROLE\x20--\x20REASON','resolveRole','MANAGE_ROLES','getString','locale','Constants','delete','guild','exec','join','info','roles','roleDelete','COLORS','GREEN','tag','test','catch','roles\x20--rename\x20ROLE\x20--name\x20NAME\x20--\x20REASON','Command','return\x20/\x22\x20+\x20this\x20+\x20\x22/','hoist','exports','channel','COLOR','color','send','mentionable','roles\x20--create\x20NAME\x20--hoist\x20--\x20REASON','edit','resolver','ArgumentTypes','name','../../utils/confirmation','length','create','en_us','compile','author','client','roleCreate'];(function(_0x3a32e7,_0x54fcb7){const _0x332f64=function(_0x1fc699){while(--_0x1fc699){_0x3a32e7['push'](_0x3a32e7['shift']());}};const _0x509981=function(){const _0x110119={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1dbf2f,_0x504519,_0x4ac7b9,_0x5e8609){_0x5e8609=_0x5e8609||{};let _0x1ac365=_0x504519+'='+_0x4ac7b9;let _0x45f7b8=0x0;for(let _0x2c4023=0x0,_0x357a58=_0x1dbf2f['length'];_0x2c4023<_0x357a58;_0x2c4023++){const _0x21718b=_0x1dbf2f[_0x2c4023];_0x1ac365+=';\x20'+_0x21718b;const _0x5db8c4=_0x1dbf2f[_0x21718b];_0x1dbf2f['push'](_0x5db8c4);_0x357a58=_0x1dbf2f['length'];if(_0x5db8c4!==!![]){_0x1ac365+='='+_0x5db8c4;}}_0x5e8609['cookie']=_0x1ac365;},'removeCookie':function(){return'dev';},'getCookie':function(_0x682025,_0x23d834){_0x682025=_0x682025||function(_0x356b21){return _0x356b21;};const _0x4bf450=_0x682025(new RegExp('(?:^|;\x20)'+_0x23d834['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2d352e=function(_0x5a5c7e,_0x4fe24e){_0x5a5c7e(++_0x4fe24e);};_0x2d352e(_0x332f64,_0x54fcb7);return _0x4bf450?decodeURIComponent(_0x4bf450[0x1]):undefined;}};const _0x4d0abd=function(){const _0x4aebca=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4aebca['test'](_0x110119['removeCookie']['toString']());};_0x110119['updateCookie']=_0x4d0abd;let _0x2f570a='';const _0x26e9e3=_0x110119['updateCookie']();if(!_0x26e9e3){_0x110119['setCookie'](['*'],'counter',0x1);}else if(_0x26e9e3){_0x2f570a=_0x110119['getCookie'](null,'counter');}else{_0x110119['removeCookie']();}};_0x509981();}(a54_0x54fc,0x158));const a54_0x332f=function(_0x3a32e7,_0x54fcb7){_0x3a32e7=_0x3a32e7-0x0;let _0x332f64=a54_0x54fc[_0x3a32e7];return _0x332f64;};const a54_0x110119=function(){let _0x421bbd=!![];return function(_0x2a4600,_0x14f409){const _0x437cd7=_0x421bbd?function(){if(_0x14f409){const _0x248866=_0x14f409['apply'](_0x2a4600,arguments);_0x14f409=null;return _0x248866;}}:function(){};_0x421bbd=![];return _0x437cd7;};}();const a54_0x1fc699=a54_0x110119(this,function(){const _0x4e5061=function(){const _0x377e72=_0x4e5061[a54_0x332f('0x13')](a54_0x332f('0x28'))()[a54_0x332f('0xc')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x377e72[a54_0x332f('0x24')](a54_0x1fc699);};return _0x4e5061();});a54_0x1fc699();'use strict';const tesseract_1=require('tesseract');const errors=require(a54_0x332f('0x10'));const confirmation_1=require(a54_0x332f('0x8'));module[a54_0x332f('0x2a')]=class RolesCommand extends tesseract_1[a54_0x332f('0x27')]{constructor(){super(a54_0x332f('0x1f'),{'description':'It\x20allows\x20you\x20create,\x20delete\x20and\x20update\x20roles\x20in\x20the\x20server.','triggers':[],'arguments':{'array':[a54_0x332f('0xa'),a54_0x332f('0x1a'),'name',a54_0x332f('0x12')],'boolean':[a54_0x332f('0x29'),'mentionable'],'string':['create','delete',a54_0x332f('0x12')],'coerce':{'color':tesseract_1[a54_0x332f('0x19')][a54_0x332f('0x6')][a54_0x332f('0x2c')]}},'scope':a54_0x332f('0x1b'),'owner':![],'typing':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a54_0x332f('0x16')],'userPermissions':[a54_0x332f('0x16')],'syntax':['roles\x20--create\x20NAME\x20--\x20REASON','roles\x20--create\x20NAME\x20--color\x20COLOR\x20--\x20REASON',a54_0x332f('0x3'),'roles\x20--create\x20NAME\x20--mentionable\x20--\x20REASON',a54_0x332f('0x26'),a54_0x332f('0x14')]});this[a54_0x332f('0x1c')]=async(_0x5f14c1,_0x40edab)=>{const _0x2128a0=_0x40edab['_']['join']('\x20')||'-';if(_0x40edab[a54_0x332f('0xa')]&&_0x40edab[a54_0x332f('0xa')][a54_0x332f('0x9')]){const _0x2b048c=await _0x5f14c1['guild'][a54_0x332f('0x1f')][a54_0x332f('0xa')]({'data':{'name':_0x40edab[a54_0x332f('0xa')][a54_0x332f('0x1d')]('\x20'),'color':_0x40edab[a54_0x332f('0x0')],'hoist':_0x40edab[a54_0x332f('0x29')],'mentionable':_0x40edab[a54_0x332f('0x2')]},'reason':_0x2128a0});return await _0x5f14c1['channel'][a54_0x332f('0x1')]({'embed':{'color':tesseract_1[a54_0x332f('0x19')]['COLORS'][a54_0x332f('0x22')],'description':this['client'][a54_0x332f('0x18')][a54_0x332f('0x17')](a54_0x332f('0xb'),'info',a54_0x332f('0xf'),_0x5f14c1['author']['tag'],_0x2b048c[a54_0x332f('0x7')],_0x2128a0)}})['catch'](()=>{});}if(_0x40edab[a54_0x332f('0x1a')]&&_0x40edab['delete']['length']){const _0x264b14=this['client'][a54_0x332f('0x5')][a54_0x332f('0x15')](_0x5f14c1['guild'],_0x40edab[a54_0x332f('0x1a')][a54_0x332f('0x1d')]('\x20'));const _0x41f926=await confirmation_1['default'](_0x5f14c1,this[a54_0x332f('0xe')]['locale'][a54_0x332f('0x17')](a54_0x332f('0xb'),a54_0x332f('0x1e'),a54_0x332f('0x11'),_0x5f14c1[a54_0x332f('0xd')][a54_0x332f('0x23')],_0x264b14[a54_0x332f('0x7')]));if(_0x41f926){await _0x264b14[a54_0x332f('0x1a')](_0x2128a0);return await _0x5f14c1[a54_0x332f('0x2b')][a54_0x332f('0x1')]({'embed':{'color':tesseract_1[a54_0x332f('0x19')][a54_0x332f('0x21')]['GREEN'],'description':this[a54_0x332f('0xe')][a54_0x332f('0x18')]['getString'](a54_0x332f('0xb'),'info',a54_0x332f('0x20'),_0x5f14c1[a54_0x332f('0xd')][a54_0x332f('0x23')],_0x264b14[a54_0x332f('0x7')],_0x2128a0)}})[a54_0x332f('0x25')](()=>{});}return!![];}if(_0x40edab['rename']&&_0x40edab[a54_0x332f('0x12')]['length']&&_0x40edab['name']&&_0x40edab[a54_0x332f('0x7')][a54_0x332f('0x9')]){let _0x389740=this['client']['resolver'][a54_0x332f('0x15')](_0x5f14c1[a54_0x332f('0x1b')],_0x40edab['rename'][a54_0x332f('0x1d')]('\x20'));_0x389740=await _0x389740[a54_0x332f('0x4')]({'name':_0x40edab[a54_0x332f('0x7')][a54_0x332f('0x1d')]('\x20')});return await _0x5f14c1['channel'][a54_0x332f('0x1')]({'embed':{'color':tesseract_1[a54_0x332f('0x19')][a54_0x332f('0x21')][a54_0x332f('0x22')],'description':this[a54_0x332f('0xe')][a54_0x332f('0x18')][a54_0x332f('0x17')](a54_0x332f('0xb'),a54_0x332f('0x1e'),'roleRename',_0x5f14c1['author'][a54_0x332f('0x23')],_0x389740['name'],_0x2128a0)}})[a54_0x332f('0x25')](()=>{});}throw new errors['CommandSyntaxError'](this[a54_0x332f('0x7')]);};}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvbGVzLmpzIl0sIm5hbWVzIjpbInRlc3NlcmFjdF8xIiwicmVxdWlyZSIsImVycm9ycyIsImNvbmZpcm1hdGlvbl8xIiwibW9kdWxlIiwiUm9sZXNDb21tYW5kIiwiY29uc3RydWN0b3IiLCJfMHg1ZjE0YzEiLCJfMHg0MGVkYWIiLCJfMHgyMTI4YTAiLCJfMHgyYjA0OGMiLCJfMHgyNjRiMTQiLCJfMHg0MWY5MjYiLCJfMHgzODk3NDAiXSwibWFwcGluZ3MiOiJ5NEZBQUEsYUFLQSxNQUFNQSxXQUFBLENBQWNDLE9BQUEsQyxXQUFBLENBQXBCLENBQ0EsTUFBTUMsTUFBQSxDQUFTRCxPQUFBLEMsa0JBQUEsQ0FBZixDQUNBLE1BQU1FLGNBQUEsQ0FBaUJGLE9BQUEsQyxpQkFBQSxDQUF2QixDQUNBRyxNQUFBLEMsa0JBQUEsRUFBaUIsTUFBTUMsWUFBTixTQUEyQkwsV0FBQSxDLGtCQUFBLENBQW9CLENBQzVETSxXQUFBLEVBQWMsQ0FDVixNLGtCQUFBLENBQWUsQyxhQUNYLEMsNEZBRFcsQyxVQUVYLENBQVUsRUFGQyxDLFdBR1gsQ0FBVyxDLE9BQ1AsQ0FBTyxDLGlCQUFBLEMsa0JBQUEsQyxNQUFBLEMsa0JBQUEsQ0FEQSxDLFNBRVAsQ0FBUyxDLGtCQUFBLEMsYUFBQSxDQUZGLEMsUUFHUCxDQUFRLEMsUUFBQSxDLFFBQUEsQyxrQkFBQSxDQUhELEMsUUFJUCxDQUFRLEMsT0FDSixDQUFPTixXQUFBLEMsa0JBQUEsRSxpQkFBQSxFLGtCQUFBLENBREgsQ0FKRCxDQUhBLEMsT0FXWCxDLGtCQVhXLEMsT0FZWCxDLEdBWlcsQyxRQWFYLEMsSUFiVyxDLFVBY1gsQyxHQWRXLEMsV0FlWCxDLEdBZlcsQyxtQkFnQlgsQ0FBbUIsQyxrQkFBQSxDQWhCUixDLGlCQWlCWCxDQUFpQixDLGtCQUFBLENBakJOLEMsUUFrQlgsQ0FBUSxDLDJDQUFBLEMsK0RBQUEsQyxpQkFBQSxDLDREQUFBLEMsa0JBQUEsQyxrQkFBQSxDQWxCRyxDQUFmLEVBMkJBLEssa0JB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LENBQU9QLFdBQUEsQyxrQkFBQSxFLGtCQUFBLEUsa0JBQUEsQ0FESixDLGFBRUgsQ0FBYSxLLGlCQUFBLEUsa0JBQUEsRSxrQkFBQSxFLGlCQUFBLEMsa0JBQUEsQyxZQUFBLENBQTRETyxTQUFBLEMsUUFBQSxFLGtCQUFBLENBQTVELENBQWdGTSxTQUFBLEMsTUFBQSxDQUFoRixDQUEyRkosU0FBM0YsQ0FGVixDQUR1QixDQUFyQixFLGtCQUFBLEVBS0osSUFBTSxFQUxGLENBQWIsQ0FMb0UsQ0FheEUsTUFBTSxJQUFJUCxNQUFBLEMsb0JBQUEsQ0FBSixDQUE4QixLLGlCQUFBLENBQTlCLENBQU4sQ0FoRGlDLENBQXJDLENBNUJVLENBRDhDLENBQWhFIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiFcbiAqIEBhdXRob3IgU2Fua2Fyc2FuIEthbXBhIChrM3JuMzFwNG5pYylcbiAqIEBjb3B5cmlnaHQgMjAyMCAtIFRoZSBCYXN0aW9uIEJvdCBQcm9qZWN0XG4gKi9cbmNvbnN0IHRlc3NlcmFjdF8xID0gcmVxdWlyZShcInRlc3NlcmFjdFwiKTtcbmNvbnN0IGVycm9ycyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9lcnJvcnNcIik7XG5jb25zdCBjb25maXJtYXRpb25fMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9jb25maXJtYXRpb25cIik7XG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFJvbGVzQ29tbWFuZCBleHRlbmRzIHRlc3NlcmFjdF8xLkNvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcInJvbGVzXCIsIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkl0IGFsbG93cyB5b3UgY3JlYXRlLCBkZWxldGUgYW5kIHVwZGF0ZSByb2xlcyBpbiB0aGUgc2VydmVyLlwiLFxuICAgICAgICAgICAgdHJpZ2dlcnM6IFtdLFxuICAgICAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgYXJyYXk6IFtcImNyZWF0ZVwiLCBcImRlbGV0ZVwiLCBcIm5hbWVcIiwgXCJyZW5hbWVcIl0sXG4gICAgICAgICAgICAgICAgYm9vbGVhbjogW1wiaG9pc3RcIiwgXCJtZW50aW9uYWJsZVwiXSxcbiAgICAgICAgICAgICAgICBzdHJpbmc6IFtcImNyZWF0ZVwiLCBcImRlbGV0ZVwiLCBcInJlbmFtZVwiXSxcbiAgICAgICAgICAgICAgICBjb2VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRlc3NlcmFjdF8xLkNvbnN0YW50cy5Bcmd1bWVudFR5cGVzLkNPTE9SLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NvcGU6IFwiZ3VpbGRcIixcbiAgICAgICAgICAgIG93bmVyOiBmYWxzZSxcbiAgICAgICAgICAgIHR5cGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGNvb2xkb3duOiAwLFxuICAgICAgICAgICAgcmF0ZWxpbWl0OiAxLFxuICAgICAgICAgICAgY2xpZW50UGVybWlzc2lvbnM6IFtcIk1BTkFHRV9ST0xFU1wiXSxcbiAgICAgICAgICAgIHVzZXJQZXJtaXNzaW9uczogW1wiTUFOQUdFX1JPTEVTXCJdLFxuICAgICAgICAgICAgc3ludGF4OiBbXG4gICAgICAgICAgICAgICAgXCJyb2xlcyAtLWNyZWF0ZSBOQU1FIC0tIFJFQVNPTlwiLFxuICAgICAgICAgICAgICAgIFwicm9sZXMgLS1jcmVhdGUgTkFNRSAtLWNvbG9yIENPTE9SIC0tIFJFQVNPTlwiLFxuICAgICAgICAgICAgICAgIFwicm9sZXMgLS1jcmVhdGUgTkFNRSAtLWhvaXN0IC0tIFJFQVNPTlwiLFxuICAgICAgICAgICAgICAgIFwicm9sZXMgLS1jcmVhdGUgTkFNRSAtLW1lbnRpb25hYmxlIC0tIFJFQVNPTlwiLFxuICAgICAgICAgICAgICAgIFwicm9sZXMgLS1yZW5hbWUgUk9MRSAtLW5hbWUgTkFNRSAtLSBSRUFTT05cIixcbiAgICAgICAgICAgICAgICBcInJvbGVzIC0tZGVsZXRlIFJPTEUgLS0gUkVBU09OXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5leGVjID0gYXN5bmMgKG1lc3NhZ2UsIGFyZ3YpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlYXNvbiA9IGFyZ3YuXy5qb2luKFwiIFwiKSB8fCBcIi1cIjtcbiAgICAgICAgICAgIGlmIChhcmd2LmNyZWF0ZSAmJiBhcmd2LmNyZWF0ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb2xlID0gYXdhaXQgbWVzc2FnZS5ndWlsZC5yb2xlcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBhcmd2LmNyZWF0ZS5qb2luKFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBhcmd2LmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3Q6IGFyZ3YuaG9pc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZW50aW9uYWJsZTogYXJndi5tZW50aW9uYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBtZXNzYWdlLmNoYW5uZWwuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIGVtYmVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGVzc2VyYWN0XzEuQ29uc3RhbnRzLkNPTE9SUy5HUkVFTixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJpbmZvXCIsIFwicm9sZUNyZWF0ZVwiLCBtZXNzYWdlLmF1dGhvci50YWcsIHJvbGUubmFtZSwgcmVhc29uKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJndi5kZWxldGUgJiYgYXJndi5kZWxldGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9sZSA9IHRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVSb2xlKG1lc3NhZ2UuZ3VpbGQsIGFyZ3YuZGVsZXRlLmpvaW4oXCIgXCIpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCBjb25maXJtYXRpb25fMS5kZWZhdWx0KG1lc3NhZ2UsIHRoaXMuY2xpZW50LmxvY2FsZS5nZXRTdHJpbmcoXCJlbl91c1wiLCBcImluZm9cIiwgXCJyb2xlRGVsZXRlUXVlc3Rpb25cIiwgbWVzc2FnZS5hdXRob3IudGFnLCByb2xlLm5hbWUpKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5zd2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJvbGUuZGVsZXRlKHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBtZXNzYWdlLmNoYW5uZWwuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWJlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLkdSRUVOLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJpbmZvXCIsIFwicm9sZURlbGV0ZVwiLCBtZXNzYWdlLmF1dGhvci50YWcsIHJvbGUubmFtZSwgcmVhc29uKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFyZ3YucmVuYW1lICYmIGFyZ3YucmVuYW1lLmxlbmd0aCAmJiBhcmd2Lm5hbWUgJiYgYXJndi5uYW1lLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCByb2xlID0gdGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZVJvbGUobWVzc2FnZS5ndWlsZCwgYXJndi5yZW5hbWUuam9pbihcIiBcIikpO1xuICAgICAgICAgICAgICAgIHJvbGUgPSBhd2FpdCByb2xlLmVkaXQoe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBhcmd2Lm5hbWUuam9pbihcIiBcIiksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLkdSRUVOLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuY2xpZW50LmxvY2FsZS5nZXRTdHJpbmcoXCJlbl91c1wiLCBcImluZm9cIiwgXCJyb2xlUmVuYW1lXCIsIG1lc3NhZ2UuYXV0aG9yLnRhZywgcm9sZS5uYW1lLCByZWFzb24pLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnMuQ29tbWFuZFN5bnRheEVycm9yKHRoaXMubmFtZSk7XG4gICAgICAgIH07XG4gICAgfVxufTsiXX0=