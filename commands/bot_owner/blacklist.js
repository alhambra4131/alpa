const a2_0x26e1=['Users','users','length','Servers','includes','blacklist','exec','send','save','errors','blacklist\x20--servers\x20SERVER_ID','Bastion\x27s\x20Blacklist','../../utils/errors','user','test','COLORS','It\x20allows\x20you\x20to\x20blacklist\x20users\x20and\x20servers\x20that.\x20Blacklisted\x20servers\x20and\x20users\x20don\x27t\x20have\x20access\x20to\x20Bastion\x27s\x20commands.','constructor','blacklist\x20--users\x20USER_ID\x20--remove','bastionBlacklistUpdate','blacklistedGuildIds','filter','\x20Blacklisted\x20Servers\x20/\x20','default','exports','tag','findById','servers','toBulletList','blacklist\x20--servers\x20SERVER_ID\x20--remove','remove','../../utils/snowflake','blacklistedUserIds','client','channel','name','../../utils/arrays','Command','Constants','\x20Blacklisted\x20Users','en_us','push','../../models/Config','compile','locale','isValid','return\x20/\x22\x20+\x20this\x20+\x20\x22/'];(function(_0x9677a3,_0x26e12b){const _0x52f37c=function(_0x52347f){while(--_0x52347f){_0x9677a3['push'](_0x9677a3['shift']());}};const _0x27b93a=function(){const _0x482a96={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3853cf,_0x524582,_0x65d410,_0x50d34c){_0x50d34c=_0x50d34c||{};let _0x3bc684=_0x524582+'='+_0x65d410;let _0x2af03b=0x0;for(let _0x1c304a=0x0,_0x2b0ee3=_0x3853cf['length'];_0x1c304a<_0x2b0ee3;_0x1c304a++){const _0x3afba6=_0x3853cf[_0x1c304a];_0x3bc684+=';\x20'+_0x3afba6;const _0x3e48ef=_0x3853cf[_0x3afba6];_0x3853cf['push'](_0x3e48ef);_0x2b0ee3=_0x3853cf['length'];if(_0x3e48ef!==!![]){_0x3bc684+='='+_0x3e48ef;}}_0x50d34c['cookie']=_0x3bc684;},'removeCookie':function(){return'dev';},'getCookie':function(_0x442884,_0x2fb2fd){_0x442884=_0x442884||function(_0x53916){return _0x53916;};const _0x2c7587=_0x442884(new RegExp('(?:^|;\x20)'+_0x2fb2fd['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x306c3c=function(_0x50e928,_0x40d4ce){_0x50e928(++_0x40d4ce);};_0x306c3c(_0x52f37c,_0x26e12b);return _0x2c7587?decodeURIComponent(_0x2c7587[0x1]):undefined;}};const _0x5ac12e=function(){const _0x4a6038=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4a6038['test'](_0x482a96['removeCookie']['toString']());};_0x482a96['updateCookie']=_0x5ac12e;let _0x1e90a5='';const _0x39d2bb=_0x482a96['updateCookie']();if(!_0x39d2bb){_0x482a96['setCookie'](['*'],'counter',0x1);}else if(_0x39d2bb){_0x1e90a5=_0x482a96['getCookie'](null,'counter');}else{_0x482a96['removeCookie']();}};_0x27b93a();}(a2_0x26e1,0x8b));const a2_0x52f3=function(_0x9677a3,_0x26e12b){_0x9677a3=_0x9677a3-0x0;let _0x52f37c=a2_0x26e1[_0x9677a3];return _0x52f37c;};const a2_0x482a96=function(){let _0x292232=!![];return function(_0x1d2e29,_0x11ee5){const _0x36b553=_0x292232?function(){if(_0x11ee5){const _0x329dcb=_0x11ee5['apply'](_0x1d2e29,arguments);_0x11ee5=null;return _0x329dcb;}}:function(){};_0x292232=![];return _0x36b553;};}();const a2_0x52347f=a2_0x482a96(this,function(){const _0x3436bf=function(){const _0xb0e718=_0x3436bf[a2_0x52f3('0x13')](a2_0x52f3('0x1'))()[a2_0x52f3('0x2d')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0xb0e718[a2_0x52f3('0x10')](a2_0x52347f);};return _0x3436bf();});a2_0x52347f();'use strict';const tesseract_1=require('tesseract');const Config_1=require(a2_0x52f3('0x2c'));const arrays=require(a2_0x52f3('0x26'));const errors=require(a2_0x52f3('0xe'));const snowflake=require(a2_0x52f3('0x21'));module[a2_0x52f3('0x1a')]=class Blacklist extends tesseract_1[a2_0x52f3('0x27')]{constructor(){super(a2_0x52f3('0x7'),{'description':a2_0x52f3('0x12'),'triggers':[],'arguments':{'array':[a2_0x52f3('0x1d'),a2_0x52f3('0x3')],'boolean':[a2_0x52f3('0x20')],'string':['servers',a2_0x52f3('0x3')]},'scope':'guild','owner':!![],'typing':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['blacklist\x20--users\x20USER_ID',a2_0x52f3('0xc'),a2_0x52f3('0x14'),a2_0x52f3('0x1f')]});this[a2_0x52f3('0x8')]=async(_0x29dbd8,_0x496dcf)=>{const _0x2003ce=await Config_1[a2_0x52f3('0x19')][a2_0x52f3('0x1c')](this['client'][a2_0x52f3('0xf')]['id']);const _0x5f4702=_0x496dcf['servers']?_0x496dcf['servers'][a2_0x52f3('0x17')](_0x33d541=>snowflake[a2_0x52f3('0x0')](_0x33d541)):[];const _0x34a712=_0x496dcf[a2_0x52f3('0x3')]?_0x496dcf[a2_0x52f3('0x3')][a2_0x52f3('0x17')](_0x5bdd08=>snowflake[a2_0x52f3('0x0')](_0x5bdd08)):[];if(!_0x5f4702[a2_0x52f3('0x4')]&&!_0x34a712[a2_0x52f3('0x4')])throw new errors['CommandSyntaxError'](this[a2_0x52f3('0x25')]);const _0x168ed9=[];if(_0x5f4702[a2_0x52f3('0x4')]){if(_0x496dcf[a2_0x52f3('0x20')])_0x2003ce[a2_0x52f3('0x16')]=_0x2003ce['blacklistedGuildIds'][a2_0x52f3('0x17')](_0x3aa821=>!_0x5f4702[a2_0x52f3('0x6')](_0x3aa821));else _0x2003ce[a2_0x52f3('0x16')]=[..._0x34a712,..._0x2003ce['blacklistedGuildIds']];_0x2003ce['blacklistedGuildIds']=[...new Set(_0x2003ce[a2_0x52f3('0x16')])];_0x168ed9[a2_0x52f3('0x2b')]({'name':a2_0x52f3('0x5'),'value':arrays[a2_0x52f3('0x1e')](_0x5f4702),'inline':!![]});}if(_0x5f4702['length']){if(_0x496dcf[a2_0x52f3('0x20')])_0x2003ce[a2_0x52f3('0x22')]=_0x2003ce[a2_0x52f3('0x22')]['filter'](_0x2276a0=>!_0x34a712[a2_0x52f3('0x6')](_0x2276a0));else _0x2003ce[a2_0x52f3('0x22')]=[..._0x34a712,..._0x2003ce[a2_0x52f3('0x22')]];_0x2003ce['blacklistedUserIds']=[...new Set(_0x2003ce[a2_0x52f3('0x22')])];_0x168ed9[a2_0x52f3('0x2b')]({'name':a2_0x52f3('0x2'),'value':arrays[a2_0x52f3('0x1e')](_0x34a712),'inline':!![]});}_0x2003ce[a2_0x52f3('0xa')]();await _0x29dbd8[a2_0x52f3('0x24')][a2_0x52f3('0x9')]({'embed':{'color':tesseract_1[a2_0x52f3('0x28')][a2_0x52f3('0x11')]['PUPIL'],'title':a2_0x52f3('0xd'),'description':this[a2_0x52f3('0x23')][a2_0x52f3('0x2e')]['getString'](a2_0x52f3('0x2a'),a2_0x52f3('0xb'),_0x5f4702[a2_0x52f3('0x4')]||_0x34a712[a2_0x52f3('0x4')]?a2_0x52f3('0x15'):'bastionBlacklistUnchanged',_0x29dbd8['author'][a2_0x52f3('0x1b')]),'fields':_0x168ed9,'footer':{'text':_0x2003ce[a2_0x52f3('0x16')][a2_0x52f3('0x4')]+a2_0x52f3('0x18')+_0x2003ce['blacklistedUserIds']['length']+a2_0x52f3('0x29')}}})['catch'](()=>{});};}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYWNrbGlzdC5qcyJdLCJuYW1lcyI6WyJ0ZXNzZXJhY3RfMSIsInJlcXVpcmUiLCJDb25maWdfMSIsImFycmF5cyIsImVycm9ycyIsInNub3dmbGFrZSIsIm1vZHVsZSIsIkJsYWNrbGlzdCIsImNvbnN0cnVjdG9yIiwiXzB4MjlkYmQ4IiwiXzB4NDk2ZGNmIiwiXzB4MjAwM2NlIiwiXzB4NWY0NzAyIiwiXzB4MzNkNTQxIiwiXzB4MzRhNzEyIiwiXzB4NWJkZDA4IiwiXzB4MTY4ZWQ5IiwiXzB4M2FhODIxIiwiU2V0IiwiXzB4MjI3NmEwIl0sIm1hcHBpbmdzIjoia29HQUFBLGFBS0EsTUFBTUEsV0FBQSxDQUFjQyxPQUFBLEMsV0FBQSxDQUFwQixDQUNBLE1BQU1DLFFBQUEsQ0FBV0QsT0FBQSxDLGlCQUFBLENBQWpCLENBQ0EsTUFBTUUsTUFBQSxDQUFTRixPQUFBLEMsaUJBQUEsQ0FBZixDQUNBLE1BQU1HLE1BQUEsQ0FBU0gsT0FBQSxDLGdCQUFBLENBQWYsQ0FDQSxNQUFNSSxTQUFBLENBQVlKLE9BQUEsQyxpQkFBQSxDQUFsQixDQUNBSyxNQUFBLEMsaUJBQUEsRUFBaUIsTUFBTUMsU0FBTixTQUF3QlAsV0FBQSxDLGlCQUFBLENBQW9CLENBQ3pEUSxXQUFBLEVBQWMsQ0FDVixNLGdCQUFBLENBQW1CLEMsYUFDZixDLGlCQURlLEMsVUFFZixDQUFVLEVBRkssQyxXQUdmLENBQVcsQyxPQUNQLENBQU8sQyxpQkFBQSxDLGdCQUFBLENBREEsQyxTQUVQLENBQVMsQyxpQkFBQSxDQUZGLEMsUUFHUCxDQUFRLEMsU0FBQSxDLGdCQUFBLENBSEQsQ0FISSxDLE9BUWYsQyxPQVJlLEMsT0FTZixDLElBVGUsQyxRQVVmLEMsSUFWZSxDLFVBV2YsQyxHQVhlLEMsV0FZZixDLEdBWmUsQyxtQkFhZixDQUFtQixFQWJKLEMsaUJBY2YsQ0FBaUIsRUFkRixDLFFBZWYsQ0FBUSxDLGlDQUFBLEMsZ0JBQUEsQyxpQkFBQSxDLGlCQUFBLENBZk8sQ0FBbkIsRUFz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QSxDLGtCQURoRSxDQUxMLENBRGdCLENBQXJCLEUsT0FBQSxFQVVHLElBQU0sRUFWVCxDQUFOLENBaENpQyxDQUFyQyxDQXZCVSxDQUQyQyxDQUE3RCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyohXG4gKiBAYXV0aG9yIFNhbmthcnNhbiBLYW1wYSAoazNybjMxcDRuaWMpXG4gKiBAY29weXJpZ2h0IDIwMjAgLSBUaGUgQmFzdGlvbiBCb3QgUHJvamVjdFxuICovXG5jb25zdCB0ZXNzZXJhY3RfMSA9IHJlcXVpcmUoXCJ0ZXNzZXJhY3RcIik7XG5jb25zdCBDb25maWdfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHMvQ29uZmlnXCIpO1xuY29uc3QgYXJyYXlzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FycmF5c1wiKTtcbmNvbnN0IGVycm9ycyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9lcnJvcnNcIik7XG5jb25zdCBzbm93Zmxha2UgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvc25vd2ZsYWtlXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBCbGFja2xpc3QgZXh0ZW5kcyB0ZXNzZXJhY3RfMS5Db21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJibGFja2xpc3RcIiwge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiSXQgYWxsb3dzIHlvdSB0byBibGFja2xpc3QgdXNlcnMgYW5kIHNlcnZlcnMgdGhhdC4gQmxhY2tsaXN0ZWQgc2VydmVycyBhbmQgdXNlcnMgZG9uJ3QgaGF2ZSBhY2Nlc3MgdG8gQmFzdGlvbidzIGNvbW1hbmRzLlwiLFxuICAgICAgICAgICAgdHJpZ2dlcnM6IFtdLFxuICAgICAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgYXJyYXk6IFtcInNlcnZlcnNcIiwgXCJ1c2Vyc1wiXSxcbiAgICAgICAgICAgICAgICBib29sZWFuOiBbXCJyZW1vdmVcIl0sXG4gICAgICAgICAgICAgICAgc3RyaW5nOiBbXCJzZXJ2ZXJzXCIsIFwidXNlcnNcIl0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NvcGU6IFwiZ3VpbGRcIixcbiAgICAgICAgICAgIG93bmVyOiB0cnVlLFxuICAgICAgICAgICAgdHlwaW5nOiB0cnVlLFxuICAgICAgICAgICAgY29vbGRvd246IDAsXG4gICAgICAgICAgICByYXRlbGltaXQ6IDEsXG4gICAgICAgICAgICBjbGllbnRQZXJtaXNzaW9uczogW10sXG4gICAgICAgICAgICB1c2VyUGVybWlzc2lvbnM6IFtdLFxuICAgICAgICAgICAgc3ludGF4OiBbXG4gICAgICAgICAgICAgICAgXCJibGFja2xpc3QgLS11c2VycyBVU0VSX0lEXCIsXG4gICAgICAgICAgICAgICAgXCJibGFja2xpc3QgLS1zZXJ2ZXJzIFNFUlZFUl9JRFwiLFxuICAgICAgICAgICAgICAgIFwiYmxhY2tsaXN0IC0tdXNlcnMgVVNFUl9JRCAtLXJlbW92ZVwiLFxuICAgICAgICAgICAgICAgIFwiYmxhY2tsaXN0IC0tc2VydmVycyBTRVJWRVJfSUQgLS1yZW1vdmVcIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4ZWMgPSBhc3luYyAobWVzc2FnZSwgYXJndikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gYXdhaXQgQ29uZmlnXzEuZGVmYXVsdC5maW5kQnlJZCh0aGlzLmNsaWVudC51c2VyLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlcnMgPSBhcmd2LnNlcnZlcnMgPyBhcmd2LnNlcnZlcnMuZmlsdGVyKChpZCkgPT4gc25vd2ZsYWtlLmlzVmFsaWQoaWQpKSA6IFtdO1xuICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBhcmd2LnVzZXJzID8gYXJndi51c2Vycy5maWx0ZXIoKGlkKSA9PiBzbm93Zmxha2UuaXNWYWxpZChpZCkpIDogW107XG4gICAgICAgICAgICBpZiAoIXNlcnZlcnMubGVuZ3RoICYmICF1c2Vycy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9ycy5Db21tYW5kU3ludGF4RXJyb3IodGhpcy5uYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgaWYgKHNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3YucmVtb3ZlKVxuICAgICAgICAgICAgICAgICAgICBjb25maWcuYmxhY2tsaXN0ZWRHdWlsZElkcyA9IGNvbmZpZy5ibGFja2xpc3RlZEd1aWxkSWRzLmZpbHRlcihpZCA9PiAhc2VydmVycy5pbmNsdWRlcyhpZCkpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmJsYWNrbGlzdGVkR3VpbGRJZHMgPSBbLi4udXNlcnMsIC4uLmNvbmZpZy5ibGFja2xpc3RlZEd1aWxkSWRzXTtcbiAgICAgICAgICAgICAgICBjb25maWcuYmxhY2tsaXN0ZWRHdWlsZElkcyA9IFsuLi5uZXcgU2V0KGNvbmZpZy5ibGFja2xpc3RlZEd1aWxkSWRzKV07XG4gICAgICAgICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlNlcnZlcnNcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFycmF5cy50b0J1bGxldExpc3Qoc2VydmVycyksXG4gICAgICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChhcmd2LnJlbW92ZSlcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmJsYWNrbGlzdGVkVXNlcklkcyA9IGNvbmZpZy5ibGFja2xpc3RlZFVzZXJJZHMuZmlsdGVyKGlkID0+ICF1c2Vycy5pbmNsdWRlcyhpZCkpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmJsYWNrbGlzdGVkVXNlcklkcyA9IFsuLi51c2VycywgLi4uY29uZmlnLmJsYWNrbGlzdGVkVXNlcklkc107XG4gICAgICAgICAgICAgICAgY29uZmlnLmJsYWNrbGlzdGVkVXNlcklkcyA9IFsuLi5uZXcgU2V0KGNvbmZpZy5ibGFja2xpc3RlZFVzZXJJZHMpXTtcbiAgICAgICAgICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVXNlcnNcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGFycmF5cy50b0J1bGxldExpc3QodXNlcnMpLFxuICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcuc2F2ZSgpO1xuICAgICAgICAgICAgYXdhaXQgbWVzc2FnZS5jaGFubmVsLnNlbmQoe1xuICAgICAgICAgICAgICAgIGVtYmVkOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLlBVUElMLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJCYXN0aW9uJ3MgQmxhY2tsaXN0XCIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJlcnJvcnNcIiwgc2VydmVycy5sZW5ndGggfHwgdXNlcnMubGVuZ3RoID8gXCJiYXN0aW9uQmxhY2tsaXN0VXBkYXRlXCIgOiBcImJhc3Rpb25CbGFja2xpc3RVbmNoYW5nZWRcIiwgbWVzc2FnZS5hdXRob3IudGFnKSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzLFxuICAgICAgICAgICAgICAgICAgICBmb290ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGAke2NvbmZpZy5ibGFja2xpc3RlZEd1aWxkSWRzLmxlbmd0aH0gQmxhY2tsaXN0ZWQgU2VydmVycyAvICR7Y29uZmlnLmJsYWNrbGlzdGVkVXNlcklkcy5sZW5ndGh9IEJsYWNrbGlzdGVkIFVzZXJzYCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxufTsiXX0=