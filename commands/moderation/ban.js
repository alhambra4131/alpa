const a56_0x17c0=['ban\x20--list','reason','send','client','ban\x20--user\x20USER_ID\x20--days\x20NUMBER\x20--\x20REASON','locale','channel','info','fetchBans','user','constructor','catch','return\x20/\x22\x20+\x20this\x20+\x20\x22/','DARK_BUT_NOT_BLACK','tesseract','join','member','errors','author','Page\x20','values','test','It\x20allows\x20you\x20to\x20ban\x20(or\x20soft\x20ban)\x20users\x20from\x20the\x20server,\x20and\x20optionally\x20clear\x20their\x20messages\x20from\x20the\x20specified\x20number\x20of\x20days.\x20It\x20also\x20allows\x20you\x20to\x20list\x20all\x20the\x20users\x20banned\x20in\x20the\x20server.','apply','resolver','members','items','unban','Constants','CommandSyntaxError','tag','name','ban','en_us','rolePosition','guildBanAdd','ban\x20--user\x20USER_ID\x20--\x20REASON','get','soft','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','\x20/\x20','exec','page','COLORS','memberSoftBan','Reason','compile','canManage','guild','cache','ownerID','exports','RED','getString','list','../../utils/pagination','map','pages','BAN_MEMBERS','\x20of\x20','ORANGE'];(function(_0x351115,_0x17c078){const _0x3b2840=function(_0xae0b7){while(--_0xae0b7){_0x351115['push'](_0x351115['shift']());}};const _0x37a6c9=function(){const _0x359d46={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x420356,_0xac84a3,_0x20f6f3,_0x30d374){_0x30d374=_0x30d374||{};let _0x13beb7=_0xac84a3+'='+_0x20f6f3;let _0x4d4443=0x0;for(let _0x19b9cf=0x0,_0x4ae874=_0x420356['length'];_0x19b9cf<_0x4ae874;_0x19b9cf++){const _0x137402=_0x420356[_0x19b9cf];_0x13beb7+=';\x20'+_0x137402;const _0x25e8e3=_0x420356[_0x137402];_0x420356['push'](_0x25e8e3);_0x4ae874=_0x420356['length'];if(_0x25e8e3!==!![]){_0x13beb7+='='+_0x25e8e3;}}_0x30d374['cookie']=_0x13beb7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x364a53,_0x4075d0){_0x364a53=_0x364a53||function(_0x5add08){return _0x5add08;};const _0x5926d6=_0x364a53(new RegExp('(?:^|;\x20)'+_0x4075d0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x1773e1=function(_0x17912a,_0x1ef0e6){_0x17912a(++_0x1ef0e6);};_0x1773e1(_0x3b2840,_0x17c078);return _0x5926d6?decodeURIComponent(_0x5926d6[0x1]):undefined;}};const _0x4512e2=function(){const _0x431e02=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x431e02['test'](_0x359d46['removeCookie']['toString']());};_0x359d46['updateCookie']=_0x4512e2;let _0x2d2b1f='';const _0x28ac40=_0x359d46['updateCookie']();if(!_0x28ac40){_0x359d46['setCookie'](['*'],'counter',0x1);}else if(_0x28ac40){_0x2d2b1f=_0x359d46['getCookie'](null,'counter');}else{_0x359d46['removeCookie']();}};_0x37a6c9();}(a56_0x17c0,0x143));const a56_0x3b28=function(_0x351115,_0x17c078){_0x351115=_0x351115-0x0;let _0x3b2840=a56_0x17c0[_0x351115];return _0x3b2840;};const a56_0x359d46=function(){let _0x4d8f62=!![];return function(_0x42f75b,_0x3ca37a){const _0x144312=_0x4d8f62?function(){if(_0x3ca37a){const _0x2f66df=_0x3ca37a[a56_0x3b28('0x5')](_0x42f75b,arguments);_0x3ca37a=null;return _0x2f66df;}}:function(){};_0x4d8f62=![];return _0x144312;};}();const a56_0xae0b7=a56_0x359d46(this,function(){const _0x124eaf=function(){const _0x5cdf82=_0x124eaf[a56_0x3b28('0x35')](a56_0x3b28('0x37'))()[a56_0x3b28('0x1c')](a56_0x3b28('0x15'));return!_0x5cdf82[a56_0x3b28('0x3')](a56_0xae0b7);};return _0x124eaf();});a56_0xae0b7();'use strict';const tesseract_1=require(a56_0x3b28('0x39'));const pagination=require(a56_0x3b28('0x25'));const errors=require('../../utils/errors');module[a56_0x3b28('0x21')]=class Ban extends tesseract_1['Command']{constructor(){super(a56_0x3b28('0xe'),{'description':a56_0x3b28('0x4'),'triggers':[],'arguments':{'alias':{'days':'d','list':'l','page':'p','soft':'s','user':'u'},'boolean':[a56_0x3b28('0x24'),a56_0x3b28('0x14')],'default':{'days':0x0,'page':0x1},'number':['days',a56_0x3b28('0x18')],'string':['user']},'scope':a56_0x3b28('0x1e'),'owner':![],'typing':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a56_0x3b28('0x28')],'userPermissions':[a56_0x3b28('0x28')],'syntax':[a56_0x3b28('0x2b'),'ban\x20--list\x20--page\x203',a56_0x3b28('0x12'),'ban\x20--user\x20USER_ID\x20--soft\x20--\x20REASON',a56_0x3b28('0x2f')]});this[a56_0x3b28('0x17')]=async(_0x6c5310,_0x13476f)=>{if(_0x13476f[a56_0x3b28('0x24')]){const _0xc0c894=await _0x6c5310['guild'][a56_0x3b28('0x33')]();const _0x2b3397=pagination['paginate']([..._0xc0c894[a56_0x3b28('0x2')]()],_0x13476f[a56_0x3b28('0x18')]);return await _0x6c5310[a56_0x3b28('0x31')]['send']({'embed':{'color':tesseract_1['Constants'][a56_0x3b28('0x19')][a56_0x3b28('0x2a')],'title':'Banned\x20Users','description':'Users\x20banned\x20in\x20'+_0x6c5310[a56_0x3b28('0x1e')]['name'],'fields':_0x2b3397[a56_0x3b28('0x8')][a56_0x3b28('0x26')](_0x242070=>({'name':_0x242070[a56_0x3b28('0x34')]['tag']+a56_0x3b28('0x16')+_0x242070[a56_0x3b28('0x34')]['id'],'value':_0x242070[a56_0x3b28('0x2c')]||'-'})),'footer':{'text':a56_0x3b28('0x1')+_0x2b3397[a56_0x3b28('0x18')]+a56_0x3b28('0x29')+_0x2b3397[a56_0x3b28('0x27')]}}});}const _0x1cb59e=this[a56_0x3b28('0x2e')][a56_0x3b28('0x6')]['resolveUser'](_0x13476f['user']);if(!_0x1cb59e)throw new errors[(a56_0x3b28('0xb'))](this[a56_0x3b28('0xd')]);if(_0x6c5310[a56_0x3b28('0x0')]['id']!==_0x6c5310['guild'][a56_0x3b28('0x20')]&&_0x6c5310[a56_0x3b28('0x1e')]['members']['cache']['has'](_0x1cb59e['id'])&&!_0x6c5310[a56_0x3b28('0x3b')][a56_0x3b28('0x1d')](_0x6c5310[a56_0x3b28('0x1e')]['members'][a56_0x3b28('0x1f')][a56_0x3b28('0x13')](_0x1cb59e['id']))){return await _0x6c5310[a56_0x3b28('0x31')][a56_0x3b28('0x2d')]({'embed':{'color':tesseract_1[a56_0x3b28('0xa')]['COLORS'][a56_0x3b28('0x22')],'title':this['client']['locale'][a56_0x3b28('0x23')](a56_0x3b28('0xf'),a56_0x3b28('0x3c'),'unauthorized'),'description':this['client']['locale']['getString'](a56_0x3b28('0xf'),a56_0x3b28('0x3c'),a56_0x3b28('0x10'),_0x6c5310[a56_0x3b28('0x0')][a56_0x3b28('0xc')],_0x1cb59e[a56_0x3b28('0xc')])}})[a56_0x3b28('0x36')](()=>{});}const _0x2d4d15=_0x13476f['_'][a56_0x3b28('0x3a')]('\x20')||'-';await _0x6c5310[a56_0x3b28('0x1e')][a56_0x3b28('0x7')][a56_0x3b28('0xe')](_0x1cb59e,{'days':_0x13476f['days'],'reason':_0x2d4d15});if(_0x13476f[a56_0x3b28('0x14')]){await _0x6c5310[a56_0x3b28('0x1e')][a56_0x3b28('0x7')][a56_0x3b28('0x9')](_0x1cb59e,_0x2d4d15);}await _0x6c5310[a56_0x3b28('0x31')][a56_0x3b28('0x2d')]({'embed':{'color':tesseract_1[a56_0x3b28('0xa')][a56_0x3b28('0x19')][a56_0x3b28('0x38')],'description':_0x13476f['soft']?this['client'][a56_0x3b28('0x30')][a56_0x3b28('0x23')]('en_us','info',a56_0x3b28('0x1a'),_0x6c5310[a56_0x3b28('0x0')][a56_0x3b28('0xc')],_0x1cb59e[a56_0x3b28('0xc')]):this[a56_0x3b28('0x2e')][a56_0x3b28('0x30')][a56_0x3b28('0x23')](a56_0x3b28('0xf'),a56_0x3b28('0x32'),a56_0x3b28('0x11'),_0x6c5310[a56_0x3b28('0x0')]['tag'],_0x1cb59e[a56_0x3b28('0xc')]),'fields':[{'name':a56_0x3b28('0x1b'),'value':_0x2d4d15}],'footer':{'text':_0x1cb59e['id']}}})[a56_0x3b28('0x36')](()=>{});};}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhbi5qcyJdLCJuYW1lcyI6WyJ0ZXNzZXJhY3RfMSIsInJlcXVpcmUiLCJwYWdpbmF0aW9uIiwiZXJyb3JzIiwibW9kdWxlIiwiQmFuIiwiY29uc3RydWN0b3IiLCJfMHg2YzUzMTAiLCJfMHgxMzQ3NmYiLCJfMHhjMGM4OTQiLCJfMHgyYjMzOTciLCJfMHgyNDIwNzAiLCJfMHgxY2I1OWUiLCJfMHgyZDRkMTUiXSwibWFwcGluZ3MiOiIweEdBQUEsYUFLQSxNQUFNQSxXQUFBLENBQWNDLE9BQUEsQyxrQkFBQSxDQUFwQixDQUNBLE1BQU1DLFVBQUEsQ0FBYUQsT0FBQSxDLGtCQUFBLENBQW5CLENBQ0EsTUFBTUUsTUFBQSxDQUFTRixPQUFBLEMsb0JBQUEsQ0FBZixDQUNBRyxNQUFBLEMsa0JBQUEsRUFBaUIsTUFBTUMsR0FBTixTQUFrQkwsV0FBQSxDLFNBQUEsQ0FBb0IsQ0FDbkRNLFdBQUEsRUFBYyxDQUNWLE0saUJBQUEsQ0FBYSxDLGFBQ1QsQyxpQkFEUyxDLFVBRVQsQ0FBVSxFQUZELEMsV0FHVCxDQUFXLEMsT0FDUCxDQUFPLEMsTUFDSCxDLEdBREcsQyxNQUVILEMsR0FGRyxDLE1BR0gsQyxHQUhHLEMsTUFJSCxDLEdBSkcsQyxNQUtILEMsR0FMRyxDQURBLEMsU0FRUCxDQUFTLEMsa0JBQUEsQyxrQkFBQSxDQVJGLEMsU0FTUCxDQUFTLEMsTUFDTCxDLEdBREssQyxNQUVMLEMsR0FGSyxDQVRGLEMsUUFhUCxDQUFRLEMsTUFBQSxDLGtCQUFBLENBYkQsQyxRQWNQLENBQVEsQyxNQUFBLENBZEQsQ0FIRixDLE9BbUJULEMsa0JBbkJTLEMsT0FvQlQsQyxHQXBCUyxDLFFBcUJULEMsSUFyQlMsQyxVQXNCVCxDLEdBdEJTLEMsV0F1QlQsQyxHQXZCUyxDLG1CQXdCVCxDQUFtQixDLGtCQUFBLENBeEJWLEMsaUJBeUJULENBQWlCLEMsa0JBQUEsQ0F6QlIsQyxRQTBCVCxDQUFRLEMsa0JBQUEsQyw4QkFBQSxDLGtCQUFBLEMsb0RBQUEsQyxrQkFB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QUEsRSxrQkFBQSxFLGtCQUFBLENBREosQyxhQUVILENBQWFRLFNBQUEsQyxNQUFBLEVBQ1AsSyxRQUFBLEUsa0JBQUEsRSxrQkFBQSxFLE9BQUEsQyxNQUFBLEMsa0JBQUEsQ0FBK0RELFNBQUEsQyxpQkFBQSxFLGlCQUFBLENBQS9ELENBQW1GSyxTQUFBLEMsaUJBQUEsQ0FBbkYsQ0FETyxDQUVQLEssa0JBQUEsRSxrQkFBQSxFLGtCQUFBLEUsaUJBQUEsQyxrQkFBQSxDLGtCQUFBLENBQTZETCxTQUFBLEMsaUJBQUEsRSxLQUFBLENBQTdELENBQWlGSyxTQUFBLEMsaUJBQUEsQ0FBakYsQ0FKSCxDLFFBS0gsQ0FBUSxDQUNKLEMsTUFDSSxDLGtCQURKLEMsT0FFSSxDQUFPQyxTQUZYLENBREksQ0FMTCxDLFFBV0gsQ0FBUSxDLE1BQ0osQ0FBTUQsU0FBQSxDLElBQUEsQ0FERixDQVhMLENBRGdCLENBQXJCLEUsa0JBQUEsRUFnQkcsSUFBTSxFQWhCVCxDQUFOLENBeENpQyxDQUFyQyxDQW5DVSxDQURxQyxDQUF2RCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyohXG4gKiBAYXV0aG9yIFNhbmthcnNhbiBLYW1wYSAoazNybjMxcDRuaWMpXG4gKiBAY29weXJpZ2h0IDIwMjAgLSBUaGUgQmFzdGlvbiBCb3QgUHJvamVjdFxuICovXG5jb25zdCB0ZXNzZXJhY3RfMSA9IHJlcXVpcmUoXCJ0ZXNzZXJhY3RcIik7XG5jb25zdCBwYWdpbmF0aW9uID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3BhZ2luYXRpb25cIik7XG5jb25zdCBlcnJvcnMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZXJyb3JzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBCYW4gZXh0ZW5kcyB0ZXNzZXJhY3RfMS5Db21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJiYW5cIiwge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiSXQgYWxsb3dzIHlvdSB0byBiYW4gKG9yIHNvZnQgYmFuKSB1c2VycyBmcm9tIHRoZSBzZXJ2ZXIsIGFuZCBvcHRpb25hbGx5IGNsZWFyIHRoZWlyIG1lc3NhZ2VzIGZyb20gdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgZGF5cy4gSXQgYWxzbyBhbGxvd3MgeW91IHRvIGxpc3QgYWxsIHRoZSB1c2VycyBiYW5uZWQgaW4gdGhlIHNlcnZlci5cIixcbiAgICAgICAgICAgIHRyaWdnZXJzOiBbXSxcbiAgICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgICAgIGFsaWFzOiB7XG4gICAgICAgICAgICAgICAgICAgIGRheXM6IFwiZFwiLFxuICAgICAgICAgICAgICAgICAgICBsaXN0OiBcImxcIixcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogXCJwXCIsXG4gICAgICAgICAgICAgICAgICAgIHNvZnQ6IFwic1wiLFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBcInVcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvb2xlYW46IFtcImxpc3RcIiwgXCJzb2Z0XCJdLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZGF5czogMCxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG51bWJlcjogW1wiZGF5c1wiLCBcInBhZ2VcIl0sXG4gICAgICAgICAgICAgICAgc3RyaW5nOiBbXCJ1c2VyXCJdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjb3BlOiBcImd1aWxkXCIsXG4gICAgICAgICAgICBvd25lcjogZmFsc2UsXG4gICAgICAgICAgICB0eXBpbmc6IHRydWUsXG4gICAgICAgICAgICBjb29sZG93bjogMCxcbiAgICAgICAgICAgIHJhdGVsaW1pdDogMSxcbiAgICAgICAgICAgIGNsaWVudFBlcm1pc3Npb25zOiBbXCJCQU5fTUVNQkVSU1wiXSxcbiAgICAgICAgICAgIHVzZXJQZXJtaXNzaW9uczogW1wiQkFOX01FTUJFUlNcIl0sXG4gICAgICAgICAgICBzeW50YXg6IFtcbiAgICAgICAgICAgICAgICBcImJhbiAtLWxpc3RcIixcbiAgICAgICAgICAgICAgICBcImJhbiAtLWxpc3QgLS1wYWdlIDNcIixcbiAgICAgICAgICAgICAgICBcImJhbiAtLXVzZXIgVVNFUl9JRCAtLSBSRUFTT05cIixcbiAgICAgICAgICAgICAgICBcImJhbiAtLXVzZXIgVVNFUl9JRCAtLXNvZnQgLS0gUkVBU09OXCIsXG4gICAgICAgICAgICAgICAgXCJiYW4gLS11c2VyIFVTRVJfSUQgLS1kYXlzIE5VTUJFUiAtLSBSRUFTT05cIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4ZWMgPSBhc3luYyAobWVzc2FnZSwgYXJndikgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZ3YubGlzdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhbnMgPSBhd2FpdCBtZXNzYWdlLmd1aWxkLmZldGNoQmFucygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhbkluZm8gPSBwYWdpbmF0aW9uLnBhZ2luYXRlKFsuLi5iYW5zLnZhbHVlcygpXSwgYXJndi5wYWdlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgbWVzc2FnZS5jaGFubmVsLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBlbWJlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRlc3NlcmFjdF8xLkNvbnN0YW50cy5DT0xPUlMuT1JBTkdFLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQmFubmVkIFVzZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJVc2VycyBiYW5uZWQgaW4gXCIgKyBtZXNzYWdlLmd1aWxkLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IGJhbkluZm8uaXRlbXMubWFwKChiYW4pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYmFuLnVzZXIudGFnICsgXCIgLyBcIiArIGJhbi51c2VyLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBiYW4ucmVhc29uIHx8IFwiLVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogYFBhZ2UgJHtiYW5JbmZvLnBhZ2V9IG9mICR7YmFuSW5mby5wYWdlc31gXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlciA9IHRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVVc2VyKGFyZ3YudXNlcik7XG4gICAgICAgICAgICBpZiAoIXVzZXIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9ycy5Db21tYW5kU3ludGF4RXJyb3IodGhpcy5uYW1lKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmF1dGhvci5pZCAhPT0gbWVzc2FnZS5ndWlsZC5vd25lcklEICYmIG1lc3NhZ2UuZ3VpbGQubWVtYmVycy5jYWNoZS5oYXModXNlci5pZCkgJiYgIW1lc3NhZ2UubWVtYmVyLmNhbk1hbmFnZShtZXNzYWdlLmd1aWxkLm1lbWJlcnMuY2FjaGUuZ2V0KHVzZXIuaWQpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBtZXNzYWdlLmNoYW5uZWwuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIGVtYmVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGVzc2VyYWN0XzEuQ29uc3RhbnRzLkNPTE9SUy5SRUQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiZXJyb3JzXCIsIFwidW5hdXRob3JpemVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuY2xpZW50LmxvY2FsZS5nZXRTdHJpbmcoXCJlbl91c1wiLCBcImVycm9yc1wiLCBcInJvbGVQb3NpdGlvblwiLCBtZXNzYWdlLmF1dGhvci50YWcsIHVzZXIudGFnKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZWFzb24gPSBhcmd2Ll8uam9pbihcIiBcIikgfHwgXCItXCI7XG4gICAgICAgICAgICBhd2FpdCBtZXNzYWdlLmd1aWxkLm1lbWJlcnMuYmFuKHVzZXIsIHtcbiAgICAgICAgICAgICAgICBkYXlzOiBhcmd2LmRheXMsXG4gICAgICAgICAgICAgICAgcmVhc29uOiByZWFzb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhcmd2LnNvZnQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBtZXNzYWdlLmd1aWxkLm1lbWJlcnMudW5iYW4odXNlciwgcmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICBlbWJlZDoge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGVzc2VyYWN0XzEuQ29uc3RhbnRzLkNPTE9SUy5EQVJLX0JVVF9OT1RfQkxBQ0ssXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhcmd2LnNvZnRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiaW5mb1wiLCBcIm1lbWJlclNvZnRCYW5cIiwgbWVzc2FnZS5hdXRob3IudGFnLCB1c2VyLnRhZylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiaW5mb1wiLCBcImd1aWxkQmFuQWRkXCIsIG1lc3NhZ2UuYXV0aG9yLnRhZywgdXNlci50YWcpLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlJlYXNvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBmb290ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHVzZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbn07Il19