const a57_0x213f=['test','COLORS','pinned','bots','time','MANAGE_MESSAGES','en_us','messages','user','compile','system','exec','clear\x20--bots\x20--\x20REASON','noDeletableMessages','then','filter','_raw','tesseract','clear\x20--limit\x2042\x20--\x20REASON','channel','exports','delete','info','RED','resolveUser','purge','join','bot','Command','apply','Constants','\x20messages','deletable','Reason','Cleared\x20','It\x20allows\x20you\x20to\x20clear\x20a\x20specified\x20number\x20of\x20messages\x20in\x20a\x20channel.\x20You\x20can\x20optionally\x20filter\x20the\x20messages\x20that\x20should\x20be\x20cleard\x20based\x20on\x20the\x20message\x20author,\x20or\x20since\x20when\x20it\x20was\x20sent,\x20or\x20whether\x20it\x20is\x20pinned\x20or\x20system\x20message\x20or\x20a\x20bot\x20sent\x20it.','getString','createdTimestamp','clear\x20--system\x20--\x20REASON','limit','clean','send','client','return\x20/\x22\x20+\x20this\x20+\x20\x22/','clear\x20--pinned\x20--\x20REASON','resolver','bulkDelete','messageClear','clear','clear\x20--user\x20USER_ID\x20--\x20REASON','size','author','catch','locale','tag','clear\x20--\x20REASON'];(function(_0x4912cc,_0x213f0b){const _0x44433f=function(_0x56f61f){while(--_0x56f61f){_0x4912cc['push'](_0x4912cc['shift']());}};const _0x30b79d=function(){const _0x505017={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x444c21,_0x5c2cd9,_0x15e8d0,_0x36d106){_0x36d106=_0x36d106||{};let _0x1888e7=_0x5c2cd9+'='+_0x15e8d0;let _0x2be8a8=0x0;for(let _0x2b7f57=0x0,_0x4679fa=_0x444c21['length'];_0x2b7f57<_0x4679fa;_0x2b7f57++){const _0x276672=_0x444c21[_0x2b7f57];_0x1888e7+=';\x20'+_0x276672;const _0x5b7aca=_0x444c21[_0x276672];_0x444c21['push'](_0x5b7aca);_0x4679fa=_0x444c21['length'];if(_0x5b7aca!==!![]){_0x1888e7+='='+_0x5b7aca;}}_0x36d106['cookie']=_0x1888e7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x501a56,_0x9fbed6){_0x501a56=_0x501a56||function(_0xd422fe){return _0xd422fe;};const _0x521a7e=_0x501a56(new RegExp('(?:^|;\x20)'+_0x9fbed6['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x1dc727=function(_0x2b5e3c,_0x51992f){_0x2b5e3c(++_0x51992f);};_0x1dc727(_0x44433f,_0x213f0b);return _0x521a7e?decodeURIComponent(_0x521a7e[0x1]):undefined;}};const _0x3e5bc4=function(){const _0x27d7c7=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x27d7c7['test'](_0x505017['removeCookie']['toString']());};_0x505017['updateCookie']=_0x3e5bc4;let _0x5e5ec5='';const _0x1ff34d=_0x505017['updateCookie']();if(!_0x1ff34d){_0x505017['setCookie'](['*'],'counter',0x1);}else if(_0x1ff34d){_0x5e5ec5=_0x505017['getCookie'](null,'counter');}else{_0x505017['removeCookie']();}};_0x30b79d();}(a57_0x213f,0x197));const a57_0x4443=function(_0x4912cc,_0x213f0b){_0x4912cc=_0x4912cc-0x0;let _0x44433f=a57_0x213f[_0x4912cc];return _0x44433f;};const a57_0x505017=function(){let _0x3cefd0=!![];return function(_0x18a068,_0x508409){const _0x16b94a=_0x3cefd0?function(){if(_0x508409){const _0x4dac05=_0x508409[a57_0x4443('0xe')](_0x18a068,arguments);_0x508409=null;return _0x4dac05;}}:function(){};_0x3cefd0=![];return _0x16b94a;};}();const a57_0x56f61f=a57_0x505017(this,function(){const _0x50bc12=function(){const _0x1f9ae9=_0x50bc12['constructor'](a57_0x4443('0x1c'))()[a57_0x4443('0x32')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1f9ae9[a57_0x4443('0x29')](a57_0x56f61f);};return _0x50bc12();});a57_0x56f61f();'use strict';const tesseract_1=require(a57_0x4443('0x2'));module[a57_0x4443('0x5')]=class Clear extends tesseract_1[a57_0x4443('0xd')]{constructor(){super(a57_0x4443('0x21'),{'description':a57_0x4443('0x14'),'triggers':[a57_0x4443('0x19'),a57_0x4443('0xa')],'arguments':{'alias':{'limit':'l','time':'t','user':'u'},'boolean':['bots',a57_0x4443('0x2b'),'system'],'number':[a57_0x4443('0x18'),a57_0x4443('0x2d')],'string':[a57_0x4443('0x31')]},'scope':'guild','owner':![],'typing':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a57_0x4443('0x2e')],'userPermissions':[a57_0x4443('0x2e')],'syntax':[a57_0x4443('0x28'),a57_0x4443('0x3'),a57_0x4443('0x22'),a57_0x4443('0x35'),a57_0x4443('0x1d'),a57_0x4443('0x17'),'clear\x20--time\x201586478504946\x20--\x20REASON']});this[a57_0x4443('0x34')]=async(_0x54045c,_0x5ee114)=>{let _0x61a56b=await _0x54045c[a57_0x4443('0x4')][a57_0x4443('0x30')]['fetch']({'limit':_0x5ee114['limit']||0x64,'before':_0x54045c['id']},![]);const _0x161f37=this[a57_0x4443('0x1b')][a57_0x4443('0x1e')][a57_0x4443('0x9')](_0x5ee114[a57_0x4443('0x31')]);if(_0x161f37)_0x61a56b=_0x61a56b[a57_0x4443('0x0')](_0x8ce203=>_0x8ce203[a57_0x4443('0x24')]['id']===_0x161f37['id']);else if(_0x5ee114['user'])_0x61a56b=_0x61a56b[a57_0x4443('0x0')](_0x4bd123=>_0x4bd123[a57_0x4443('0x24')]['id']===_0x5ee114[a57_0x4443('0x31')]);if(_0x5ee114[a57_0x4443('0x2c')])_0x61a56b=_0x61a56b['filter'](_0x372530=>_0x372530[a57_0x4443('0x24')]['bot']);else if(_0x5ee114[a57_0x4443('0x2c')]===![])_0x61a56b=_0x61a56b['filter'](_0x3b15aa=>!_0x3b15aa[a57_0x4443('0x24')][a57_0x4443('0xc')]);if(_0x5ee114[a57_0x4443('0x2b')])_0x61a56b=_0x61a56b['filter'](_0xac40b9=>_0xac40b9['pinned']);else if(_0x5ee114[a57_0x4443('0x2b')]===![])_0x61a56b=_0x61a56b[a57_0x4443('0x0')](_0x241ba6=>!_0x241ba6[a57_0x4443('0x2b')]);if(_0x5ee114['system'])_0x61a56b=_0x61a56b[a57_0x4443('0x0')](_0x35b77b=>_0x35b77b['system']);else if(_0x5ee114[a57_0x4443('0x33')]===![])_0x61a56b=_0x61a56b['filter'](_0x2108b7=>!_0x2108b7['system']);if(_0x5ee114[a57_0x4443('0x2d')]){_0x61a56b=_0x61a56b[a57_0x4443('0x0')](_0x10fb03=>_0x10fb03['createdTimestamp']>=_0x54045c[a57_0x4443('0x16')]-_0x5ee114[a57_0x4443('0x2d')]*0xea60);}const _0x1a04ad=_0x5ee114['_'][a57_0x4443('0xb')]('\x20')||'-';const _0xae457c=await _0x54045c[a57_0x4443('0x4')][a57_0x4443('0x1f')](_0x61a56b,!![]);if(!_0xae457c[a57_0x4443('0x23')]){return await _0x54045c[a57_0x4443('0x4')][a57_0x4443('0x1a')]({'embed':{'color':tesseract_1[a57_0x4443('0xf')][a57_0x4443('0x2a')][a57_0x4443('0x8')],'title':this[a57_0x4443('0x1b')][a57_0x4443('0x26')]['getString'](a57_0x4443('0x2f'),'errors','notFound'),'description':this[a57_0x4443('0x1b')][a57_0x4443('0x26')][a57_0x4443('0x15')](a57_0x4443('0x2f'),'errors',a57_0x4443('0x36'))}})[a57_0x4443('0x25')](()=>{});}await _0x54045c[a57_0x4443('0x4')]['send']({'embed':{'color':tesseract_1[a57_0x4443('0xf')][a57_0x4443('0x2a')]['ORANGE'],'description':this[a57_0x4443('0x1b')][a57_0x4443('0x26')][a57_0x4443('0x15')](a57_0x4443('0x2f'),a57_0x4443('0x7'),a57_0x4443('0x20'),_0x54045c[a57_0x4443('0x24')][a57_0x4443('0x27')],_0xae457c[a57_0x4443('0x23')]),'fields':[{'name':a57_0x4443('0x12'),'value':_0x1a04ad}]}})[a57_0x4443('0x37')](_0x3eea1a=>{if(_0x54045c[a57_0x4443('0x11')])_0x54045c[a57_0x4443('0x6')]({'reason':_0x5ee114[a57_0x4443('0x1')]})[a57_0x4443('0x25')](()=>{});_0x3eea1a['delete']({'timeout':0xea60,'reason':a57_0x4443('0x13')+_0xae457c[a57_0x4443('0x23')]+a57_0x4443('0x10')})[a57_0x4443('0x25')](()=>{});})[a57_0x4443('0x25')](()=>{});};}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsZWFyLmpzIl0sIm5hbWVzIjpbInRlc3NlcmFjdF8xIiwicmVxdWlyZSIsIm1vZHVsZSIsIkNsZWFyIiwiY29uc3RydWN0b3IiLCJfMHg1NDA0NWMiLCJfMHg1ZWUxMTQiLCJfMHg2MWE1NmIiLCJfMHgxNjFmMzciLCJfMHg4Y2UyMDMiLCJfMHg0YmQxMjMiLCJfMHgzNzI1MzAiLCJfMHgzYjE1YWEiLCJfMHhhYzQwYjkiLCJfMHgyNDFiYTYiLCJfMHgzNWI3N2IiLCJfMHgyMTA4YjciLCJfMHgxMGZiMDMiLCJfMHgxYTA0YWQiLCJfMHhhZTQ1N2MiLCJfMHgzZWVhMWEiXSwibWFwcGluZ3MiOiI2MkdBQUEsYUFLQSxNQUFNQSxXQUFBLENBQWNDLE9BQUEsQyxpQkFBQSxDQUFwQixDQUNBQyxNQUFBLEMsaUJBQUEsRUFBaUIsTUFBTUMsS0FBTixTQUFvQkgsV0FBQSxDLGlCQUFBLENBQW9CLENBQ3JESSxXQUFBLEVBQWMsQ0FDVixNLGtCQUFBLENBQWUsQyxhQUNYLEMsa0JBRFcsQyxVQUVYLENBQVUsQyxrQkFBQSxDLGlCQUFBLENBRkMsQyxXQUdYLENBQVcsQyxPQUNQLENBQU8sQyxPQUNILEMsR0FERyxDLE1BRUgsQyxHQUZHLEMsTUFHSCxDLEdBSEcsQ0FEQSxDLFNBTVAsQ0FBUyxDLE1BQUEsQyxrQkFBQSxDLFFBQUEsQ0FORixDLFFBT1AsQ0FBUSxDLGtCQUFBLEMsa0JBQUEsQ0FQRCxDLFFBUVAsQ0FBUSxDLGtCQUFBLENBUkQsQ0FIQSxDLE9BYVgsQyxPQWJXLEMsT0FjWCxDLEdBZFcsQyxRQWVYLEMsSUFmVyxDLFVBZ0JYLEMsR0FoQlcsQyxXQWlCWCxDLEdBakJXLEMsbUJBa0JYLENBQW1CLEMsa0JBQUEsQ0FsQlIsQyxpQkFtQlgsQ0FBaUIsQyxrQkFBQSxDQW5CTixDLFFBb0JYLENBQVEsQyxrQkFBQSxDLGlCQUFBLEMsa0JBQUEsQyxrQkFBQSxDLGtCQUFBLEMsa0JBQUEsQyxrREFBQSxDQXBCRyxDQUFmLEVBOEJBLEssa0JBQUEsRUFB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LEMsT0FDSCxDQUFPTCxXQUFBLEMsaUJBQUEsRSxrQkFBQSxFLFFBQUEsQ0FESixDLGFBRUgsQ0FBYSxLLGtCQUFBLEUsa0JBQUEsRSxrQkFBQSxFLGtCQUFBLEMsaUJBQUEsQyxrQkFBQSxDQUE4REssU0FBQSxDLGtCQUFBLEUsa0JBQUEsQ0FBOUQsQ0FBa0ZjLFNBQUEsQyxrQkFBQSxDQUFsRixDQUZWLEMsUUFHSCxDQUFRLENBQ0osQyxNQUNJLEMsa0JBREosQyxPQUVJLENBQU9ELFNBRlgsQ0FESSxDQUhMLENBRGdCLENBQXJCLEUsa0JBQUEsRUFXRUUsU0FBQSxFQUFLLENBQ1QsR0FBSWYsU0FBQSxDLGtCQUFBLENBQUosQ0FDSUEsU0FBQSxDLGlCQUFBLEVBQWUsQyxRQUFFLENBQVFDLFNBQUEsQyxpQkFBQSxDQUFWLENBQWYsRSxrQkFBQSxFQUE0QyxJQUFNLEVBQWxELEVBRUpjLFNBQUEsQyxRQUFBLEVBQVMsQyxTQUNMLEMsTUFESyxDLFFBRUwsQyxtQkFBbUJELFNBQUEsQyxrQkFBQSxDLG1CQUZkLENBQVQsRSxrQkFBQSxFQUdTLElBQU0sRUFIZixFQUpTLENBWFAsRSxrQkFBQSxFQW9CRyxJQUFNLEVBcEJULENBQU4sQ0FyQ2lDLENBQXJDLENBL0JVLENBRHVDLENBQXpEIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiFcbiAqIEBhdXRob3IgU2Fua2Fyc2FuIEthbXBhIChrM3JuMzFwNG5pYylcbiAqIEBjb3B5cmlnaHQgMjAyMCAtIFRoZSBCYXN0aW9uIEJvdCBQcm9qZWN0XG4gKi9cbmNvbnN0IHRlc3NlcmFjdF8xID0gcmVxdWlyZShcInRlc3NlcmFjdFwiKTtcbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgQ2xlYXIgZXh0ZW5kcyB0ZXNzZXJhY3RfMS5Db21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJjbGVhclwiLCB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJJdCBhbGxvd3MgeW91IHRvIGNsZWFyIGEgc3BlY2lmaWVkIG51bWJlciBvZiBtZXNzYWdlcyBpbiBhIGNoYW5uZWwuIFlvdSBjYW4gb3B0aW9uYWxseSBmaWx0ZXIgdGhlIG1lc3NhZ2VzIHRoYXQgc2hvdWxkIGJlIGNsZWFyZCBiYXNlZCBvbiB0aGUgbWVzc2FnZSBhdXRob3IsIG9yIHNpbmNlIHdoZW4gaXQgd2FzIHNlbnQsIG9yIHdoZXRoZXIgaXQgaXMgcGlubmVkIG9yIHN5c3RlbSBtZXNzYWdlIG9yIGEgYm90IHNlbnQgaXQuXCIsXG4gICAgICAgICAgICB0cmlnZ2VyczogW1wiY2xlYW5cIiwgXCJwdXJnZVwiXSxcbiAgICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgICAgIGFsaWFzOiB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0OiBcImxcIixcbiAgICAgICAgICAgICAgICAgICAgdGltZTogXCJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IFwidVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9vbGVhbjogW1wiYm90c1wiLCBcInBpbm5lZFwiLCBcInN5c3RlbVwiXSxcbiAgICAgICAgICAgICAgICBudW1iZXI6IFtcImxpbWl0XCIsIFwidGltZVwiXSxcbiAgICAgICAgICAgICAgICBzdHJpbmc6IFtcInVzZXJcIl0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NvcGU6IFwiZ3VpbGRcIixcbiAgICAgICAgICAgIG93bmVyOiBmYWxzZSxcbiAgICAgICAgICAgIHR5cGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGNvb2xkb3duOiAwLFxuICAgICAgICAgICAgcmF0ZWxpbWl0OiAxLFxuICAgICAgICAgICAgY2xpZW50UGVybWlzc2lvbnM6IFtcIk1BTkFHRV9NRVNTQUdFU1wiXSxcbiAgICAgICAgICAgIHVzZXJQZXJtaXNzaW9uczogW1wiTUFOQUdFX01FU1NBR0VTXCJdLFxuICAgICAgICAgICAgc3ludGF4OiBbXG4gICAgICAgICAgICAgICAgXCJjbGVhciAtLSBSRUFTT05cIixcbiAgICAgICAgICAgICAgICBcImNsZWFyIC0tbGltaXQgNDIgLS0gUkVBU09OXCIsXG4gICAgICAgICAgICAgICAgXCJjbGVhciAtLXVzZXIgVVNFUl9JRCAtLSBSRUFTT05cIixcbiAgICAgICAgICAgICAgICBcImNsZWFyIC0tYm90cyAtLSBSRUFTT05cIixcbiAgICAgICAgICAgICAgICBcImNsZWFyIC0tcGlubmVkIC0tIFJFQVNPTlwiLFxuICAgICAgICAgICAgICAgIFwiY2xlYXIgLS1zeXN0ZW0gLS0gUkVBU09OXCIsXG4gICAgICAgICAgICAgICAgXCJjbGVhciAtLXRpbWUgMTU4NjQ3ODUwNDk0NiAtLSBSRUFTT05cIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4ZWMgPSBhc3luYyAobWVzc2FnZSwgYXJndikgPT4ge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2VzID0gYXdhaXQgbWVzc2FnZS5jaGFubmVsLm1lc3NhZ2VzLmZldGNoKHtcbiAgICAgICAgICAgICAgICBsaW1pdDogYXJndi5saW1pdCB8fCAxMDAsXG4gICAgICAgICAgICAgICAgYmVmb3JlOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IHRoaXMuY2xpZW50LnJlc29sdmVyLnJlc29sdmVVc2VyKGFyZ3YudXNlcik7XG4gICAgICAgICAgICBpZiAodXNlcilcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IG1lc3NhZ2VzLmZpbHRlcihtID0+IG0uYXV0aG9yLmlkID09PSB1c2VyLmlkKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3YudXNlcilcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IG1lc3NhZ2VzLmZpbHRlcihtID0+IG0uYXV0aG9yLmlkID09PSBhcmd2LnVzZXIpO1xuICAgICAgICAgICAgaWYgKGFyZ3YuYm90cylcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IG1lc3NhZ2VzLmZpbHRlcihtID0+IG0uYXV0aG9yLmJvdCk7XG4gICAgICAgICAgICBlbHNlIGlmIChhcmd2LmJvdHMgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKG0gPT4gIW0uYXV0aG9yLmJvdCk7XG4gICAgICAgICAgICBpZiAoYXJndi5waW5uZWQpXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5maWx0ZXIobSA9PiBtLnBpbm5lZCk7XG4gICAgICAgICAgICBlbHNlIGlmIChhcmd2LnBpbm5lZCA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5maWx0ZXIobSA9PiAhbS5waW5uZWQpO1xuICAgICAgICAgICAgaWYgKGFyZ3Yuc3lzdGVtKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5zeXN0ZW0pO1xuICAgICAgICAgICAgZWxzZSBpZiAoYXJndi5zeXN0ZW0gPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKG0gPT4gIW0uc3lzdGVtKTtcbiAgICAgICAgICAgIGlmIChhcmd2LnRpbWUpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IG1lc3NhZ2VzLmZpbHRlcihtID0+IG0uY3JlYXRlZFRpbWVzdGFtcCA+PSBtZXNzYWdlLmNyZWF0ZWRUaW1lc3RhbXAgLSAoYXJndi50aW1lICogNmU0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZWFzb24gPSBhcmd2Ll8uam9pbihcIiBcIikgfHwgXCItXCI7XG4gICAgICAgICAgICBjb25zdCBjbGVhcmVkTWVzc2FnZXMgPSBhd2FpdCBtZXNzYWdlLmNoYW5uZWwuYnVsa0RlbGV0ZShtZXNzYWdlcywgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoIWNsZWFyZWRNZXNzYWdlcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLlJFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJlcnJvcnNcIiwgXCJub3RGb3VuZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJlcnJvcnNcIiwgXCJub0RlbGV0YWJsZU1lc3NhZ2VzXCIpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICBlbWJlZDoge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGVzc2VyYWN0XzEuQ29uc3RhbnRzLkNPTE9SUy5PUkFOR0UsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJpbmZvXCIsIFwibWVzc2FnZUNsZWFyXCIsIG1lc3NhZ2UuYXV0aG9yLnRhZywgY2xlYXJlZE1lc3NhZ2VzLnNpemUpLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlJlYXNvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KS50aGVuKG0gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmRlbGV0YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kZWxldGUoeyByZWFzb246IGFyZ3YuX3JhdyB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG0uZGVsZXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNmU0LFxuICAgICAgICAgICAgICAgICAgICByZWFzb246IGBDbGVhcmVkICR7Y2xlYXJlZE1lc3NhZ2VzLnNpemV9IG1lc3NhZ2VzYCxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG59OyJdfQ==