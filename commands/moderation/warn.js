const a66_0x32d4=['toBulletList','clearInfractions','KICK_MEMBERS','getString','get','No\x20one\x20has\x20been\x20warned\x20in\x20the\x20server.','_id','author','guild','\x20of\x20','Constants','info','send','exec','user','members','channel','tag','../../utils/errors','memberWarnDM','tesseract','Command','warn','ownerID','ORANGE','infractions','warn\x20--user\x20USER_ID\x20--\x20REASON','COLORS','errors','page','cache','warn\x20--list','../../utils/arrays','RED','compile','resolveGuildMember','clear','catch','Users\x20warned\x20in\x20the\x20server.','It\x20allows\x20you\x20to\x20warn\x20server\x20members,\x20as\x20well\x20as\x20clear\x20their\x20infractions.\x20It\x20also\x20allows\x20you\x20to\x20list\x20all\x20the\x20infractions.','client','constructor','list','has','name','CommandSyntaxError','warn\x20--user\x20USER_ID\x20--clear\x20--\x20REASON','canManage','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','locale','resolver','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../models/Member','length','member','unauthorized','items','en_us','map','memberWarn'];(function(_0x36f593,_0x32d468){const _0x291c66=function(_0x2b098e){while(--_0x2b098e){_0x36f593['push'](_0x36f593['shift']());}};const _0x568e6d=function(){const _0x4e08cd={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1a6d23,_0x263305,_0x5c7e7c,_0x38f253){_0x38f253=_0x38f253||{};let _0x1b784e=_0x263305+'='+_0x5c7e7c;let _0x1f263f=0x0;for(let _0x1004dd=0x0,_0x595a28=_0x1a6d23['length'];_0x1004dd<_0x595a28;_0x1004dd++){const _0x52b19a=_0x1a6d23[_0x1004dd];_0x1b784e+=';\x20'+_0x52b19a;const _0x37ddc0=_0x1a6d23[_0x52b19a];_0x1a6d23['push'](_0x37ddc0);_0x595a28=_0x1a6d23['length'];if(_0x37ddc0!==!![]){_0x1b784e+='='+_0x37ddc0;}}_0x38f253['cookie']=_0x1b784e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x79beab,_0xba7acb){_0x79beab=_0x79beab||function(_0x35cf06){return _0x35cf06;};const _0xc533e1=_0x79beab(new RegExp('(?:^|;\x20)'+_0xba7acb['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x2a0b42=function(_0x29fb32,_0x396b15){_0x29fb32(++_0x396b15);};_0x2a0b42(_0x291c66,_0x32d468);return _0xc533e1?decodeURIComponent(_0xc533e1[0x1]):undefined;}};const _0x566015=function(){const _0x230ca1=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x230ca1['test'](_0x4e08cd['removeCookie']['toString']());};_0x4e08cd['updateCookie']=_0x566015;let _0x2a3f81='';const _0x63c63a=_0x4e08cd['updateCookie']();if(!_0x63c63a){_0x4e08cd['setCookie'](['*'],'counter',0x1);}else if(_0x63c63a){_0x2a3f81=_0x4e08cd['getCookie'](null,'counter');}else{_0x4e08cd['removeCookie']();}};_0x568e6d();}(a66_0x32d4,0x72));const a66_0x291c=function(_0x36f593,_0x32d468){_0x36f593=_0x36f593-0x0;let _0x291c66=a66_0x32d4[_0x36f593];return _0x291c66;};const a66_0x4e08cd=function(){let _0x4870b1=!![];return function(_0xd7bf58,_0x43326c){const _0x42b0fd=_0x4870b1?function(){if(_0x43326c){const _0xf494fb=_0x43326c['apply'](_0xd7bf58,arguments);_0x43326c=null;return _0xf494fb;}}:function(){};_0x4870b1=![];return _0x42b0fd;};}();const a66_0x2b098e=a66_0x4e08cd(this,function(){const _0x4abd87=function(){const _0x537b34=_0x4abd87[a66_0x291c('0x2f')](a66_0x291c('0x39'))()[a66_0x291c('0x28')](a66_0x291c('0x36'));return!_0x537b34['test'](a66_0x2b098e);};return _0x4abd87();});a66_0x2b098e();'use strict';const tesseract_1=require(a66_0x291c('0x1a'));const Member_1=require(a66_0x291c('0x3a'));const arrays=require(a66_0x291c('0x26'));const errors=require(a66_0x291c('0x18'));const pagination=require('../../utils/pagination');module['exports']=class Warn extends tesseract_1[a66_0x291c('0x1b')]{constructor(){super(a66_0x291c('0x1c'),{'description':a66_0x291c('0x2d'),'triggers':[],'arguments':{'alias':{'clear':'c','list':'l','user':'u'},'boolean':[a66_0x291c('0x2a'),a66_0x291c('0x30')],'string':[a66_0x291c('0x14')]},'scope':a66_0x291c('0xe'),'owner':![],'typing':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a66_0x291c('0x8')],'syntax':[a66_0x291c('0x25'),a66_0x291c('0x20'),a66_0x291c('0x34')]});this[a66_0x291c('0x13')]=async(_0x5e36f5,_0x1b87ed)=>{if(_0x1b87ed['list']){const _0x3444aa=await Member_1['default']['find']({'guild':_0x5e36f5[a66_0x291c('0xe')]['id'],'infractions':{'$exists':!![],'$ne':[]}});const _0x478cca=pagination['paginate'](_0x3444aa,_0x1b87ed[a66_0x291c('0x23')]);return await _0x5e36f5[a66_0x291c('0x16')][a66_0x291c('0x12')]({'embed':{'color':tesseract_1['Constants'][a66_0x291c('0x21')][a66_0x291c('0x1e')],'title':'Warned\x20Users','description':_0x478cca['items'][a66_0x291c('0x3b')]?a66_0x291c('0x2c'):a66_0x291c('0xb'),'fields':_0x478cca['items'][a66_0x291c('0x4')](_0x1de84d=>({'name':_0x5e36f5[a66_0x291c('0xe')][a66_0x291c('0x15')][a66_0x291c('0x24')][a66_0x291c('0x31')](_0x1de84d[a66_0x291c('0xc')])?_0x5e36f5[a66_0x291c('0xe')][a66_0x291c('0x15')][a66_0x291c('0x24')][a66_0x291c('0xa')](_0x1de84d['_id'])[a66_0x291c('0x14')]['tag']:_0x1de84d[a66_0x291c('0xc')],'value':arrays[a66_0x291c('0x6')](_0x1de84d[a66_0x291c('0x1f')])})),'footer':{'text':_0x478cca[a66_0x291c('0x2')][a66_0x291c('0x3b')]?'Page\x20'+_0x478cca[a66_0x291c('0x23')]+a66_0x291c('0xf')+_0x478cca['pages']:''}}});}const _0x77691=this['client'][a66_0x291c('0x38')][a66_0x291c('0x29')](_0x5e36f5[a66_0x291c('0xe')],_0x1b87ed[a66_0x291c('0x14')]);if(!_0x77691)throw new errors[(a66_0x291c('0x33'))](this[a66_0x291c('0x32')]);const _0x9c1ab4=_0x1b87ed['_']['join']('\x20')||'-';if(_0x5e36f5[a66_0x291c('0xd')]['id']!==_0x5e36f5[a66_0x291c('0xe')][a66_0x291c('0x1d')]&&!_0x5e36f5['member'][a66_0x291c('0x35')](_0x77691)){return await _0x5e36f5[a66_0x291c('0x16')][a66_0x291c('0x12')]({'embed':{'color':tesseract_1[a66_0x291c('0x10')]['COLORS'][a66_0x291c('0x27')],'title':this['client'][a66_0x291c('0x37')][a66_0x291c('0x9')](a66_0x291c('0x3'),a66_0x291c('0x22'),a66_0x291c('0x1')),'description':this[a66_0x291c('0x2e')][a66_0x291c('0x37')][a66_0x291c('0x9')](a66_0x291c('0x3'),'errors','rolePosition',_0x5e36f5[a66_0x291c('0xd')][a66_0x291c('0x17')],_0x77691['user'][a66_0x291c('0x17')])}})[a66_0x291c('0x2b')](()=>{});}if(_0x1b87ed[a66_0x291c('0x2a')]){await _0x77691[a66_0x291c('0x7')]();return await _0x5e36f5[a66_0x291c('0x16')]['send']({'embed':{'color':tesseract_1[a66_0x291c('0x10')][a66_0x291c('0x21')][a66_0x291c('0x1e')],'description':this[a66_0x291c('0x2e')][a66_0x291c('0x37')]['getString'](a66_0x291c('0x3'),a66_0x291c('0x11'),'memberInfractionsClear',_0x5e36f5['author'][a66_0x291c('0x17')],_0x77691[a66_0x291c('0x14')][a66_0x291c('0x17')],_0x9c1ab4)}})['catch'](()=>{});}await _0x77691['addInfraction'](_0x9c1ab4);await _0x5e36f5[a66_0x291c('0x0')][a66_0x291c('0x12')]({'embed':{'color':tesseract_1[a66_0x291c('0x10')][a66_0x291c('0x21')][a66_0x291c('0x1e')],'description':this[a66_0x291c('0x2e')][a66_0x291c('0x37')]['getString'](a66_0x291c('0x3'),a66_0x291c('0x11'),a66_0x291c('0x19'),_0x5e36f5['author'][a66_0x291c('0x17')],_0x5e36f5[a66_0x291c('0xe')]['name'],_0x9c1ab4)}})[a66_0x291c('0x2b')](()=>{});await _0x5e36f5[a66_0x291c('0x16')][a66_0x291c('0x12')]({'embed':{'color':tesseract_1[a66_0x291c('0x10')][a66_0x291c('0x21')][a66_0x291c('0x1e')],'description':this[a66_0x291c('0x2e')]['locale'][a66_0x291c('0x9')]('en_us',a66_0x291c('0x11'),a66_0x291c('0x5'),_0x5e36f5[a66_0x291c('0xd')][a66_0x291c('0x17')],_0x77691['user'][a66_0x291c('0x17')],_0x9c1ab4)}})['catch'](()=>{});};}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndhcm4uanMiXSwibmFtZXMiOlsidGVzc2VyYWN0XzEiLCJyZXF1aXJlIiwiTWVtYmVyXzEiLCJhcnJheXMiLCJlcnJvcnMiLCJwYWdpbmF0aW9uIiwibW9kdWxlIiwiV2FybiIsImNvbnN0cnVjdG9yIiwiXzB4NWUzNmY1IiwiXzB4MWI4N2VkIiwiXzB4MzQ0NGFhIiwiXzB4NDc4Y2NhIiwiXzB4MWRlODRkIiwiXzB4Nzc2OTEiLCJfMHg5YzFhYjQiXSwibWFwcGluZ3MiOiJtd0dBQUEsYUFLQSxNQUFNQSxXQUFBLENBQWNDLE9BQUEsQyxrQkFBQSxDQUFwQixDQUNBLE1BQU1DLFFBQUEsQ0FBV0QsT0FBQSxDLGtCQUFBLENBQWpCLENBQ0EsTUFBTUUsTUFBQSxDQUFTRixPQUFBLEMsa0JBQUEsQ0FBZixDQUNBLE1BQU1HLE1BQUEsQ0FBU0gsT0FBQSxDLGtCQUFBLENBQWYsQ0FDQSxNQUFNSSxVQUFBLENBQWFKLE9BQUEsQyx3QkFBQSxDQUFuQixDQUNBSyxNQUFBLEMsU0FBQSxFQUFpQixNQUFNQyxJQUFOLFNBQW1CUCxXQUFBLEMsa0JBQUEsQ0FBb0IsQ0FDcERRLFdBQUEsRUFBYyxDQUNWLE0sa0JBQUEsQ0FBYyxDLGFBQ1YsQyxrQkFEVSxDLFVBRVYsQ0FBVSxFQUZBLEMsV0FHVixDQUFXLEMsT0FDUCxDQUFPLEMsT0FDSCxDLEdBREcsQyxNQUVILEMsR0FGRyxDLE1BR0gsQyxHQUhHLENBREEsQyxTQU1QLENBQVMsQyxrQkFBQSxDLGtCQUFBLENBTkYsQyxRQU9QLENBQVEsQyxrQkFBQSxDQVBELENBSEQsQyxPQVlWLEMsaUJBWlUsQyxPQWFWLEMsR0FiVSxDLFFBY1YsQyxJQWRVLEMsVUFlVixDLEdBZlUsQyxXQWdCVixDLEdBaEJVLEMsbUJBaUJWLENBQW1CLEVBakJULEMsaUJBa0JWLENBQWlCLEMsaUJBQUEsQ0FsQlAsQyxRQW1CVixDQUFRLEMsa0JBQUEsQyxrQkFBQSxDLGtCQUFBLENBbkJFLENBQWQsRUF5QkEsSyxrQkFBQSxFQUFZLE1B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QSxFLGtCQUFBLEUsV0FBQSxFLGlCQUFBLEMsa0JBQUEsQyx3QkFBQSxDQUF3RVMsU0FBQSxDLFFBQUEsRSxrQkFBQSxDQUF4RSxDQUE0RkssUUFBQSxDLGtCQUFBLEUsa0JBQUEsQ0FBNUYsQ0FBNkdDLFNBQTdHLENBRlYsQ0FEdUIsQ0FBckIsRSxPQUFBLEVBS0osSUFBTSxFQUxGLENBQWIsQ0FGWSxDQVVoQixNQUFNRCxRQUFBLEMsZUFBQSxFQUFxQkMsU0FBckIsQ0FBTixDQUNBLE1BQU1OLFNBQUEsQyxpQkFBQSxFLGtCQUFBLEVBQW9CLEMsT0FDdEIsQ0FBTyxDLE9BQ0gsQ0FBT1QsV0FBQSxDLGtCQUFBLEUsa0JBQUEsRSxrQkFBQSxDQURKLEMsYUFFSCxDQUFhLEssa0JBQUEsRSxrQkFBQSxFLFdBQUEsRSxpQkFBQSxDLGtCQUFBLEMsa0JBQUEsQ0FBOERTLFNBQUEsQyxRQUFBLEUsa0JBQUEsQ0FBOUQsQ0FBa0ZBLFNBQUEsQyxpQkFBQSxFLE1BQUEsQ0FBbEYsQ0FBc0dNLFNBQXRHLENBRlYsQ0FEZSxDQUFwQixFLGtCQUFBLEVBS0csSUFBTSxFQUxULENBQU4sQ0FPQSxNQUFNTixTQUFBLEMsa0JBQUEsRSxrQkFBQSxFQUFxQixDLE9BQ3ZCLENBQU8sQyxPQUNILENBQU9ULFdBQUEsQyxrQkFBQSxFLGtCQUFBLEUsa0JBQUEsQ0FESixDLGFBRUgsQ0FBYSxLLGtCQUFBLEUsUUFBQSxFLGlCQUFBLEUsT0FBQSxDLGtCQUFBLEMsaUJBQUEsQ0FBNERTLFNBQUEsQyxpQkFBQSxFLGtCQUFBLENBQTVELENBQWdGSyxRQUFBLEMsTUFBQSxFLGtCQUFBLENBQWhGLENBQWlHQyxTQUFqRyxDQUZWLENBRGdCLENBQXJCLEUsT0FBQSxFQUtHLElBQU0sRUFMVCxDQUFOLENBdERpQyxDQUFyQyxDQTFCVSxDQURzQyxDQUF4RCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyohXG4gKiBAYXV0aG9yIFNhbmthcnNhbiBLYW1wYSAoazNybjMxcDRuaWMpXG4gKiBAY29weXJpZ2h0IDIwMjAgLSBUaGUgQmFzdGlvbiBCb3QgUHJvamVjdFxuICovXG5jb25zdCB0ZXNzZXJhY3RfMSA9IHJlcXVpcmUoXCJ0ZXNzZXJhY3RcIik7XG5jb25zdCBNZW1iZXJfMSA9IHJlcXVpcmUoXCIuLi8uLi9tb2RlbHMvTWVtYmVyXCIpO1xuY29uc3QgYXJyYXlzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FycmF5c1wiKTtcbmNvbnN0IGVycm9ycyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9lcnJvcnNcIik7XG5jb25zdCBwYWdpbmF0aW9uID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3BhZ2luYXRpb25cIik7XG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFdhcm4gZXh0ZW5kcyB0ZXNzZXJhY3RfMS5Db21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJ3YXJuXCIsIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkl0IGFsbG93cyB5b3UgdG8gd2FybiBzZXJ2ZXIgbWVtYmVycywgYXMgd2VsbCBhcyBjbGVhciB0aGVpciBpbmZyYWN0aW9ucy4gSXQgYWxzbyBhbGxvd3MgeW91IHRvIGxpc3QgYWxsIHRoZSBpbmZyYWN0aW9ucy5cIixcbiAgICAgICAgICAgIHRyaWdnZXJzOiBbXSxcbiAgICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgICAgIGFsaWFzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyOiBcImNcIixcbiAgICAgICAgICAgICAgICAgICAgbGlzdDogXCJsXCIsXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IFwidVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9vbGVhbjogW1wiY2xlYXJcIiwgXCJsaXN0XCJdLFxuICAgICAgICAgICAgICAgIHN0cmluZzogW1widXNlclwiXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY29wZTogXCJndWlsZFwiLFxuICAgICAgICAgICAgb3duZXI6IGZhbHNlLFxuICAgICAgICAgICAgdHlwaW5nOiB0cnVlLFxuICAgICAgICAgICAgY29vbGRvd246IDAsXG4gICAgICAgICAgICByYXRlbGltaXQ6IDEsXG4gICAgICAgICAgICBjbGllbnRQZXJtaXNzaW9uczogW10sXG4gICAgICAgICAgICB1c2VyUGVybWlzc2lvbnM6IFtcIktJQ0tfTUVNQkVSU1wiXSxcbiAgICAgICAgICAgIHN5bnRheDogW1xuICAgICAgICAgICAgICAgIFwid2FybiAtLWxpc3RcIixcbiAgICAgICAgICAgICAgICBcIndhcm4gLS11c2VyIFVTRVJfSUQgLS0gUkVBU09OXCIsXG4gICAgICAgICAgICAgICAgXCJ3YXJuIC0tdXNlciBVU0VSX0lEIC0tY2xlYXIgLS0gUkVBU09OXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5leGVjID0gYXN5bmMgKG1lc3NhZ2UsIGFyZ3YpID0+IHtcbiAgICAgICAgICAgIGlmIChhcmd2Lmxpc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3YXJuZWRNZW1iZXJEb2N1bWVudHMgPSBhd2FpdCBNZW1iZXJfMS5kZWZhdWx0LmZpbmQoe1xuICAgICAgICAgICAgICAgICAgICBndWlsZDogbWVzc2FnZS5ndWlsZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgaW5mcmFjdGlvbnM6IHsgJGV4aXN0czogdHJ1ZSwgJG5lOiBbXSB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhcm5lZE1lbWJlcnMgPSBwYWdpbmF0aW9uLnBhZ2luYXRlKHdhcm5lZE1lbWJlckRvY3VtZW50cywgYXJndi5wYWdlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgbWVzc2FnZS5jaGFubmVsLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBlbWJlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRlc3NlcmFjdF8xLkNvbnN0YW50cy5DT0xPUlMuT1JBTkdFLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiV2FybmVkIFVzZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogd2FybmVkTWVtYmVycy5pdGVtcy5sZW5ndGggPyBcIlVzZXJzIHdhcm5lZCBpbiB0aGUgc2VydmVyLlwiIDogXCJObyBvbmUgaGFzIGJlZW4gd2FybmVkIGluIHRoZSBzZXJ2ZXIuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IHdhcm5lZE1lbWJlcnMuaXRlbXMubWFwKChtZW1iZXIpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbWVzc2FnZS5ndWlsZC5tZW1iZXJzLmNhY2hlLmhhcyhtZW1iZXIuX2lkKSA/IG1lc3NhZ2UuZ3VpbGQubWVtYmVycy5jYWNoZS5nZXQobWVtYmVyLl9pZCkudXNlci50YWcgOiBtZW1iZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhcnJheXMudG9CdWxsZXRMaXN0KG1lbWJlci5pbmZyYWN0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB3YXJuZWRNZW1iZXJzLml0ZW1zLmxlbmd0aCA/IGBQYWdlICR7d2FybmVkTWVtYmVycy5wYWdlfSBvZiAke3dhcm5lZE1lbWJlcnMucGFnZXN9YCA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVtYmVyID0gdGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZUd1aWxkTWVtYmVyKG1lc3NhZ2UuZ3VpbGQsIGFyZ3YudXNlcik7XG4gICAgICAgICAgICBpZiAoIW1lbWJlcilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzLkNvbW1hbmRTeW50YXhFcnJvcih0aGlzLm5hbWUpO1xuICAgICAgICAgICAgY29uc3QgcmVhc29uID0gYXJndi5fLmpvaW4oXCIgXCIpIHx8IFwiLVwiO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aG9yLmlkICE9PSBtZXNzYWdlLmd1aWxkLm93bmVySUQgJiYgIW1lc3NhZ2UubWVtYmVyLmNhbk1hbmFnZShtZW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLlJFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJlcnJvcnNcIiwgXCJ1bmF1dGhvcml6ZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiZXJyb3JzXCIsIFwicm9sZVBvc2l0aW9uXCIsIG1lc3NhZ2UuYXV0aG9yLnRhZywgbWVtYmVyLnVzZXIudGFnKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJndi5jbGVhcikge1xuICAgICAgICAgICAgICAgIGF3YWl0IG1lbWJlci5jbGVhckluZnJhY3Rpb25zKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLk9SQU5HRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJpbmZvXCIsIFwibWVtYmVySW5mcmFjdGlvbnNDbGVhclwiLCBtZXNzYWdlLmF1dGhvci50YWcsIG1lbWJlci51c2VyLnRhZywgcmVhc29uKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBtZW1iZXIuYWRkSW5mcmFjdGlvbihyZWFzb24pO1xuICAgICAgICAgICAgYXdhaXQgbWVzc2FnZS5tZW1iZXIuc2VuZCh7XG4gICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRlc3NlcmFjdF8xLkNvbnN0YW50cy5DT0xPUlMuT1JBTkdFLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiaW5mb1wiLCBcIm1lbWJlcldhcm5ETVwiLCBtZXNzYWdlLmF1dGhvci50YWcsIG1lc3NhZ2UuZ3VpbGQubmFtZSwgcmVhc29uKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBtZXNzYWdlLmNoYW5uZWwuc2VuZCh7XG4gICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRlc3NlcmFjdF8xLkNvbnN0YW50cy5DT0xPUlMuT1JBTkdFLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiaW5mb1wiLCBcIm1lbWJlcldhcm5cIiwgbWVzc2FnZS5hdXRob3IudGFnLCBtZW1iZXIudXNlci50YWcsIHJlYXNvbiksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbn07Il19