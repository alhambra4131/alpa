const a41_0x37b9=['join','commands\x20CATEGORY','includes','Commands','modules','catch','exec','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','toLowerCase','search','values','test','snakeToTitleCase','en_us','filter','keys','didYouKnowCommandsCount','length','```\x0a','COLORS','map','YELLOW','Command\x20Search','commandDetailsOption','```','manager','send','size','commandCategoriesCommand','```css\x0a','```bash\x0acommands\x20--help```','info','commandSearchFound','push','client','slice','https://bastion.traction.one/commands','Command','commandsWebsite','channel','Command\x20Categories','category','Commands\x20in\x20','Constants','locale','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Need\x20more\x20details?','name','\x20Category','getString','exports'];(function(_0x2032f0,_0x37b9eb){const _0x3fbb39=function(_0x4c6271){while(--_0x4c6271){_0x2032f0['push'](_0x2032f0['shift']());}};const _0x30460a=function(){const _0x530880={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x54cb6b,_0x4026ae,_0x180a5c,_0x53ea1b){_0x53ea1b=_0x53ea1b||{};let _0x594edd=_0x4026ae+'='+_0x180a5c;let _0x129a56=0x0;for(let _0xbe65d2=0x0,_0x56e422=_0x54cb6b['length'];_0xbe65d2<_0x56e422;_0xbe65d2++){const _0x5129b5=_0x54cb6b[_0xbe65d2];_0x594edd+=';\x20'+_0x5129b5;const _0x433e5c=_0x54cb6b[_0x5129b5];_0x54cb6b['push'](_0x433e5c);_0x56e422=_0x54cb6b['length'];if(_0x433e5c!==!![]){_0x594edd+='='+_0x433e5c;}}_0x53ea1b['cookie']=_0x594edd;},'removeCookie':function(){return'dev';},'getCookie':function(_0x478a6e,_0x47c109){_0x478a6e=_0x478a6e||function(_0x24bf75){return _0x24bf75;};const _0x25fd07=_0x478a6e(new RegExp('(?:^|;\x20)'+_0x47c109['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x5d8e9a=function(_0x111935,_0x2d7e85){_0x111935(++_0x2d7e85);};_0x5d8e9a(_0x3fbb39,_0x37b9eb);return _0x25fd07?decodeURIComponent(_0x25fd07[0x1]):undefined;}};const _0x5d6417=function(){const _0x1fe1b8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1fe1b8['test'](_0x530880['removeCookie']['toString']());};_0x530880['updateCookie']=_0x5d6417;let _0x4dc5d2='';const _0x1e75d2=_0x530880['updateCookie']();if(!_0x1e75d2){_0x530880['setCookie'](['*'],'counter',0x1);}else if(_0x1e75d2){_0x4dc5d2=_0x530880['getCookie'](null,'counter');}else{_0x530880['removeCookie']();}};_0x30460a();}(a41_0x37b9,0xeb));const a41_0x3fbb=function(_0x2032f0,_0x37b9eb){_0x2032f0=_0x2032f0-0x0;let _0x3fbb39=a41_0x37b9[_0x2032f0];return _0x3fbb39;};const a41_0x530880=function(){let _0x42dc3c=!![];return function(_0x5ce7ef,_0x55c97a){const _0x58e4d2=_0x42dc3c?function(){if(_0x55c97a){const _0x38d8e6=_0x55c97a['apply'](_0x5ce7ef,arguments);_0x55c97a=null;return _0x38d8e6;}}:function(){};_0x42dc3c=![];return _0x58e4d2;};}();const a41_0x4c6271=a41_0x530880(this,function(){const _0x367481=function(){const _0x13a0d4=_0x367481['constructor'](a41_0x3fbb('0xe'))()['compile'](a41_0x3fbb('0x1b'));return!_0x13a0d4[a41_0x3fbb('0x1f')](a41_0x4c6271);};return _0x367481();});a41_0x4c6271();'use strict';const tesseract_1=require('tesseract');const strings=require('../../utils/strings');module[a41_0x3fbb('0x13')]=class Commands extends tesseract_1[a41_0x3fbb('0x6')]{constructor(){super('commands',{'description':'It\x20allows\x20you\x20the\x20see\x20the\x20list\x20of\x20commands\x20available\x20in\x20Bastion.\x20You\x20can\x20also\x20use\x20it\x20to\x20search\x20for\x20commands\x20matching\x20a\x20given\x20query.','triggers':[],'arguments':{'alias':{'search':['s']},'string':[a41_0x3fbb('0x1d')]},'scope':'guild','owner':![],'typing':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':['commands',a41_0x3fbb('0x15'),'commands\x20--search\x20QUERY']});this[a41_0x3fbb('0x1a')]=async(_0x42b668,_0x4fd658)=>{if(_0x4fd658[a41_0x3fbb('0x1d')]){const _0x4922cd=this[a41_0x3fbb('0x2d')][a41_0x3fbb('0x18')][a41_0x3fbb('0x28')](_0x134496=>_0x134496[a41_0x3fbb('0x10')])[a41_0x3fbb('0x22')](_0x59e766=>_0x59e766['toLowerCase']()['includes'](_0x4fd658[a41_0x3fbb('0x1d')][a41_0x3fbb('0x1c')]()));return await _0x42b668['channel'][a41_0x3fbb('0x2e')]({'embed':{'color':tesseract_1['Constants'][a41_0x3fbb('0x27')]['YELLOW'],'title':a41_0x3fbb('0x2a'),'description':this[a41_0x3fbb('0x3')][a41_0x3fbb('0xd')][a41_0x3fbb('0x12')](a41_0x3fbb('0x21'),a41_0x3fbb('0x0'),a41_0x3fbb('0x1'),_0x4922cd[a41_0x3fbb('0x25')]['toString'](),_0x4fd658[a41_0x3fbb('0x1d')]),'fields':[{'name':a41_0x3fbb('0x17'),'value':a41_0x3fbb('0x26')+_0x4922cd[a41_0x3fbb('0x4')](0x0,0xa)['join']('\x0a')+a41_0x3fbb('0x2c')},{'name':'Want\x20the\x20complete\x20list?','value':this['client'][a41_0x3fbb('0xd')][a41_0x3fbb('0x12')](a41_0x3fbb('0x21'),a41_0x3fbb('0x0'),a41_0x3fbb('0x7'))}],'footer':{'text':this[a41_0x3fbb('0x3')][a41_0x3fbb('0xd')][a41_0x3fbb('0x12')](a41_0x3fbb('0x21'),'info',a41_0x3fbb('0x24'),this[a41_0x3fbb('0x2d')]['modules'][a41_0x3fbb('0x2f')])}}})[a41_0x3fbb('0x19')](()=>{});}const _0x52e868={};for(const _0x3075f2 of this[a41_0x3fbb('0x2d')]['modules'][a41_0x3fbb('0x1e')]()){if(_0x3075f2['category']in _0x52e868){_0x52e868[_0x3075f2['category']][a41_0x3fbb('0x2')](_0x3075f2[a41_0x3fbb('0x10')]);}else{_0x52e868[_0x3075f2[a41_0x3fbb('0xa')]]=[_0x3075f2['name']];}}if(_0x4fd658['_'][a41_0x3fbb('0x25')]){const _0x5e8fa7=strings['toSnakeCase'](_0x4fd658['_'][a41_0x3fbb('0x14')]('\x20'));if(Object[a41_0x3fbb('0x23')](_0x52e868)[a41_0x3fbb('0x16')](_0x5e8fa7)){return await _0x42b668[a41_0x3fbb('0x8')][a41_0x3fbb('0x2e')]({'embed':{'color':tesseract_1[a41_0x3fbb('0xc')][a41_0x3fbb('0x27')][a41_0x3fbb('0x29')],'author':{'name':a41_0x3fbb('0xb')+strings['snakeToTitleCase'](_0x5e8fa7)+a41_0x3fbb('0x11'),'url':a41_0x3fbb('0x5')},'description':this[a41_0x3fbb('0x3')][a41_0x3fbb('0xd')][a41_0x3fbb('0x12')]('en_us','info',a41_0x3fbb('0x30'),Object[a41_0x3fbb('0x23')](_0x52e868)[a41_0x3fbb('0x25')]),'fields':[{'name':'Commands','value':a41_0x3fbb('0x31')+_0x52e868[_0x5e8fa7]['join']('\x0a')+a41_0x3fbb('0x2c')},{'name':a41_0x3fbb('0xf'),'value':this[a41_0x3fbb('0x3')][a41_0x3fbb('0xd')][a41_0x3fbb('0x12')](a41_0x3fbb('0x21'),'info',a41_0x3fbb('0x2b'))+a41_0x3fbb('0x32')}],'footer':{'text':this[a41_0x3fbb('0x3')]['locale'][a41_0x3fbb('0x12')]('en_us',a41_0x3fbb('0x0'),a41_0x3fbb('0x24'),this[a41_0x3fbb('0x2d')][a41_0x3fbb('0x18')][a41_0x3fbb('0x2f')])}}})['catch'](()=>{});}return await _0x42b668[a41_0x3fbb('0x8')][a41_0x3fbb('0x2e')]({'embed':{'color':tesseract_1[a41_0x3fbb('0xc')][a41_0x3fbb('0x27')][a41_0x3fbb('0x29')],'description':strings[a41_0x3fbb('0x20')](_0x5e8fa7)+'\x20is\x20an\x20invalid\x20command\x20category.\x20Use\x20the\x20`commands`\x20command\x20without\x20any\x20arguments\x20to\x20get\x20a\x20list\x20of\x20all\x20the\x20available\x20command\x20categories.'}})[a41_0x3fbb('0x19')](()=>{});}await _0x42b668['channel'][a41_0x3fbb('0x2e')]({'embed':{'color':tesseract_1[a41_0x3fbb('0xc')][a41_0x3fbb('0x27')][a41_0x3fbb('0x29')],'title':'Command\x20Categories','description':this[a41_0x3fbb('0x3')][a41_0x3fbb('0xd')][a41_0x3fbb('0x12')]('en_us',a41_0x3fbb('0x0'),'categoryCommandsCommand'),'fields':[{'name':a41_0x3fbb('0x9'),'value':a41_0x3fbb('0x31')+Object[a41_0x3fbb('0x23')](_0x52e868)['map'](_0x2c5293=>strings['snakeToTitleCase'](_0x2c5293))[a41_0x3fbb('0x14')]('\x0a')+'```'},{'name':'Want\x20the\x20complete\x20list?','value':this['client'][a41_0x3fbb('0xd')]['getString'](a41_0x3fbb('0x21'),a41_0x3fbb('0x0'),a41_0x3fbb('0x7'))}],'footer':{'text':this[a41_0x3fbb('0x3')][a41_0x3fbb('0xd')][a41_0x3fbb('0x12')](a41_0x3fbb('0x21'),'info',a41_0x3fbb('0x24'),this['manager'][a41_0x3fbb('0x18')][a41_0x3fbb('0x2f')])}}})[a41_0x3fbb('0x19')](()=>{});};}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1hbmRzLmpzIl0sIm5hbWVzIjpbInRlc3NlcmFjdF8xIiwicmVxdWlyZSIsInN0cmluZ3MiLCJtb2R1bGUiLCJDb21tYW5kcyIsImNvbnN0cnVjdG9yIiwiXzB4NDJiNjY4IiwiXzB4NGZkNjU4IiwiXzB4NDkyMmNkIiwiXzB4MTM0NDk2IiwiXzB4NTllNzY2IiwiXzB4NTJlODY4IiwiXzB4MzA3NWYyIiwiXzB4NWU4ZmE3IiwiT2JqZWN0IiwiXzB4MmM1MjkzIl0sIm1hcHBpbmdzIjoidzhGQUFBLGFBS0EsTUFBTUEsV0FBQSxDQUFjQyxPQUFBLEMsV0FBQSxDQUFwQixDQUNBLE1BQU1DLE9BQUEsQ0FBVUQsT0FBQSxDLHFCQUFBLENBQWhCLENBQ0FFLE1BQUEsQyxrQkFBQSxFQUFpQixNQUFNQyxRQUFOLFNBQXVCSixXQUFBLEMsaUJBQUEsQ0FBb0IsQ0FDeERLLFdBQUEsRUFBYyxDQUNWLE0sVUFBQSxDQUFrQixDLGFBQ2QsQyw2TUFEYyxDLFVBRWQsQ0FBVSxFQUZJLEMsV0FHZCxDQUFXLEMsT0FDUCxDQUFPLEMsUUFDSCxDQUFRLEMsR0FBQSxDQURMLENBREEsQyxRQUlQLENBQVEsQyxrQkFBQSxDQUpELENBSEcsQyxPQVNkLEMsT0FUYyxDLE9BVWQsQyxHQVZjLEMsUUFXZCxDLElBWGMsQyxVQVlkLEMsR0FaYyxDLFdBYWQsQyxHQWJjLEMsbUJBY2QsQ0FBbUIsRUFkTCxDLGlCQWVkLENBQWlCLEVBZkgsQyxRQWdCZCxDQUFRLEMsVUFBQSxDLGtCQUFBLEMsK0JBQUEsQ0FoQk0sQ0FBbEIsRUFzQkEsSyxrQkFBQSxFQUFZLE1BQU9DLFNBQVAsQ0FBZ0JDLFNBQWhCLEdBQXlCLENBQ2pDLEdBQUlBLFNBQUEsQyxrQkFBQSxDQUFKLENBQWlCLENBQ2IsTUFBTUMsU0FBQSxDQUFtQixLLGtCQUFBLEUsa0JBQUEsRSxrQkFBQSxFQUNoQkMsU0FBQSxFQUFLQSxTQUFBLEMsa0JBQUEsQ0FEVyxFLGtCQUFBLEVBRWJDLFNBQUEsRUFBS0EsU0FBQSxD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a2Fyc2FuIEthbXBhIChrM3JuMzFwNG5pYylcbiAqIEBjb3B5cmlnaHQgMjAyMCAtIFRoZSBCYXN0aW9uIEJvdCBQcm9qZWN0XG4gKi9cbmNvbnN0IHRlc3NlcmFjdF8xID0gcmVxdWlyZShcInRlc3NlcmFjdFwiKTtcbmNvbnN0IHN0cmluZ3MgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvc3RyaW5nc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgQ29tbWFuZHMgZXh0ZW5kcyB0ZXNzZXJhY3RfMS5Db21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJjb21tYW5kc1wiLCB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJJdCBhbGxvd3MgeW91IHRoZSBzZWUgdGhlIGxpc3Qgb2YgY29tbWFuZHMgYXZhaWxhYmxlIGluIEJhc3Rpb24uIFlvdSBjYW4gYWxzbyB1c2UgaXQgdG8gc2VhcmNoIGZvciBjb21tYW5kcyBtYXRjaGluZyBhIGdpdmVuIHF1ZXJ5LlwiLFxuICAgICAgICAgICAgdHJpZ2dlcnM6IFtdLFxuICAgICAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgYWxpYXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBbXCJzXCJdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RyaW5nOiBbXCJzZWFyY2hcIl0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NvcGU6IFwiZ3VpbGRcIixcbiAgICAgICAgICAgIG93bmVyOiBmYWxzZSxcbiAgICAgICAgICAgIHR5cGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGNvb2xkb3duOiAwLFxuICAgICAgICAgICAgcmF0ZWxpbWl0OiAxLFxuICAgICAgICAgICAgY2xpZW50UGVybWlzc2lvbnM6IFtdLFxuICAgICAgICAgICAgdXNlclBlcm1pc3Npb25zOiBbXSxcbiAgICAgICAgICAgIHN5bnRheDogW1xuICAgICAgICAgICAgICAgIFwiY29tbWFuZHNcIixcbiAgICAgICAgICAgICAgICBcImNvbW1hbmRzIENBVEVHT1JZXCIsXG4gICAgICAgICAgICAgICAgXCJjb21tYW5kcyAtLXNlYXJjaCBRVUVSWVwiLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXhlYyA9IGFzeW5jIChtZXNzYWdlLCBhcmd2KSA9PiB7XG4gICAgICAgICAgICBpZiAoYXJndi5zZWFyY2gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZENvbW1hbmRzID0gdGhpcy5tYW5hZ2VyLm1vZHVsZXNcbiAgICAgICAgICAgICAgICAgICAgLm1hcChjID0+IGMubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihjID0+IGMudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhhcmd2LnNlYXJjaC50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLllFTExPVyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkNvbW1hbmQgU2VhcmNoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiaW5mb1wiLCBcImNvbW1hbmRTZWFyY2hGb3VuZFwiLCBmaWx0ZXJlZENvbW1hbmRzLmxlbmd0aC50b1N0cmluZygpLCBhcmd2LnNlYXJjaCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQ29tbWFuZHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiYGBgXFxuXCIgKyBmaWx0ZXJlZENvbW1hbmRzLnNsaWNlKDAsIDEwKS5qb2luKFwiXFxuXCIpICsgXCJgYGBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJXYW50IHRoZSBjb21wbGV0ZSBsaXN0P1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiaW5mb1wiLCBcImNvbW1hbmRzV2Vic2l0ZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvb3Rlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuY2xpZW50LmxvY2FsZS5nZXRTdHJpbmcoXCJlbl91c1wiLCBcImluZm9cIiwgXCJkaWRZb3VLbm93Q29tbWFuZHNDb3VudFwiLCB0aGlzLm1hbmFnZXIubW9kdWxlcy5zaXplKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29tbWFuZHMgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiB0aGlzLm1hbmFnZXIubW9kdWxlcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChjb21tYW5kLmNhdGVnb3J5IGluIGNvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmRzW2NvbW1hbmQuY2F0ZWdvcnldLnB1c2goY29tbWFuZC5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmRzW2NvbW1hbmQuY2F0ZWdvcnldID0gW2NvbW1hbmQubmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFyZ3YuXy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHN0cmluZ3MudG9TbmFrZUNhc2UoYXJndi5fLmpvaW4oXCIgXCIpKTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoY29tbWFuZHMpLmluY2x1ZGVzKGNhdGVnb3J5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgbWVzc2FnZS5jaGFubmVsLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGVzc2VyYWN0XzEuQ29uc3RhbnRzLkNPTE9SUy5ZRUxMT1csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQ29tbWFuZHMgaW4gXCIgKyBzdHJpbmdzLnNuYWtlVG9UaXRsZUNhc2UoY2F0ZWdvcnkpICsgXCIgQ2F0ZWdvcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vYmFzdGlvbi50cmFjdGlvbi5vbmUvY29tbWFuZHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJpbmZvXCIsIFwiY29tbWFuZENhdGVnb3JpZXNDb21tYW5kXCIsIE9iamVjdC5rZXlzKGNvbW1hbmRzKS5sZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkNvbW1hbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJgYGBjc3NcXG5cIiArIGNvbW1hbmRzW2NhdGVnb3J5XS5qb2luKFwiXFxuXCIpICsgXCJgYGBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJOZWVkIG1vcmUgZGV0YWlscz9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJpbmZvXCIsIFwiY29tbWFuZERldGFpbHNPcHRpb25cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFwiYGBgYmFzaFxcbmNvbW1hbmRzIC0taGVscGBgYFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuY2xpZW50LmxvY2FsZS5nZXRTdHJpbmcoXCJlbl91c1wiLCBcImluZm9cIiwgXCJkaWRZb3VLbm93Q29tbWFuZHNDb3VudFwiLCB0aGlzLm1hbmFnZXIubW9kdWxlcy5zaXplKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLllFTExPVyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdzLnNuYWtlVG9UaXRsZUNhc2UoY2F0ZWdvcnkpICsgXCIgaXMgYW4gaW52YWxpZCBjb21tYW5kIGNhdGVnb3J5LiBVc2UgdGhlIGBjb21tYW5kc2AgY29tbWFuZCB3aXRob3V0IGFueSBhcmd1bWVudHMgdG8gZ2V0IGEgbGlzdCBvZiBhbGwgdGhlIGF2YWlsYWJsZSBjb21tYW5kIGNhdGVnb3JpZXMuXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgbWVzc2FnZS5jaGFubmVsLnNlbmQoe1xuICAgICAgICAgICAgICAgIGVtYmVkOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLllFTExPVyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQ29tbWFuZCBDYXRlZ29yaWVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJpbmZvXCIsIFwiY2F0ZWdvcnlDb21tYW5kc0NvbW1hbmRcIiksXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQ29tbWFuZCBDYXRlZ29yaWVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiYGBgY3NzXFxuXCIgKyBPYmplY3Qua2V5cyhjb21tYW5kcykubWFwKGMgPT4gc3RyaW5ncy5zbmFrZVRvVGl0bGVDYXNlKGMpKS5qb2luKFwiXFxuXCIpICsgXCJgYGBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJXYW50IHRoZSBjb21wbGV0ZSBsaXN0P1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJpbmZvXCIsIFwiY29tbWFuZHNXZWJzaXRlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgZm9vdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJpbmZvXCIsIFwiZGlkWW91S25vd0NvbW1hbmRzQ291bnRcIiwgdGhpcy5tYW5hZ2VyLm1vZHVsZXMuc2l6ZSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbn07Il19