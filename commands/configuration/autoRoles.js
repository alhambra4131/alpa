const a14_0x466b=['test','\x20/\x20BOTS','client','toString','_id','getString','RED','forBots','autoRolesLimit','autoRoles','autoRoles\x20--add\x20ROLE\x20--bot','bot','resolveRole','constructor','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','roleNotFound','guild','findByIdAndUpdate','It\x20allows\x20you\x20to\x20set\x20up\x20Auto\x20Roles\x20in\x20the\x20server.\x20Auto\x20Roles\x20are\x20the\x20roles\x20which\x20are\x20assigned\x20to\x20users\x20automatically\x20when\x20they\x20join\x20the\x20server.\x20You\x20can\x20optionally\x20set\x20up\x20Auto\x20Roles\x20for\x20either\x20bots\x20or\x20humans.','RoleNotFound','autoAssignable','autoRolesList','\x20/\x20HUMANS','name','For\x20Humans','join','send','Constants','info','cache','channel','autoRolesAdd','For\x20Bots','default','user','apply','find','MAX_AUTO_ROLES','../../utils/errors','catch','autoRoles\x20--add\x20ROLE','has','noAutoRoles','exports','resolver','length','MANAGE_ROLES','tag','Command','autoRolesRemove','roles','GREEN','locale','COLORS','tesseract','add','countDocuments','toUpperCase','remove','en_us','errors','return\x20/\x22\x20+\x20this\x20+\x20\x22/','autoRoles\x20--remove\x20ROLE','forUsers','author'];(function(_0x4ece73,_0x466be6){const _0x2b998d=function(_0x6b90d1){while(--_0x6b90d1){_0x4ece73['push'](_0x4ece73['shift']());}};const _0x5d9bbd=function(){const _0x35a448={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x54fbde,_0x3734ce,_0x1f7ff9,_0x4398b9){_0x4398b9=_0x4398b9||{};let _0x765df5=_0x3734ce+'='+_0x1f7ff9;let _0x4f3dea=0x0;for(let _0x23e0d1=0x0,_0x2263a0=_0x54fbde['length'];_0x23e0d1<_0x2263a0;_0x23e0d1++){const _0x16844b=_0x54fbde[_0x23e0d1];_0x765df5+=';\x20'+_0x16844b;const _0x2a687a=_0x54fbde[_0x16844b];_0x54fbde['push'](_0x2a687a);_0x2263a0=_0x54fbde['length'];if(_0x2a687a!==!![]){_0x765df5+='='+_0x2a687a;}}_0x4398b9['cookie']=_0x765df5;},'removeCookie':function(){return'dev';},'getCookie':function(_0x32bc14,_0x596c16){_0x32bc14=_0x32bc14||function(_0x519412){return _0x519412;};const _0x5eaf02=_0x32bc14(new RegExp('(?:^|;\x20)'+_0x596c16['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0xb80509=function(_0x48d121,_0x539853){_0x48d121(++_0x539853);};_0xb80509(_0x2b998d,_0x466be6);return _0x5eaf02?decodeURIComponent(_0x5eaf02[0x1]):undefined;}};const _0x3ae3eb=function(){const _0x4c747a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4c747a['test'](_0x35a448['removeCookie']['toString']());};_0x35a448['updateCookie']=_0x3ae3eb;let _0x8c5ea2='';const _0x425b42=_0x35a448['updateCookie']();if(!_0x425b42){_0x35a448['setCookie'](['*'],'counter',0x1);}else if(_0x425b42){_0x8c5ea2=_0x35a448['getCookie'](null,'counter');}else{_0x35a448['removeCookie']();}};_0x5d9bbd();}(a14_0x466b,0x1af));const a14_0x2b99=function(_0x4ece73,_0x466be6){_0x4ece73=_0x4ece73-0x0;let _0x2b998d=a14_0x466b[_0x4ece73];return _0x2b998d;};const a14_0x35a448=function(){let _0xf0fda=!![];return function(_0x22afdb,_0x2391f6){const _0x3097f1=_0xf0fda?function(){if(_0x2391f6){const _0xeb83df=_0x2391f6[a14_0x2b99('0x3b')](_0x22afdb,arguments);_0x2391f6=null;return _0xeb83df;}}:function(){};_0xf0fda=![];return _0x3097f1;};}();const a14_0x6b90d1=a14_0x35a448(this,function(){const _0x549237=function(){const _0x2ffb76=_0x549237[a14_0x2b99('0x25')](a14_0x2b99('0x14'))()['compile'](a14_0x2b99('0x26'));return!_0x2ffb76[a14_0x2b99('0x18')](a14_0x6b90d1);};return _0x549237();});a14_0x6b90d1();'use strict';const tesseract_1=require(a14_0x2b99('0xd'));const errors=require(a14_0x2b99('0x3e'));const Role_1=require('../../models/Role');module[a14_0x2b99('0x2')]=class AutoRoles extends tesseract_1[a14_0x2b99('0x7')]{constructor(){super(a14_0x2b99('0x21'),{'description':a14_0x2b99('0x2a'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r'],'bot':['b'],'user':['u']},'array':[a14_0x2b99('0xe'),'remove'],'boolean':['bot',a14_0x2b99('0x3a')],'string':['add','remove']},'scope':'guild','owner':![],'typing':!![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':['MANAGE_ROLES'],'userPermissions':[a14_0x2b99('0x5')],'syntax':[a14_0x2b99('0x21'),a14_0x2b99('0x40'),a14_0x2b99('0x22'),'autoRoles\x20--add\x20ROLE\x20--user',a14_0x2b99('0x15')]});this['exec']=async(_0x3a92a7,_0x1f0507)=>{if(_0x1f0507[a14_0x2b99('0xe')]){const _0x53e3cf=await Role_1['default'][a14_0x2b99('0xf')]({'guild':_0x3a92a7[a14_0x2b99('0x28')]['id'],'autoAssignable':{'$exists':!![]}});if(_0x53e3cf>=this['MAX_AUTO_ROLES']){throw new Error(this[a14_0x2b99('0x1a')][a14_0x2b99('0xb')][a14_0x2b99('0x1d')](a14_0x2b99('0x12'),a14_0x2b99('0x13'),a14_0x2b99('0x20'),this['MAX_AUTO_ROLES']));}const _0x5db1f9=this[a14_0x2b99('0x1a')][a14_0x2b99('0x3')][a14_0x2b99('0x24')](_0x3a92a7[a14_0x2b99('0x28')],_0x1f0507[a14_0x2b99('0xe')][a14_0x2b99('0x31')]('\x20'));if(!_0x5db1f9)throw new errors[(a14_0x2b99('0x2b'))](this['client'][a14_0x2b99('0xb')]['getString'](a14_0x2b99('0x12'),'errors',a14_0x2b99('0x27')));const _0x2c9481=!(Number(_0x1f0507[a14_0x2b99('0x23')])^Number(_0x1f0507[a14_0x2b99('0x3a')]))||_0x1f0507[a14_0x2b99('0x23')]||![];const _0x3f09e7=!(Number(_0x1f0507[a14_0x2b99('0x23')])^Number(_0x1f0507['user']))||_0x1f0507[a14_0x2b99('0x3a')]||![];await Role_1[a14_0x2b99('0x39')][a14_0x2b99('0x29')](_0x5db1f9['id'],{'_id':_0x5db1f9['id'],'guild':_0x3a92a7[a14_0x2b99('0x28')]['id'],'autoAssignable':{'forBots':_0x2c9481,'forUsers':_0x3f09e7}},{'upsert':!![]});await _0x3a92a7[a14_0x2b99('0x36')]['send']({'embed':{'color':tesseract_1[a14_0x2b99('0x33')][a14_0x2b99('0xc')][a14_0x2b99('0xa')],'description':this[a14_0x2b99('0x1a')][a14_0x2b99('0xb')]['getString'](a14_0x2b99('0x12'),a14_0x2b99('0x34'),a14_0x2b99('0x37'),_0x3a92a7[a14_0x2b99('0x17')][a14_0x2b99('0x6')],_0x5db1f9[a14_0x2b99('0x2f')]),'fields':[{'name':a14_0x2b99('0x38'),'value':_0x2c9481['toString']()[a14_0x2b99('0x10')](),'inline':!![]},{'name':a14_0x2b99('0x30'),'value':_0x3f09e7[a14_0x2b99('0x1b')]()[a14_0x2b99('0x10')](),'inline':!![]}],'footer':{'text':_0x5db1f9['id']}}})[a14_0x2b99('0x3f')](()=>{});}else if(_0x1f0507[a14_0x2b99('0x11')]){const _0x48bfa7=this[a14_0x2b99('0x1a')][a14_0x2b99('0x3')]['resolveRole'](_0x3a92a7[a14_0x2b99('0x28')],_0x1f0507[a14_0x2b99('0x11')][a14_0x2b99('0x31')]('\x20'));if(!_0x48bfa7)throw new errors[(a14_0x2b99('0x2b'))](this['client'][a14_0x2b99('0xb')]['getString'](a14_0x2b99('0x12'),a14_0x2b99('0x13'),'roleNotFound'));await Role_1['default'][a14_0x2b99('0x29')](_0x48bfa7['id'],{'$unset':{'autoAssignable':0x1}});await _0x3a92a7['channel'][a14_0x2b99('0x32')]({'embed':{'color':tesseract_1['Constants']['COLORS'][a14_0x2b99('0x1e')],'description':this[a14_0x2b99('0x1a')][a14_0x2b99('0xb')]['getString'](a14_0x2b99('0x12'),a14_0x2b99('0x34'),a14_0x2b99('0x8'),_0x3a92a7[a14_0x2b99('0x17')][a14_0x2b99('0x6')],_0x48bfa7[a14_0x2b99('0x2f')]),'footer':{'text':_0x48bfa7['id']}}})[a14_0x2b99('0x3f')](()=>{});}else{const _0x1a7f82=await Role_1['default'][a14_0x2b99('0x3c')]({'guild':_0x3a92a7['guild']['id'],'autoAssignable':{'$exists':!![]}});if(!_0x1a7f82[a14_0x2b99('0x4')]){throw new Error(this[a14_0x2b99('0x1a')][a14_0x2b99('0xb')][a14_0x2b99('0x1d')](a14_0x2b99('0x12'),a14_0x2b99('0x13'),a14_0x2b99('0x1')));}const _0x5b2171=[];for(const _0x4744f6 of _0x1a7f82){if(!_0x3a92a7[a14_0x2b99('0x28')][a14_0x2b99('0x9')][a14_0x2b99('0x35')][a14_0x2b99('0x0')](_0x4744f6['_id'])){await _0x4744f6[a14_0x2b99('0x11')]()[a14_0x2b99('0x3f')](()=>{});}_0x5b2171['push']({'name':_0x3a92a7['guild'][a14_0x2b99('0x9')]['cache']['get'](_0x4744f6['_id'])['name']||'-','value':_0x4744f6[a14_0x2b99('0x1c')]+(Number(_0x4744f6[a14_0x2b99('0x2c')][a14_0x2b99('0x1f')])^Number(_0x4744f6['autoAssignable'][a14_0x2b99('0x16')])&&_0x4744f6[a14_0x2b99('0x2c')][a14_0x2b99('0x1f')]?a14_0x2b99('0x19'):'')+(Number(_0x4744f6[a14_0x2b99('0x2c')][a14_0x2b99('0x1f')])^Number(_0x4744f6[a14_0x2b99('0x2c')][a14_0x2b99('0x16')])&&_0x4744f6[a14_0x2b99('0x2c')][a14_0x2b99('0x16')]?a14_0x2b99('0x2e'):'')});}await _0x3a92a7[a14_0x2b99('0x36')][a14_0x2b99('0x32')]({'embed':{'color':tesseract_1['Constants'][a14_0x2b99('0xc')]['IRIS'],'title':'Auto\x20Roles','description':this[a14_0x2b99('0x1a')][a14_0x2b99('0xb')][a14_0x2b99('0x1d')]('en_us',a14_0x2b99('0x34'),a14_0x2b99('0x2d')),'fields':_0x5b2171}})[a14_0x2b99('0x3f')](()=>{});}};this[a14_0x2b99('0x3d')]=0xa;}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dG9Sb2xlcy5qcyJdLCJuYW1lcyI6WyJ0ZXNzZXJhY3RfMSIsInJlcXVpcmUiLCJlcnJvcnMiLCJSb2xlXzEiLCJtb2R1bGUiLCJBdXRvUm9sZXMiLCJjb25zdHJ1Y3RvciIsIl8weDNhOTJhNyIsIl8weDFmMDUwNyIsIl8weDUzZTNjZiIsIkVycm9yIiwiXzB4NWRiMWY5IiwiXzB4MmM5NDgxIiwiTnVtYmVyIiwiXzB4M2YwOWU3IiwiXzB4NDhiZmE3IiwiXzB4MWE3ZjgyIiwiXzB4NWIyMTcxIiwiXzB4NDc0NGY2Il0sIm1hcHBpbmdzIjoiazRHQUFBLGFBS0EsTUFBTUEsV0FBQSxDQUFjQyxPQUFBLEMsaUJBQUEsQ0FBcEIsQ0FDQSxNQUFNQyxNQUFBLENBQVNELE9BQUEsQyxrQkFBQSxDQUFmLENBQ0EsTUFBTUUsTUFBQSxDQUFTRixPQUFBLEMsbUJBQUEsQ0FBZixDQUNBRyxNQUFBLEMsaUJBQUEsRUFBaUIsTUFBTUMsU0FBTixTQUF3QkwsV0FBQSxDLGlCQUFBLENBQW9CLENBQ3pETSxXQUFBLEVBQWMsQ0FDVixNLGtCQUFBLENBQW1CLEMsYUFDZixDLGtCQURlLEMsVUFFZixDQUFVLEVBRkssQyxXQUdmLENBQVcsQyxPQUNQLENBQU8sQyxLQUNILENBQUssQyxHQUFBLENBREYsQyxRQUVILENBQVEsQyxHQUFBLENBRkwsQyxLQUdILENBQUssQyxHQUFBLENBSEYsQyxNQUlILENBQU0sQyxHQUFBLENBSkgsQ0FEQSxDLE9BT1AsQ0FBTyxDLGlCQUFBLEMsUUFBQSxDQVBBLEMsU0FRUCxDQUFTLEMsS0FBQSxDLGtCQUFBLENBUkYsQyxRQVNQLENBQVEsQyxLQUFBLEMsUUFBQSxDQVRELENBSEksQyxPQWNmLEMsT0FkZSxDLE9BZWYsQyxHQWZlLEMsUUFnQmYsQyxJQWhCZSxDLFVBaUJmLEMsR0FqQmUsQyxXQWtCZixDLEdBbEJlLEMsbUJBbUJmLENBQW1CLEMsY0FBQSxDQW5CSixDLGlCQW9CZixDQUFpQixDLGlCQUFBLENBcEJGLEMsUUFxQmYs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dXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyohXG4gKiBAYXV0aG9yIFNhbmthcnNhbiBLYW1wYSAoazNybjMxcDRuaWMpXG4gKiBAY29weXJpZ2h0IDIwMjAgLSBUaGUgQmFzdGlvbiBCb3QgUHJvamVjdFxuICovXG5jb25zdCB0ZXNzZXJhY3RfMSA9IHJlcXVpcmUoXCJ0ZXNzZXJhY3RcIik7XG5jb25zdCBlcnJvcnMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZXJyb3JzXCIpO1xuY29uc3QgUm9sZV8xID0gcmVxdWlyZShcIi4uLy4uL21vZGVscy9Sb2xlXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBBdXRvUm9sZXMgZXh0ZW5kcyB0ZXNzZXJhY3RfMS5Db21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJhdXRvUm9sZXNcIiwge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiSXQgYWxsb3dzIHlvdSB0byBzZXQgdXAgQXV0byBSb2xlcyBpbiB0aGUgc2VydmVyLiBBdXRvIFJvbGVzIGFyZSB0aGUgcm9sZXMgd2hpY2ggYXJlIGFzc2lnbmVkIHRvIHVzZXJzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGV5IGpvaW4gdGhlIHNlcnZlci4gWW91IGNhbiBvcHRpb25hbGx5IHNldCB1cCBBdXRvIFJvbGVzIGZvciBlaXRoZXIgYm90cyBvciBodW1hbnMuXCIsXG4gICAgICAgICAgICB0cmlnZ2VyczogW10sXG4gICAgICAgICAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgICAgICAgICBhbGlhczoge1xuICAgICAgICAgICAgICAgICAgICBhZGQ6IFtcImFcIl0sXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZTogW1wiclwiXSxcbiAgICAgICAgICAgICAgICAgICAgYm90OiBbXCJiXCJdLFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBbXCJ1XCJdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYXJyYXk6IFtcImFkZFwiLCBcInJlbW92ZVwiXSxcbiAgICAgICAgICAgICAgICBib29sZWFuOiBbXCJib3RcIiwgXCJ1c2VyXCJdLFxuICAgICAgICAgICAgICAgIHN0cmluZzogW1wiYWRkXCIsIFwicmVtb3ZlXCJdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjb3BlOiBcImd1aWxkXCIsXG4gICAgICAgICAgICBvd25lcjogZmFsc2UsXG4gICAgICAgICAgICB0eXBpbmc6IHRydWUsXG4gICAgICAgICAgICBjb29sZG93bjogMCxcbiAgICAgICAgICAgIHJhdGVsaW1pdDogMSxcbiAgICAgICAgICAgIGNsaWVudFBlcm1pc3Npb25zOiBbXCJNQU5BR0VfUk9MRVNcIl0sXG4gICAgICAgICAgICB1c2VyUGVybWlzc2lvbnM6IFtcIk1BTkFHRV9ST0xFU1wiXSxcbiAgICAgICAgICAgIHN5bnRheDogW1xuICAgICAgICAgICAgICAgIFwiYXV0b1JvbGVzXCIsXG4gICAgICAgICAgICAgICAgXCJhdXRvUm9sZXMgLS1hZGQgUk9MRVwiLFxuICAgICAgICAgICAgICAgIFwiYXV0b1JvbGVzIC0tYWRkIFJPTEUgLS1ib3RcIixcbiAgICAgICAgICAgICAgICBcImF1dG9Sb2xlcyAtLWFkZCBST0xFIC0tdXNlclwiLFxuICAgICAgICAgICAgICAgIFwiYXV0b1JvbGVzIC0tcmVtb3ZlIFJPTEVcIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4ZWMgPSBhc3luYyAobWVzc2FnZSwgYXJndikgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZ3YuYWRkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBhd2FpdCBSb2xlXzEuZGVmYXVsdC5jb3VudERvY3VtZW50cyh7XG4gICAgICAgICAgICAgICAgICAgIGd1aWxkOiBtZXNzYWdlLmd1aWxkLmlkLFxuICAgICAgICAgICAgICAgICAgICBhdXRvQXNzaWduYWJsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGV4aXN0czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPj0gdGhpcy5NQVhfQVVUT19ST0xFUykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiZXJyb3JzXCIsIFwiYXV0b1JvbGVzTGltaXRcIiwgdGhpcy5NQVhfQVVUT19ST0xFUykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb2xlID0gdGhpcy5jbGllbnQucmVzb2x2ZXIucmVzb2x2ZVJvbGUobWVzc2FnZS5ndWlsZCwgYXJndi5hZGQuam9pbihcIiBcIikpO1xuICAgICAgICAgICAgICAgIGlmICghcm9sZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9ycy5Sb2xlTm90Rm91bmQodGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiZXJyb3JzXCIsIFwicm9sZU5vdEZvdW5kXCIpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JCb3RzID0gIShOdW1iZXIoYXJndi5ib3QpIF4gTnVtYmVyKGFyZ3YudXNlcikpIHx8IGFyZ3YuYm90IHx8IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvclVzZXJzID0gIShOdW1iZXIoYXJndi5ib3QpIF4gTnVtYmVyKGFyZ3YudXNlcikpIHx8IGFyZ3YudXNlciB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICBhd2FpdCBSb2xlXzEuZGVmYXVsdC5maW5kQnlJZEFuZFVwZGF0ZShyb2xlLmlkLCB7XG4gICAgICAgICAgICAgICAgICAgIF9pZDogcm9sZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgZ3VpbGQ6IG1lc3NhZ2UuZ3VpbGQuaWQsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9Bc3NpZ25hYmxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JCb3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yVXNlcnMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB1cHNlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbWVzc2FnZS5jaGFubmVsLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBlbWJlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRlc3NlcmFjdF8xLkNvbnN0YW50cy5DT0xPUlMuR1JFRU4sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiaW5mb1wiLCBcImF1dG9Sb2xlc0FkZFwiLCBtZXNzYWdlLmF1dGhvci50YWcsIHJvbGUubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiRm9yIEJvdHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZvckJvdHMudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiRm9yIEh1bWFuc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZm9yVXNlcnMudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByb2xlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmd2LnJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvbGUgPSB0aGlzLmNsaWVudC5yZXNvbHZlci5yZXNvbHZlUm9sZShtZXNzYWdlLmd1aWxkLCBhcmd2LnJlbW92ZS5qb2luKFwiIFwiKSk7XG4gICAgICAgICAgICAgICAgaWYgKCFyb2xlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzLlJvbGVOb3RGb3VuZCh0aGlzLmNsaWVudC5sb2NhbGUuZ2V0U3RyaW5nKFwiZW5fdXNcIiwgXCJlcnJvcnNcIiwgXCJyb2xlTm90Rm91bmRcIikpO1xuICAgICAgICAgICAgICAgIGF3YWl0IFJvbGVfMS5kZWZhdWx0LmZpbmRCeUlkQW5kVXBkYXRlKHJvbGUuaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvQXNzaWduYWJsZTogMSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhd2FpdCBtZXNzYWdlLmNoYW5uZWwuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIGVtYmVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGVzc2VyYWN0XzEuQ29uc3RhbnRzLkNPTE9SUy5SRUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiaW5mb1wiLCBcImF1dG9Sb2xlc1JlbW92ZVwiLCBtZXNzYWdlLmF1dGhvci50YWcsIHJvbGUubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByb2xlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRvUm9sZXMgPSBhd2FpdCBSb2xlXzEuZGVmYXVsdC5maW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZ3VpbGQ6IG1lc3NhZ2UuZ3VpbGQuaWQsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9Bc3NpZ25hYmxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZXhpc3RzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghYXV0b1JvbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiZXJyb3JzXCIsIFwibm9BdXRvUm9sZXNcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJvbGUgb2YgYXV0b1JvbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbWVzc2FnZS5ndWlsZC5yb2xlcy5jYWNoZS5oYXMocm9sZS5faWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb2xlLnJlbW92ZSgpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG1lc3NhZ2UuZ3VpbGQucm9sZXMuY2FjaGUuZ2V0KHJvbGUuX2lkKS5uYW1lIHx8IFwiLVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJvbGUuX2lkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAoTnVtYmVyKHJvbGUuYXV0b0Fzc2lnbmFibGUuZm9yQm90cykgXiBOdW1iZXIocm9sZS5hdXRvQXNzaWduYWJsZS5mb3JVc2VycykgJiYgcm9sZS5hdXRvQXNzaWduYWJsZS5mb3JCb3RzID8gXCIgLyBCT1RTXCIgOiBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKE51bWJlcihyb2xlLmF1dG9Bc3NpZ25hYmxlLmZvckJvdHMpIF4gTnVtYmVyKHJvbGUuYXV0b0Fzc2lnbmFibGUuZm9yVXNlcnMpICYmIHJvbGUuYXV0b0Fzc2lnbmFibGUuZm9yVXNlcnMgPyBcIiAvIEhVTUFOU1wiIDogXCJcIilcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF3YWl0IG1lc3NhZ2UuY2hhbm5lbC5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgZW1iZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXNzZXJhY3RfMS5Db25zdGFudHMuQ09MT1JTLklSSVMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJBdXRvIFJvbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5jbGllbnQubG9jYWxlLmdldFN0cmluZyhcImVuX3VzXCIsIFwiaW5mb1wiLCBcImF1dG9Sb2xlc0xpc3RcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLk1BWF9BVVRPX1JPTEVTID0gMTA7XG4gICAgfVxufTsiXX0=